; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9466 

	TITLE	CSkyDome.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0CA@JKDNKDFP@CSkyDome?3?3RestoreDeviceObjects?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0EK@CACKMJAG@c?3?2documents?5and?5settings?2dom?2my@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@LBICMIN@NULL?5?$DN?$DN?5m_pSkyMesh?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@EHFPIBMM@NULL?5?$CB?$DN?5m_pSkyMesh?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asinf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@PBM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@ABU_D3DMATRIX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0CSkyDome@@QAE@M_NH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1CSkyDome@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?InvalidateDeviceObjects@CSkyDome@@QAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCTextures@@PAKPAUD3DXMATRIX@@PAUD3DXVECTOR3@@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FrameMove@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCUserInput@@MPAVCCamera@@PAUD3DXMATRIX@@PAU_D3DVIEWPORT8@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?CreateMappedSphere@CSkyDome@@QAEPAUID3DXMesh@@PAUIDirect3DDevice8@@MII@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__LINE__Var@?1??RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z@4JA
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

CONST	SEGMENT
_g_PI	DD	040490fdbr			; 3.14159
CONST	ENDS
PUBLIC	??0CSkyDome@@QAE@M_NH@Z				; CSkyDome::CSkyDome
EXTRN	__RTC_InitBase:NEAR
EXTRN	__RTC_Shutdown:NEAR
EXTRN	__fltused:NEAR
;	COMDAT rtc$IMZ
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\cskydome.cpp
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
; Function compile flags: /Odt /RTCsu /ZI
rtc$TMZ	ENDS
;	COMDAT ??0CSkyDome@@QAE@M_NH@Z
_TEXT	SEGMENT
_this$ = -8
_f$ = 8
_bBlackSky$ = 12
_nStacksAndSlices$ = 16
??0CSkyDome@@QAE@M_NH@Z PROC NEAR			; CSkyDome::CSkyDome, COMDAT
; _this$ = ecx

; 4    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 5    : 	m_pSkyMesh = NULL ;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0

; 6    : 	m_fDiam = f ;

  0002d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00030	8b 4d 08	 mov	 ecx, DWORD PTR _f$[ebp]
  00033	89 08		 mov	 DWORD PTR [eax], ecx

; 7    : 	m_nStacksAndSlices = nStacksAndSlices ;

  00035	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00038	8b 4d 10	 mov	 ecx, DWORD PTR _nStacksAndSlices$[ebp]
  0003b	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 8    : }

  0003e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00041	5f		 pop	 edi
  00042	5e		 pop	 esi
  00043	5b		 pop	 ebx
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c2 0c 00	 ret	 12			; 0000000cH
??0CSkyDome@@QAE@M_NH@Z ENDP				; CSkyDome::CSkyDome
_TEXT	ENDS
PUBLIC	??1CSkyDome@@QAE@XZ				; CSkyDome::~CSkyDome
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ??1CSkyDome@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??1CSkyDome@@QAE@XZ PROC NEAR				; CSkyDome::~CSkyDome, COMDAT
; _this$ = ecx

; 11   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 12   : }

  00023	5f		 pop	 edi
  00024	5e		 pop	 esi
  00025	5b		 pop	 ebx
  00026	8b e5		 mov	 esp, ebp
  00028	5d		 pop	 ebp
  00029	c3		 ret	 0
??1CSkyDome@@QAE@XZ ENDP				; CSkyDome::~CSkyDome
_TEXT	ENDS
PUBLIC	?CreateMappedSphere@CSkyDome@@QAEPAUID3DXMesh@@PAUIDirect3DDevice8@@MII@Z ; CSkyDome::CreateMappedSphere
PUBLIC	?RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z ; CSkyDome::RestoreDeviceObjects
PUBLIC	??_C@_0CA@JKDNKDFP@CSkyDome?3?3RestoreDeviceObjects?6?$AA@ ; `string'
PUBLIC	?__LINE__Var@?1??RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z@4JA ; `CSkyDome::RestoreDeviceObjects'::`2'::__LINE__Var
PUBLIC	??_C@_0EK@CACKMJAG@c?3?2documents?5and?5settings?2dom?2my@ ; `string'
PUBLIC	??_C@_0BD@LBICMIN@NULL?5?$DN?$DN?5m_pSkyMesh?$AA@ ; `string'
PUBLIC	??_C@_0BD@EHFPIBMM@NULL?5?$CB?$DN?5m_pSkyMesh?$AA@ ; `string'
EXTRN	__RTC_CheckEsp:NEAR
EXTRN	__assert:NEAR
EXTRN	?ods@@YAXPADZZ:NEAR				; ods
;	COMDAT ??_C@_0CA@JKDNKDFP@CSkyDome?3?3RestoreDeviceObjects?6?$AA@
CONST	SEGMENT
??_C@_0CA@JKDNKDFP@CSkyDome?3?3RestoreDeviceObjects?6?$AA@ DB 'CSkyDome::'
	DB	'RestoreDeviceObjects', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z@4JA DD 0fH ; `CSkyDome::RestoreDeviceObjects'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EK@CACKMJAG@c?3?2documents?5and?5settings?2dom?2my@
CONST	SEGMENT
??_C@_0EK@CACKMJAG@c?3?2documents?5and?5settings?2dom?2my@ DB 'c:\documen'
	DB	'ts and settings\dom\my documents\_dev\ae\xlr8a\x7g\cskydome.c'
	DB	'pp', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@LBICMIN@NULL?5?$DN?$DN?5m_pSkyMesh?$AA@
CONST	SEGMENT
??_C@_0BD@LBICMIN@NULL?5?$DN?$DN?5m_pSkyMesh?$AA@ DB 'NULL == m_pSkyMesh', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@EHFPIBMM@NULL?5?$CB?$DN?5m_pSkyMesh?$AA@
CONST	SEGMENT
??_C@_0BD@EHFPIBMM@NULL?5?$CB?$DN?5m_pSkyMesh?$AA@ DB 'NULL != m_pSkyMesh'
	DB	00H						; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z
_TEXT	SEGMENT
_this$ = -8
_pD3D$ = 8
_pDev$ = 12
?RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z PROC NEAR ; CSkyDome::RestoreDeviceObjects, COMDAT
; _this$ = ecx

; 15   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 16   : 	ods( "CSkyDome::RestoreDeviceObjects\n" );

  00023	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CA@JKDNKDFP@CSkyDome?3?3RestoreDeviceObjects?6?$AA@
  00028	e8 00 00 00 00	 call	 ?ods@@YAXPADZZ		; ods
  0002d	83 c4 04	 add	 esp, 4

; 17   : 
; 18   : 	assert( NULL == m_pSkyMesh );

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  00037	74 1c		 je	 SHORT $L85078
  00039	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?1??RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z@4JA
  0003f	83 c1 03	 add	 ecx, 3
  00042	51		 push	 ecx
  00043	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0EK@CACKMJAG@c?3?2documents?5and?5settings?2dom?2my@
  00048	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@LBICMIN@NULL?5?$DN?$DN?5m_pSkyMesh?$AA@
  0004d	e8 00 00 00 00	 call	 __assert
  00052	83 c4 0c	 add	 esp, 12			; 0000000cH
$L85078:

; 19   : 	m_pSkyMesh = CreateMappedSphere( pDev, 1, m_nStacksAndSlices, m_nStacksAndSlices );

  00055	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00058	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0005b	51		 push	 ecx
  0005c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0005f	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00062	50		 push	 eax
  00063	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00068	8b 4d 0c	 mov	 ecx, DWORD PTR _pDev$[ebp]
  0006b	51		 push	 ecx
  0006c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0006f	e8 00 00 00 00	 call	 ?CreateMappedSphere@CSkyDome@@QAEPAUID3DXMesh@@PAUIDirect3DDevice8@@MII@Z ; CSkyDome::CreateMappedSphere
  00074	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00077	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 20   : 	assert( NULL != m_pSkyMesh );

  0007a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007d	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  00081	75 1c		 jne	 SHORT $L85079
  00083	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?__LINE__Var@?1??RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z@4JA
  00089	83 c1 05	 add	 ecx, 5
  0008c	51		 push	 ecx
  0008d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0EK@CACKMJAG@c?3?2documents?5and?5settings?2dom?2my@
  00092	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@EHFPIBMM@NULL?5?$CB?$DN?5m_pSkyMesh?$AA@
  00097	e8 00 00 00 00	 call	 __assert
  0009c	83 c4 0c	 add	 esp, 12			; 0000000cH
$L85079:

; 21   : 
; 22   : 	return S_OK ;

  0009f	33 c0		 xor	 eax, eax

; 23   : }

  000a1	5f		 pop	 edi
  000a2	5e		 pop	 esi
  000a3	5b		 pop	 ebx
  000a4	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000aa	3b ec		 cmp	 ebp, esp
  000ac	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b1	8b e5		 mov	 esp, ebp
  000b3	5d		 pop	 ebp
  000b4	c2 08 00	 ret	 8
?RestoreDeviceObjects@CSkyDome@@QAEJPAUIDirect3D8@@PAUIDirect3DDevice8@@@Z ENDP ; CSkyDome::RestoreDeviceObjects
_TEXT	ENDS
PUBLIC	?InvalidateDeviceObjects@CSkyDome@@QAEJXZ	; CSkyDome::InvalidateDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?InvalidateDeviceObjects@CSkyDome@@QAEJXZ
_TEXT	SEGMENT
_this$ = -8
?InvalidateDeviceObjects@CSkyDome@@QAEJXZ PROC NEAR	; CSkyDome::InvalidateDeviceObjects, COMDAT
; _this$ = ecx

; 26   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 27   : 	SAFE_RELEASE( m_pSkyMesh )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  0002a	74 25		 je	 SHORT $L84981
  0002c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  00038	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0003a	8b f4		 mov	 esi, esp
  0003c	50		 push	 eax
  0003d	ff 51 08	 call	 DWORD PTR [ecx+8]
  00040	3b f4		 cmp	 esi, esp
  00042	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00047	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0
$L84981:

; 28   : 	return S_OK ;

  00051	33 c0		 xor	 eax, eax

; 29   : }

  00053	5f		 pop	 edi
  00054	5e		 pop	 esi
  00055	5b		 pop	 ebx
  00056	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0005c	3b ec		 cmp	 ebp, esp
  0005e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00063	8b e5		 mov	 esp, ebp
  00065	5d		 pop	 ebp
  00066	c3		 ret	 0
?InvalidateDeviceObjects@CSkyDome@@QAEJXZ ENDP		; CSkyDome::InvalidateDeviceObjects
_TEXT	ENDS
PUBLIC	??0D3DXMATRIX@@QAE@XZ				; D3DXMATRIX::D3DXMATRIX
PUBLIC	?Render@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCTextures@@PAKPAUD3DXMATRIX@@PAUD3DXVECTOR3@@M@Z ; CSkyDome::Render
EXTRN	@_RTC_CheckStackVars@8:NEAR
EXTRN	_D3DXMatrixScaling@16:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?Render@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCTextures@@PAKPAUD3DXMATRIX@@PAUD3DXVECTOR3@@M@Z
_TEXT	SEGMENT
_matScale$ = -80
_this$ = -8
_pDev$ = 8
_pTex$ = 12
_pulPolyCount$ = 16
_pmatCurWorld$ = 20
_pvEyePt$ = 24
_fFPS$ = 28
?Render@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCTextures@@PAKPAUD3DXMATRIX@@PAUD3DXVECTOR3@@M@Z PROC NEAR ; CSkyDome::Render, COMDAT
; _this$ = ecx

; 32   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 01 00
	00		 sub	 esp, 276		; 00000114H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd ec fe ff
	ff		 lea	 edi, DWORD PTR [ebp-276]
  00013	b9 45 00 00 00	 mov	 ecx, 69			; 00000045H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 33   : 	xMat matScale ; D3DXMatrixScaling( &matScale, m_fDiam, m_fDiam, m_fDiam );

  00023	8d 4d b0	 lea	 ecx, DWORD PTR _matScale$[ebp]
  00026	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX
  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00030	51		 push	 ecx
  00031	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00034	8b 02		 mov	 eax, DWORD PTR [edx]
  00036	50		 push	 eax
  00037	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003a	8b 11		 mov	 edx, DWORD PTR [ecx]
  0003c	52		 push	 edx
  0003d	8d 45 b0	 lea	 eax, DWORD PTR _matScale$[ebp]
  00040	50		 push	 eax
  00041	e8 00 00 00 00	 call	 _D3DXMatrixScaling@16

; 34   : 	pDev->SetTransform( D3DTS_WORLD, &matScale );

  00046	8b f4		 mov	 esi, esp
  00048	8d 45 b0	 lea	 eax, DWORD PTR _matScale$[ebp]
  0004b	50		 push	 eax
  0004c	68 00 01 00 00	 push	 256			; 00000100H
  00051	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  00054	8b 11		 mov	 edx, DWORD PTR [ecx]
  00056	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  00059	50		 push	 eax
  0005a	ff 92 94 00 00
	00		 call	 DWORD PTR [edx+148]
  00060	3b f4		 cmp	 esi, esp
  00062	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 35   : 	
; 36   : 	pDev->SetTexture( 0, pTex->m_pTex[ MISC_TEX_START + 1 ] );

  00067	8b f4		 mov	 esi, esp
  00069	8b 45 0c	 mov	 eax, DWORD PTR _pTex$[ebp]
  0006c	8b 88 10 0b 00
	00		 mov	 ecx, DWORD PTR [eax+2832]
  00072	51		 push	 ecx
  00073	6a 00		 push	 0
  00075	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  00078	8b 02		 mov	 eax, DWORD PTR [edx]
  0007a	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  0007d	51		 push	 ecx
  0007e	ff 90 f4 00 00
	00		 call	 DWORD PTR [eax+244]
  00084	3b f4		 cmp	 esi, esp
  00086	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 37   : 
; 38   : 	/*static float X0 = 0 ;
; 39   : 	pDev->SetTextureStageState( 0, D3DTSS_TEXTURETRANSFORMFLAGS, D3DTTFF_COUNT2 );
; 40   : 	xMat matTex ; D3DXMatrixTranslation( &matTex, 0, X0, 0 );	
; 41   : 	X0 += 0.005f * ( 60 / fFPS );
; 42   : 	pDev->SetTransform( D3DTS_TEXTURE0, &matTex );*/
; 43   : 
; 44   : 	/*pDev->SetRenderState( D3DRS_NORMALIZENORMALS, TRUE );
; 45   : 	pDev->SetTextureStageState( 0, D3DTSS_TEXCOORDINDEX,
; 46   : 									//D3DTSS_TCI_CAMERASPACEPOSITION
; 47   : 									//D3DTSS_TCI_CAMERASPACEREFLECTIONVECTOR
; 48   : 									D3DTSS_TCI_CAMERASPACENORMAL );*/
; 49   : 
; 50   : 	m_pSkyMesh->DrawSubset( 0 );

  0008b	8b f4		 mov	 esi, esp
  0008d	6a 00		 push	 0
  0008f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00092	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00095	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00098	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  0009b	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0009d	50		 push	 eax
  0009e	ff 51 0c	 call	 DWORD PTR [ecx+12]
  000a1	3b f4		 cmp	 esi, esp
  000a3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 51   : 	*pulPolyCount += m_pSkyMesh->GetNumFaces() ;

  000a8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ab	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  000ae	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b1	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000b4	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000b6	8b f4		 mov	 esi, esp
  000b8	50		 push	 eax
  000b9	ff 51 10	 call	 DWORD PTR [ecx+16]
  000bc	3b f4		 cmp	 esi, esp
  000be	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c3	8b 55 10	 mov	 edx, DWORD PTR _pulPolyCount$[ebp]
  000c6	03 02		 add	 eax, DWORD PTR [edx]
  000c8	8b 4d 10	 mov	 ecx, DWORD PTR _pulPolyCount$[ebp]
  000cb	89 01		 mov	 DWORD PTR [ecx], eax

; 52   : 
; 53   : 	/*pDev->SetTextureStageState( 0, D3DTSS_TEXCOORDINDEX, D3DTSS_TCI_PASSTHRU );
; 54   : 
; 55   : 	pDev->SetTextureStageState( 0, D3DTSS_TEXTURETRANSFORMFLAGS, D3DTTFF_DISABLE );*/
; 56   : 
; 57   : 	return S_OK ;

  000cd	33 c0		 xor	 eax, eax

; 58   : }

  000cf	52		 push	 edx
  000d0	8b cd		 mov	 ecx, ebp
  000d2	50		 push	 eax
  000d3	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L85087
  000d9	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000de	58		 pop	 eax
  000df	5a		 pop	 edx
  000e0	5f		 pop	 edi
  000e1	5e		 pop	 esi
  000e2	5b		 pop	 ebx
  000e3	81 c4 14 01 00
	00		 add	 esp, 276		; 00000114H
  000e9	3b ec		 cmp	 ebp, esp
  000eb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000f0	8b e5		 mov	 esp, ebp
  000f2	5d		 pop	 ebp
  000f3	c2 18 00	 ret	 24			; 00000018H
$L85087:
  000f6	01 00 00 00	 DD	 1
  000fa	00 00 00 00	 DD	 $L85086
$L85086:
  000fe	b0 ff ff ff	 DD	 -80			; ffffffb0H
  00102	40 00 00 00	 DD	 64			; 00000040H
  00106	00 00 00 00	 DD	 $L85085
$L85085:
  0010a	6d		 DB	 109			; 0000006dH
  0010b	61		 DB	 97			; 00000061H
  0010c	74		 DB	 116			; 00000074H
  0010d	53		 DB	 83			; 00000053H
  0010e	63		 DB	 99			; 00000063H
  0010f	61		 DB	 97			; 00000061H
  00110	6c		 DB	 108			; 0000006cH
  00111	65		 DB	 101			; 00000065H
  00112	00		 DB	 0
?Render@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCTextures@@PAKPAUD3DXMATRIX@@PAUD3DXVECTOR3@@M@Z ENDP ; CSkyDome::Render
_TEXT	ENDS
PUBLIC	?FrameMove@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCUserInput@@MPAVCCamera@@PAUD3DXMATRIX@@PAU_D3DVIEWPORT8@@@Z ; CSkyDome::FrameMove
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?FrameMove@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCUserInput@@MPAVCCamera@@PAUD3DXMATRIX@@PAU_D3DVIEWPORT8@@@Z
_TEXT	SEGMENT
_this$ = -8
_pDev$ = 8
_pInput$ = 12
_fFPS$ = 16
_pCamera$ = 20
_pmatProj$ = 24
_pVP$ = 28
?FrameMove@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCUserInput@@MPAVCCamera@@PAUD3DXMATRIX@@PAU_D3DVIEWPORT8@@@Z PROC NEAR ; CSkyDome::FrameMove, COMDAT
; _this$ = ecx

; 61   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 62   : 	return S_OK ;

  00023	33 c0		 xor	 eax, eax

; 63   : }

  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 18 00	 ret	 24			; 00000018H
?FrameMove@CSkyDome@@QAEJPAUIDirect3DDevice8@@PAVCUserInput@@MPAVCCamera@@PAUD3DXMATRIX@@PAU_D3DVIEWPORT8@@@Z ENDP ; CSkyDome::FrameMove
_TEXT	ENDS
PUBLIC	__real@40000000
PUBLIC	_asinf
PUBLIC	??0D3DXVECTOR3@@QAE@MMM@Z			; D3DXVECTOR3::D3DXVECTOR3
EXTRN	_D3DXVec3Normalize@8:NEAR
EXTRN	_D3DXCreateSphere@24:NEAR
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?CreateMappedSphere@CSkyDome@@QAEPAUID3DXMesh@@PAUIDirect3DDevice8@@MII@Z
_TEXT	SEGMENT
_v$85029 = -112
_t$85028 = -92
_i$85024 = -80
_numVerts$85023 = -68
_pVerts$ = -56
_pMesh$ = -44
_mesh$ = -32
_fRad$ = -20
_this$ = -8
_pDev$ = 8
_fDiam$ = 12
_slices$ = 16
_stacks$ = 20
?CreateMappedSphere@CSkyDome@@QAEPAUID3DXMesh@@PAUIDirect3DDevice8@@MII@Z PROC NEAR ; CSkyDome::CreateMappedSphere, COMDAT
; _this$ = ecx

; 67   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 34 01 00
	00		 sub	 esp, 308		; 00000134H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd cc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-308]
  00013	b9 4d 00 00 00	 mov	 ecx, 77			; 0000004dH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 68   : 	float fRad = fDiam / 2 ;

  00023	d9 45 0c	 fld	 DWORD PTR _fDiam$[ebp]
  00026	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@40000000
  0002c	d9 5d ec	 fstp	 DWORD PTR _fRad$[ebp]

; 69   :     // create the sphere
; 70   :     LPD3DXMESH mesh;
; 71   :     if (FAILED(D3DXCreateSphere(pDev,fRad,slices,stacks,&mesh,NULL)))

  0002f	6a 00		 push	 0
  00031	8d 45 e0	 lea	 eax, DWORD PTR _mesh$[ebp]
  00034	50		 push	 eax
  00035	8b 4d 14	 mov	 ecx, DWORD PTR _stacks$[ebp]
  00038	51		 push	 ecx
  00039	8b 55 10	 mov	 edx, DWORD PTR _slices$[ebp]
  0003c	52		 push	 edx
  0003d	8b 45 ec	 mov	 eax, DWORD PTR _fRad$[ebp]
  00040	50		 push	 eax
  00041	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  00044	51		 push	 ecx
  00045	e8 00 00 00 00	 call	 _D3DXCreateSphere@24
  0004a	85 c0		 test	 eax, eax
  0004c	7d 07		 jge	 SHORT $L85015

; 72   :         return NULL;

  0004e	33 c0		 xor	 eax, eax
  00050	e9 42 01 00 00	 jmp	 $L85011
$L85015:

; 73   : 
; 74   : 	LPD3DXMESH pMesh ;
; 75   : 
; 76   :     // create a copy of the mesh with texture coordinates,
; 77   :     // since the D3DX function doesn't include them
; 78   :     if (FAILED(mesh->CloneMeshFVF(D3DXMESH_SYSTEMMEM,MYFVF_UNCOLOREDVERTEX,pDev,&pMesh)))

  00055	8b f4		 mov	 esi, esp
  00057	8d 45 d4	 lea	 eax, DWORD PTR _pMesh$[ebp]
  0005a	50		 push	 eax
  0005b	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  0005e	51		 push	 ecx
  0005f	68 12 01 00 00	 push	 274			; 00000112H
  00064	68 10 01 00 00	 push	 272			; 00000110H
  00069	8b 55 e0	 mov	 edx, DWORD PTR _mesh$[ebp]
  0006c	8b 02		 mov	 eax, DWORD PTR [edx]
  0006e	8b 4d e0	 mov	 ecx, DWORD PTR _mesh$[ebp]
  00071	51		 push	 ecx
  00072	ff 50 28	 call	 DWORD PTR [eax+40]
  00075	3b f4		 cmp	 esi, esp
  00077	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0007c	85 c0		 test	 eax, eax
  0007e	7d 07		 jge	 SHORT $L85018

; 79   :         return NULL ;

  00080	33 c0		 xor	 eax, eax
  00082	e9 10 01 00 00	 jmp	 $L85011
$L85018:

; 80   : 
; 81   :     // finished with the original mesh, release it
; 82   :     mesh->Release();

  00087	8b 45 e0	 mov	 eax, DWORD PTR _mesh$[ebp]
  0008a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0008c	8b f4		 mov	 esi, esp
  0008e	8b 55 e0	 mov	 edx, DWORD PTR _mesh$[ebp]
  00091	52		 push	 edx
  00092	ff 51 08	 call	 DWORD PTR [ecx+8]
  00095	3b f4		 cmp	 esi, esp
  00097	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 83   : 
; 84   :     // lock the vertex buffer
; 85   :     UNCOLOREDVERTEX* pVerts;
; 86   :     if (SUCCEEDED(pMesh->LockVertexBuffer(0,(BYTE **) &pVerts))) {

  0009c	8b f4		 mov	 esi, esp
  0009e	8d 45 c8	 lea	 eax, DWORD PTR _pVerts$[ebp]
  000a1	50		 push	 eax
  000a2	6a 00		 push	 0
  000a4	8b 4d d4	 mov	 ecx, DWORD PTR _pMesh$[ebp]
  000a7	8b 11		 mov	 edx, DWORD PTR [ecx]
  000a9	8b 45 d4	 mov	 eax, DWORD PTR _pMesh$[ebp]
  000ac	50		 push	 eax
  000ad	ff 52 38	 call	 DWORD PTR [edx+56]
  000b0	3b f4		 cmp	 esi, esp
  000b2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b7	85 c0		 test	 eax, eax
  000b9	0f 8c d5 00 00
	00		 jl	 $L85022

; 87   : 
; 88   :         // get vertex count
; 89   :         int numVerts=pMesh->GetNumVertices();

  000bf	8b 45 d4	 mov	 eax, DWORD PTR _pMesh$[ebp]
  000c2	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c4	8b f4		 mov	 esi, esp
  000c6	8b 55 d4	 mov	 edx, DWORD PTR _pMesh$[ebp]
  000c9	52		 push	 edx
  000ca	ff 51 14	 call	 DWORD PTR [ecx+20]
  000cd	3b f4		 cmp	 esi, esp
  000cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d4	89 45 bc	 mov	 DWORD PTR _numVerts$85023[ebp], eax

; 90   : 
; 91   :         // loop through the vertices
; 92   :         for (int i=0;i<numVerts;i++) {

  000d7	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _i$85024[ebp], 0
  000de	eb 09		 jmp	 SHORT $L85025
$L85026:
  000e0	8b 45 b0	 mov	 eax, DWORD PTR _i$85024[ebp]
  000e3	83 c0 01	 add	 eax, 1
  000e6	89 45 b0	 mov	 DWORD PTR _i$85024[ebp], eax
$L85025:
  000e9	8b 45 b0	 mov	 eax, DWORD PTR _i$85024[ebp]
  000ec	3b 45 bc	 cmp	 eax, DWORD PTR _numVerts$85023[ebp]
  000ef	0f 8d 8a 00 00
	00		 jge	 $L85027

; 93   : 
; 94   :             // calculate texture coordinates
; 95   : 			
; 96   : 		// 1
; 97   : 			float t = 10 ;

  000f5	c7 45 a4 00 00
	20 41		 mov	 DWORD PTR _t$85028[ebp], 1092616192 ; 41200000H

; 98   :             //pVerts->tu1= ( ( asinf(pVerts->nx)/g_PI ) * t ) + t/2 ;
; 99   :             //pVerts->tv1= ( ( asinf(pVerts->nz)/g_PI ) * t ) + t/2 ;
; 100  : 
; 101  :         // 2
; 102  : 			//pVerts->tu1= pVerts->nx / 2 + 0.5f ;
; 103  :             //pVerts->tv1= pVerts->nz / 2 + 0.5f ;
; 104  : 
; 105  : 		// 3
; 106  : 			xVec3 v = xVec3( pVerts->x, pVerts->y, pVerts->z );

  000fc	8b 45 c8	 mov	 eax, DWORD PTR _pVerts$[ebp]
  000ff	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00102	51		 push	 ecx
  00103	8b 55 c8	 mov	 edx, DWORD PTR _pVerts$[ebp]
  00106	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00109	50		 push	 eax
  0010a	8b 4d c8	 mov	 ecx, DWORD PTR _pVerts$[ebp]
  0010d	8b 11		 mov	 edx, DWORD PTR [ecx]
  0010f	52		 push	 edx
  00110	8d 4d 90	 lea	 ecx, DWORD PTR _v$85029[ebp]
  00113	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3

; 107  : 			D3DXVec3Normalize( &v, &v );

  00118	8d 45 90	 lea	 eax, DWORD PTR _v$85029[ebp]
  0011b	50		 push	 eax
  0011c	8d 4d 90	 lea	 ecx, DWORD PTR _v$85029[ebp]
  0011f	51		 push	 ecx
  00120	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 108  : 			pVerts->tu1 = ( asinf( v.x ) / g_PI ) * t + t/2 ;

  00125	8b 45 90	 mov	 eax, DWORD PTR _v$85029[ebp]
  00128	50		 push	 eax
  00129	e8 00 00 00 00	 call	 _asinf
  0012e	83 c4 04	 add	 esp, 4
  00131	d8 35 00 00 00
	00		 fdiv	 DWORD PTR _g_PI
  00137	d8 4d a4	 fmul	 DWORD PTR _t$85028[ebp]
  0013a	d9 45 a4	 fld	 DWORD PTR _t$85028[ebp]
  0013d	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@40000000
  00143	de c1		 faddp	 ST(1), ST(0)
  00145	8b 4d c8	 mov	 ecx, DWORD PTR _pVerts$[ebp]
  00148	d9 59 18	 fstp	 DWORD PTR [ecx+24]

; 109  : 			pVerts->tv1 = ( asinf( v.y ) / g_PI ) * t + t/2 ;

  0014b	8b 45 94	 mov	 eax, DWORD PTR _v$85029[ebp+4]
  0014e	50		 push	 eax
  0014f	e8 00 00 00 00	 call	 _asinf
  00154	83 c4 04	 add	 esp, 4
  00157	d8 35 00 00 00
	00		 fdiv	 DWORD PTR _g_PI
  0015d	d8 4d a4	 fmul	 DWORD PTR _t$85028[ebp]
  00160	d9 45 a4	 fld	 DWORD PTR _t$85028[ebp]
  00163	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@40000000
  00169	de c1		 faddp	 ST(1), ST(0)
  0016b	8b 4d c8	 mov	 ecx, DWORD PTR _pVerts$[ebp]
  0016e	d9 59 1c	 fstp	 DWORD PTR [ecx+28]

; 110  : 
; 111  :             // go to next vertex
; 112  :             pVerts++;

  00171	8b 45 c8	 mov	 eax, DWORD PTR _pVerts$[ebp]
  00174	83 c0 20	 add	 eax, 32			; 00000020H
  00177	89 45 c8	 mov	 DWORD PTR _pVerts$[ebp], eax

; 113  :         }

  0017a	e9 61 ff ff ff	 jmp	 $L85026
$L85027:

; 114  : 
; 115  :         // unlock the vertex buffer
; 116  :         pMesh->UnlockVertexBuffer();

  0017f	8b 45 d4	 mov	 eax, DWORD PTR _pMesh$[ebp]
  00182	8b 08		 mov	 ecx, DWORD PTR [eax]
  00184	8b f4		 mov	 esi, esp
  00186	8b 55 d4	 mov	 edx, DWORD PTR _pMesh$[ebp]
  00189	52		 push	 edx
  0018a	ff 51 3c	 call	 DWORD PTR [ecx+60]
  0018d	3b f4		 cmp	 esi, esp
  0018f	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85022:

; 117  :     }
; 118  :     
; 119  :     return pMesh ;

  00194	8b 45 d4	 mov	 eax, DWORD PTR _pMesh$[ebp]
$L85011:

; 120  : }

  00197	52		 push	 edx
  00198	8b cd		 mov	 ecx, ebp
  0019a	50		 push	 eax
  0019b	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L85100
  001a1	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001a6	58		 pop	 eax
  001a7	5a		 pop	 edx
  001a8	5f		 pop	 edi
  001a9	5e		 pop	 esi
  001aa	5b		 pop	 ebx
  001ab	81 c4 34 01 00
	00		 add	 esp, 308		; 00000134H
  001b1	3b ec		 cmp	 ebp, esp
  001b3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b8	8b e5		 mov	 esp, ebp
  001ba	5d		 pop	 ebp
  001bb	c2 10 00	 ret	 16			; 00000010H
$L85100:
  001be	04 00 00 00	 DD	 4
  001c2	00 00 00 00	 DD	 $L85099
$L85099:
  001c6	e0 ff ff ff	 DD	 -32			; ffffffe0H
  001ca	04 00 00 00	 DD	 4
  001ce	00 00 00 00	 DD	 $L85095
  001d2	d4 ff ff ff	 DD	 -44			; ffffffd4H
  001d6	04 00 00 00	 DD	 4
  001da	00 00 00 00	 DD	 $L85096
  001de	c8 ff ff ff	 DD	 -56			; ffffffc8H
  001e2	04 00 00 00	 DD	 4
  001e6	00 00 00 00	 DD	 $L85097
  001ea	90 ff ff ff	 DD	 -112			; ffffff90H
  001ee	0c 00 00 00	 DD	 12			; 0000000cH
  001f2	00 00 00 00	 DD	 $L85098
$L85098:
  001f6	76		 DB	 118			; 00000076H
  001f7	00		 DB	 0
$L85097:
  001f8	70		 DB	 112			; 00000070H
  001f9	56		 DB	 86			; 00000056H
  001fa	65		 DB	 101			; 00000065H
  001fb	72		 DB	 114			; 00000072H
  001fc	74		 DB	 116			; 00000074H
  001fd	73		 DB	 115			; 00000073H
  001fe	00		 DB	 0
$L85096:
  001ff	70		 DB	 112			; 00000070H
  00200	4d		 DB	 77			; 0000004dH
  00201	65		 DB	 101			; 00000065H
  00202	73		 DB	 115			; 00000073H
  00203	68		 DB	 104			; 00000068H
  00204	00		 DB	 0
$L85095:
  00205	6d		 DB	 109			; 0000006dH
  00206	65		 DB	 101			; 00000065H
  00207	73		 DB	 115			; 00000073H
  00208	68		 DB	 104			; 00000068H
  00209	00		 DB	 0
?CreateMappedSphere@CSkyDome@@QAEPAUID3DXMesh@@PAUIDirect3DDevice8@@MII@Z ENDP ; CSkyDome::CreateMappedSphere
_TEXT	ENDS
EXTRN	_asin:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\program files\microsoft visual studio .net\vc7\include\math.h
;	COMDAT _asinf
_TEXT	SEGMENT
tv70 = -196
__X$ = 8
_asinf	PROC NEAR					; COMDAT

; 436  :         {return ((float)asin((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00021	83 ec 08	 sub	 esp, 8
  00024	dd 1c 24	 fstp	 QWORD PTR [esp]
  00027	e8 00 00 00 00	 call	 _asin
  0002c	83 c4 08	 add	 esp, 8
  0002f	d9 95 3c ff ff
	ff		 fst	 DWORD PTR tv70[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_asinf	ENDP
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.h
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXMATRIX@@QAE@XZ PROC NEAR				; D3DXMATRIX::D3DXMATRIX, COMDAT
; _this$ = ecx

; 177  :     D3DXMATRIX() {};

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXMATRIX@@QAE@XZ ENDP				; D3DXMATRIX::D3DXMATRIX
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.inl
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT
_this$ = -8
_fx$ = 8
_fy$ = 12
_fz$ = 16
??0D3DXVECTOR3@@QAE@MMM@Z PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 179  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 180  :     x = fx;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fx$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 181  :     y = fy;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _fy$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 182  :     z = fz;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fz$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 183  : }

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	5f		 pop	 edi
  00041	5e		 pop	 esi
  00042	5b		 pop	 ebx
  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c2 0c 00	 ret	 12			; 0000000cH
??0D3DXVECTOR3@@QAE@MMM@Z ENDP				; D3DXVECTOR3::D3DXVECTOR3
_TEXT	ENDS
END
