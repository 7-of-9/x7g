; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9466 

	TITLE	D3DFrame8.1 Custom\src\d3dapp_custom.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@HDBPGOOH@D3D?5Window?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03KNIPLHMP@HAL?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03GPMNEAGC@REF?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02JLLOHNJH@SW?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02LMMGGCAJ@?3?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_04CGFJFPFD@none?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@EABGANAD@?$CFd?5samples?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0HP@PGABGOGP@Could?5not?5initialize?5Direct3D?4?5Y@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0LE@ELBEEABE@This?5application?5cannot?5run?5in?5a@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0GF@DKNPBPKA@This?5application?5requires?5functi@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0GK@MAFJOLND@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0IP@GFMOIPJ@This?5application?5requires?5functi@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BL@JANOMFPB@Generic?5application?5error?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CC@LHIDCKOG@?6?6This?5application?5will?5now?5exit@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?OneTimeSceneInit@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?InitDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?RestoreDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FrameMove@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DeleteDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FinalCleanup@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@PBM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@ABU_D3DMATRIX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0CD3DApplication@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?WndProc@@YGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SortModesCallback@@YAHPBX0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?BuildDeviceList@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Resize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ToggleFullscreen@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ForceWindowed@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?AdjustWindowForChange@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?UserSelectNewDevice@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Run@CD3DApplication@@UAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Pause@CD3DApplication@@UAEXH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7CD3DApplication@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

_BSS	SEGMENT
?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA DD 01H DUP (?) ; `CD3DApplication::Render3DEnvironment'::`25'::fLastTime
?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA DD 01H DUP (?) ; `CD3DApplication::Render3DEnvironment'::`25'::dwFrames
?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA DD 01H DUP (?) ; `CD3DApplication::Pause'::`2'::dwAppPausedCount
_g_pD3DApp DD	01H DUP (?)
_BSS	ENDS
PUBLIC	?AdjustWindowForChange@CD3DApplication@@MAEJXZ	; CD3DApplication::AdjustWindowForChange
PUBLIC	?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z ; CD3DApplication::ConfirmDevice
PUBLIC	?OneTimeSceneInit@CD3DApplication@@MAEJXZ	; CD3DApplication::OneTimeSceneInit
PUBLIC	?InitDeviceObjects@CD3DApplication@@MAEJXZ	; CD3DApplication::InitDeviceObjects
PUBLIC	?RestoreDeviceObjects@CD3DApplication@@MAEJXZ	; CD3DApplication::RestoreDeviceObjects
PUBLIC	?FrameMove@CD3DApplication@@MAEJXZ		; CD3DApplication::FrameMove
PUBLIC	?Render@CD3DApplication@@MAEJXZ			; CD3DApplication::Render
PUBLIC	?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ ; CD3DApplication::InvalidateDeviceObjects
PUBLIC	?DeleteDeviceObjects@CD3DApplication@@MAEJXZ	; CD3DApplication::DeleteDeviceObjects
PUBLIC	?FinalCleanup@CD3DApplication@@MAEJXZ		; CD3DApplication::FinalCleanup
PUBLIC	?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z	; CD3DApplication::Create
PUBLIC	?Run@CD3DApplication@@UAEHXZ			; CD3DApplication::Run
PUBLIC	?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z	; CD3DApplication::MsgProc
PUBLIC	?Pause@CD3DApplication@@UAEXH@Z			; CD3DApplication::Pause
PUBLIC	??0CD3DApplication@@QAE@XZ			; CD3DApplication::CD3DApplication
PUBLIC	??_7CD3DApplication@@6B@			; CD3DApplication::`vftable'
PUBLIC	??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@	; `string'
EXTRN	__RTC_InitBase:NEAR
EXTRN	__RTC_Shutdown:NEAR
EXTRN	__fltused:NEAR
;	COMDAT rtc$IMZ
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\src\d3dapp_custom.cpp
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT ??_7CD3DApplication@@6B@
CONST	SEGMENT
??_7CD3DApplication@@6B@ DD FLAT:?AdjustWindowForChange@CD3DApplication@@MAEJXZ ; CD3DApplication::`vftable'
	DD	FLAT:?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z
	DD	FLAT:?OneTimeSceneInit@CD3DApplication@@MAEJXZ
	DD	FLAT:?InitDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?RestoreDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?FrameMove@CD3DApplication@@MAEJXZ
	DD	FLAT:?Render@CD3DApplication@@MAEJXZ
	DD	FLAT:?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?DeleteDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?FinalCleanup@CD3DApplication@@MAEJXZ
	DD	FLAT:?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z
	DD	FLAT:?Run@CD3DApplication@@UAEHXZ
	DD	FLAT:?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z
	DD	FLAT:?Pause@CD3DApplication@@UAEXH@Z
CONST	ENDS
;	COMDAT ??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@
CONST	SEGMENT
??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@ DB 'D3D8 Application', 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ??0CD3DApplication@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0CD3DApplication@@QAE@XZ PROC NEAR			; CD3DApplication::CD3DApplication, COMDAT
; _this$ = ecx

; 40   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET FLAT:??_7CD3DApplication@@6B@

; 41   :     g_pD3DApp           = this;

  0002c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	a3 00 00 00 00	 mov	 DWORD PTR _g_pD3DApp, eax

; 42   : 
; 43   : 
; 44   : 	
; 45   : // Dom's additions
; 46   : 	m_bVSync			= FALSE ;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	c7 80 a4 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173732], 0

; 47   : 	m_nFSAA				= 0 ;			// (none)

  00041	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00044	c7 80 a8 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173736], 0

; 48   : 	m_nFullScreenWidth  = 640 ;

  0004e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00051	c7 80 ac a6 02
	00 80 02 00 00	 mov	 DWORD PTR [eax+173740], 640 ; 00000280H

; 49   : 	m_nFullScreenHeight = 480 ;

  0005b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005e	c7 80 b0 a6 02
	00 e0 01 00 00	 mov	 DWORD PTR [eax+173744], 480 ; 000001e0H

; 50   : 
; 51   : 	
; 52   : 	m_dwNumAdapters     = 0;

  00068	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006b	c7 80 44 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173124], 0

; 53   :     m_dwAdapter         = 0L;

  00075	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00078	c7 80 48 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173128], 0

; 54   :     m_pD3D              = NULL;

  00082	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00085	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0

; 55   :     m_pd3dDevice        = NULL;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00092	c7 80 a8 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173224], 0

; 56   :     m_hWnd              = NULL;

  0009c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009f	c7 80 98 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173208], 0

; 57   :     m_hWndFocus         = NULL;

  000a9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ac	c7 80 9c a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173212], 0

; 58   :     m_hMenu             = NULL;

  000b6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b9	c7 80 a0 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173216], 0

; 59   :     m_bActive           = FALSE;

  000c3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c6	c7 80 50 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173136], 0

; 60   :     m_bReady            = FALSE;

  000d0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d3	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 61   :     m_bHasFocus			= FALSE;

  000dd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e0	c7 80 58 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173144], 0

; 62   :     m_dwCreateFlags     = 0L;

  000ea	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ed	c7 80 a0 a5 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173472], 0

; 63   : 
; 64   :     m_bFrameMoving      = TRUE;

  000f7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fa	c7 80 5c a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173148], 1

; 65   :     m_bSingleStep       = FALSE;

  00104	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00107	c7 80 60 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173152], 0

; 66   :     m_fFPS              = 0.0f;

  00111	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00114	c7 80 cc a5 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173516], 0

; 67   :     m_strDeviceStats[0] = _T('\0');

  0011e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00121	c6 80 d0 a5 02
	00 00		 mov	 BYTE PTR [eax+173520], 0

; 68   :     m_strFrameStats[0]  = _T('\0');

  00128	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0012b	c6 80 2a a6 02
	00 00		 mov	 BYTE PTR [eax+173610], 0

; 69   : 
; 70   :     m_strWindowTitle    = _T("D3D8 Application");

  00132	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00135	c7 80 84 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173700], OFFSET FLAT:??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@

; 71   :     m_dwCreationWidth   = 400;

  0013f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00142	c7 80 94 a6 02
	00 90 01 00 00	 mov	 DWORD PTR [eax+173716], 400 ; 00000190H

; 72   :     m_dwCreationHeight  = 300;

  0014c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014f	c7 80 98 a6 02
	00 2c 01 00 00	 mov	 DWORD PTR [eax+173720], 300 ; 0000012cH

; 73   :     m_bUseDepthBuffer   = FALSE;

  00159	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0015c	c7 80 88 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173704], 0

; 74   :     m_dwMinDepthBits    = 16;

  00166	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00169	c7 80 8c a6 02
	00 10 00 00 00	 mov	 DWORD PTR [eax+173708], 16 ; 00000010H

; 75   :     m_dwMinStencilBits  = 0;

  00173	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00176	c7 80 90 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173712], 0

; 76   :     m_bShowCursorWhenFullscreen = FALSE;

  00180	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00183	c7 80 9c a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173724], 0

; 77   : 
; 78   :     // When m_bClipCursorWhenFullscreen is TRUE, the cursor is limited to
; 79   :     // the device window when the app goes fullscreen.  This prevents users
; 80   :     // from accidentally clicking outside the app window on a multimon system.
; 81   :     // This flag is turned off by default for debug builds, since it makes 
; 82   :     // multimon debugging difficult.
; 83   : #if defined(_DEBUG) || defined(DEBUG)
; 84   :     m_bClipCursorWhenFullscreen = FALSE;

  0018d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00190	c7 80 a0 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173728], 0

; 85   : #else
; 86   :     m_bClipCursorWhenFullscreen = TRUE;
; 87   : #endif
; 88   : 
; 89   : 	// DM
; 90   : 	m_bInSizeMoveLoop = FALSE ;

  0019a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0019d	c7 80 b4 a7 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+174004], 0

; 91   : }

  001a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001aa	5f		 pop	 edi
  001ab	5e		 pop	 esi
  001ac	5b		 pop	 ebx
  001ad	8b e5		 mov	 esp, ebp
  001af	5d		 pop	 ebp
  001b0	c3		 ret	 0
??0CD3DApplication@@QAE@XZ ENDP				; CD3DApplication::CD3DApplication
_TEXT	ENDS
PUBLIC	?WndProc@@YGJPAUHWND__@@IIJ@Z			; WndProc
EXTRN	__RTC_CheckEsp:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?WndProc@@YGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_hWnd$ = 8
_uMsg$ = 12
_wParam$ = 16
_lParam$ = 20
?WndProc@@YGJPAUHWND__@@IIJ@Z PROC NEAR			; WndProc, COMDAT

; 101  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 102  :     return g_pD3DApp->MsgProc( hWnd, uMsg, wParam, lParam );

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 10	 mov	 ecx, DWORD PTR _wParam$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 0c	 mov	 edx, DWORD PTR _uMsg$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0002f	50		 push	 eax
  00030	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR _g_pD3DApp
  00036	8b 11		 mov	 edx, DWORD PTR [ecx]
  00038	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR _g_pD3DApp
  0003e	ff 52 30	 call	 DWORD PTR [edx+48]
  00041	3b f4		 cmp	 esi, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 103  : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00051	3b ec		 cmp	 ebp, esp
  00053	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00058	8b e5		 mov	 esp, ebp
  0005a	5d		 pop	 ebp
  0005b	c2 10 00	 ret	 16			; 00000010H
?WndProc@@YGJPAUHWND__@@IIJ@Z ENDP			; WndProc
_TEXT	ENDS
PUBLIC	?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z	; CD3DApplication::DisplayErrorMsg
PUBLIC	?BuildDeviceList@CD3DApplication@@IAEJXZ	; CD3DApplication::BuildDeviceList
PUBLIC	?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
PUBLIC	??_C@_0L@HDBPGOOH@D3D?5Window?$AA@		; `string'
EXTRN	__imp__SetRect@20:NEAR
EXTRN	__imp__GetWindowLongA@8:NEAR
EXTRN	__imp__RegisterClassA@4:NEAR
EXTRN	__imp__CreateWindowExA@48:NEAR
EXTRN	__imp__LoadCursorA@8:NEAR
EXTRN	__imp__LoadIconA@8:NEAR
EXTRN	@_RTC_CheckStackVars@8:NEAR
EXTRN	__imp__GetClientRect@8:NEAR
EXTRN	__imp__GetWindowRect@8:NEAR
EXTRN	__imp__AdjustWindowRect@12:NEAR
EXTRN	_Direct3DCreate8@4:NEAR
EXTRN	?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z:NEAR	; DXUtil_Timer
EXTRN	__imp__GetStockObject@4:NEAR
;	COMDAT ??_C@_0L@HDBPGOOH@D3D?5Window?$AA@
CONST	SEGMENT
??_C@_0L@HDBPGOOH@D3D?5Window?$AA@ DB 'D3D Window', 00H	; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z
_TEXT	SEGMENT
_rc$85656 = -92
_wndClass$85647 = -68
_hr$ = -20
_this$ = -8
_hInstance$ = 8
?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z PROC NEAR ; CD3DApplication::Create, COMDAT
; _this$ = ecx

; 113  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd e0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-288]
  00013	b9 48 00 00 00	 mov	 ecx, 72			; 00000048H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 114  :     HRESULT hr;
; 115  : 
; 116  :     // Create the Direct3D object
; 117  :     m_pD3D = Direct3DCreate8( D3D_SDK_VERSION );

  00023	68 dc 00 00 00	 push	 220			; 000000dcH
  00028	e8 00 00 00 00	 call	 _Direct3DCreate8@4
  0002d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00030	89 81 a4 a4 02
	00		 mov	 DWORD PTR [ecx+173220], eax

; 118  :     if( m_pD3D == NULL )

  00036	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00039	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  00040	75 14		 jne	 SHORT $L85642

; 119  :         return DisplayErrorMsg( D3DAPPERR_NODIRECT3D, MSGERR_APPMUSTEXIT );

  00042	6a 01		 push	 1
  00044	68 01 00 00 82	 push	 -2113929215		; 82000001H
  00049	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004c	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00051	e9 0f 03 00 00	 jmp	 $L85640
$L85642:

; 120  : 
; 121  :     // Build a list of Direct3D adapters, modes and devices. The
; 122  :     // ConfirmDevice() callback is used to confirm that only devices that
; 123  :     // meet the app's requirements are considered.
; 124  :     if( FAILED( hr = BuildDeviceList() ) )

  00056	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00059	e8 00 00 00 00	 call	 ?BuildDeviceList@CD3DApplication@@IAEJXZ ; CD3DApplication::BuildDeviceList
  0005e	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00061	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00065	7d 4d		 jge	 SHORT $L85644

; 125  :     {
; 126  :         SAFE_RELEASE( m_pD3D );

  00067	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006a	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  00071	74 2e		 je	 SHORT $L85645
  00073	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00076	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0007c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007f	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00085	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00087	8b f4		 mov	 esi, esp
  00089	50		 push	 eax
  0008a	ff 51 08	 call	 DWORD PTR [ecx+8]
  0008d	3b f4		 cmp	 esi, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00094	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00097	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L85645:

; 127  :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  000a1	6a 01		 push	 1
  000a3	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  000a6	50		 push	 eax
  000a7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000aa	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  000af	e9 b1 02 00 00	 jmp	 $L85640
$L85644:

; 128  :     }
; 129  : 
; 130  :     // Unless a substitute hWnd has been specified, create a window to
; 131  :     // render into
; 132  :     if( m_hWnd == NULL)

  000b4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b7	83 b8 98 a4 02
	00 00		 cmp	 DWORD PTR [eax+173208], 0
  000be	0f 85 41 01 00
	00		 jne	 $L85646

; 133  :     {
; 134  :         // Register the windows class
; 135  :         WNDCLASS wndClass = { 0, WndProc, 0, 0, hInstance,

  000c4	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _wndClass$85647[ebp], 0
  000cb	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _wndClass$85647[ebp+4], OFFSET FLAT:?WndProc@@YGJPAUHWND__@@IIJ@Z ; WndProc
  000d2	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _wndClass$85647[ebp+8], 0
  000d9	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _wndClass$85647[ebp+12], 0
  000e0	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  000e3	89 45 cc	 mov	 DWORD PTR _wndClass$85647[ebp+16], eax

; 136  :                               LoadIcon( hInstance, MAKEINTRESOURCE(IDI_MAIN_ICON) ),

  000e6	8b f4		 mov	 esi, esp
  000e8	6a 65		 push	 101			; 00000065H
  000ea	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  000ed	50		 push	 eax
  000ee	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadIconA@8
  000f4	3b f4		 cmp	 esi, esp
  000f6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000fb	89 45 d0	 mov	 DWORD PTR _wndClass$85647[ebp+20], eax

; 137  :                               LoadCursor( NULL, IDC_ARROW ),

  000fe	8b f4		 mov	 esi, esp
  00100	68 00 7f 00 00	 push	 32512			; 00007f00H
  00105	6a 00		 push	 0
  00107	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadCursorA@8
  0010d	3b f4		 cmp	 esi, esp
  0010f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00114	89 45 d4	 mov	 DWORD PTR _wndClass$85647[ebp+24], eax

; 138  :                               (HBRUSH)GetStockObject(WHITE_BRUSH),

  00117	8b f4		 mov	 esi, esp
  00119	6a 00		 push	 0
  0011b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetStockObject@4
  00121	3b f4		 cmp	 esi, esp
  00123	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00128	89 45 d8	 mov	 DWORD PTR _wndClass$85647[ebp+28], eax

; 139  :                               NULL, _T("D3D Window") };

  0012b	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _wndClass$85647[ebp+32], 0
  00132	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _wndClass$85647[ebp+36], OFFSET FLAT:??_C@_0L@HDBPGOOH@D3D?5Window?$AA@

; 140  :         RegisterClass( &wndClass );

  00139	8b f4		 mov	 esi, esp
  0013b	8d 45 bc	 lea	 eax, DWORD PTR _wndClass$85647[ebp]
  0013e	50		 push	 eax
  0013f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__RegisterClassA@4
  00145	3b f4		 cmp	 esi, esp
  00147	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 141  : 
; 142  :         // Set the window's initial style
; 143  :         m_dwWindowStyle = WS_OVERLAPPED|WS_CAPTION|WS_SYSMENU|WS_THICKFRAME|
; 144  :                           WS_MINIMIZEBOX|WS_VISIBLE;

  0014c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014f	c7 80 a4 a5 02
	00 00 00 ce 10	 mov	 DWORD PTR [eax+173476], 281935872 ; 10ce0000H

; 145  : 
; 146  :         // Set the window's initial width
; 147  :         RECT rc;
; 148  :         SetRect( &rc, 0, 0, m_dwCreationWidth, m_dwCreationHeight );

  00159	8b f4		 mov	 esi, esp
  0015b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0015e	8b 88 98 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173720]
  00164	51		 push	 ecx
  00165	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00168	8b 82 94 a6 02
	00		 mov	 eax, DWORD PTR [edx+173716]
  0016e	50		 push	 eax
  0016f	6a 00		 push	 0
  00171	6a 00		 push	 0
  00173	8d 4d a4	 lea	 ecx, DWORD PTR _rc$85656[ebp]
  00176	51		 push	 ecx
  00177	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetRect@20
  0017d	3b f4		 cmp	 esi, esp
  0017f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 149  :         AdjustWindowRect( &rc, m_dwWindowStyle, TRUE );

  00184	8b f4		 mov	 esi, esp
  00186	6a 01		 push	 1
  00188	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018b	8b 88 a4 a5 02
	00		 mov	 ecx, DWORD PTR [eax+173476]
  00191	51		 push	 ecx
  00192	8d 55 a4	 lea	 edx, DWORD PTR _rc$85656[ebp]
  00195	52		 push	 edx
  00196	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__AdjustWindowRect@12
  0019c	3b f4		 cmp	 esi, esp
  0019e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 150  : 
; 151  :         // Create the render window
; 152  : 
; 153  : 		// DM
; 154  : 		m_hWnd = CreateWindowEx( 
; 155  :   WS_EX_CLIENTEDGE|
; 156  :   WS_EX_CONTEXTHELP|
; 157  :   WS_EX_ACCEPTFILES,
; 158  :   "D3D Window",		    									 // pointer to registered class name
; 159  :   m_strWindowTitle,											 // pointer to window name
; 160  :   m_dwWindowStyle,   										 // window style
; 161  :   m_dwCreationX,  										     // horizontal position of window
; 162  :   m_dwCreationY,  										     // vertical position of window
; 163  :   (rc.right-rc.left),										 // window width
; 164  :   (rc.bottom-rc.top),          								 // window height
; 165  :   0L,      													 // handle to parent or owner window
; 166  :   NULL/*LoadMenu( hInstance, MAKEINTRESOURCE(IDR_MENU) )*/,  // handle to menu, or child-window identifier
; 167  :   hInstance,  												 // handle to application instance
; 168  :   0L														 // pointer to window-creation data
; 169  : 							   );					

  001a3	8b f4		 mov	 esi, esp
  001a5	6a 00		 push	 0
  001a7	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  001aa	50		 push	 eax
  001ab	6a 00		 push	 0
  001ad	6a 00		 push	 0
  001af	8b 4d b0	 mov	 ecx, DWORD PTR _rc$85656[ebp+12]
  001b2	2b 4d a8	 sub	 ecx, DWORD PTR _rc$85656[ebp+4]
  001b5	51		 push	 ecx
  001b6	8b 55 ac	 mov	 edx, DWORD PTR _rc$85656[ebp+8]
  001b9	2b 55 a4	 sub	 edx, DWORD PTR _rc$85656[ebp]
  001bc	52		 push	 edx
  001bd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001c0	8b 88 bc a7 02
	00		 mov	 ecx, DWORD PTR [eax+174012]
  001c6	51		 push	 ecx
  001c7	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001ca	8b 82 b8 a7 02
	00		 mov	 eax, DWORD PTR [edx+174008]
  001d0	50		 push	 eax
  001d1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d4	8b 91 a4 a5 02
	00		 mov	 edx, DWORD PTR [ecx+173476]
  001da	52		 push	 edx
  001db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001de	8b 88 84 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173700]
  001e4	51		 push	 ecx
  001e5	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@HDBPGOOH@D3D?5Window?$AA@
  001ea	68 10 06 00 00	 push	 1552			; 00000610H
  001ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateWindowExA@48
  001f5	3b f4		 cmp	 esi, esp
  001f7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001fc	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001ff	89 82 98 a4 02
	00		 mov	 DWORD PTR [edx+173208], eax
$L85646:

; 170  : 
; 171  :     }
; 172  : 
; 173  :     // The focus window can be a specified to be a different window than the
; 174  :     // device window.  If not, use the device window as the focus window.
; 175  :     if( m_hWndFocus == NULL )

  00205	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00208	83 b8 9c a4 02
	00 00		 cmp	 DWORD PTR [eax+173212], 0
  0020f	75 12		 jne	 SHORT $L85657

; 176  :         m_hWndFocus = m_hWnd;

  00211	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00214	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00217	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  0021d	89 90 9c a4 02
	00		 mov	 DWORD PTR [eax+173212], edx
$L85657:

; 177  : 
; 178  :     // Save window properties
; 179  :     m_dwWindowStyle = GetWindowLong( m_hWnd, GWL_STYLE );

  00223	8b f4		 mov	 esi, esp
  00225	6a f0		 push	 -16			; fffffff0H
  00227	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0022a	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00230	51		 push	 ecx
  00231	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowLongA@8
  00237	3b f4		 cmp	 esi, esp
  00239	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0023e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00241	89 82 a4 a5 02
	00		 mov	 DWORD PTR [edx+173476], eax

; 180  :     GetWindowRect( m_hWnd, &m_rcWindowBounds );

  00247	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0024a	05 a8 a5 02 00	 add	 eax, 173480		; 0002a5a8H
  0024f	8b f4		 mov	 esi, esp
  00251	50		 push	 eax
  00252	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00255	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  0025b	52		 push	 edx
  0025c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  00262	3b f4		 cmp	 esi, esp
  00264	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 181  :     GetClientRect( m_hWnd, &m_rcWindowClient );

  00269	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0026c	05 b8 a5 02 00	 add	 eax, 173496		; 0002a5b8H
  00271	8b f4		 mov	 esi, esp
  00273	50		 push	 eax
  00274	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00277	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  0027d	52		 push	 edx
  0027e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8
  00284	3b f4		 cmp	 esi, esp
  00286	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 182  : 
; 183  :     // Initialize the application timer
; 184  :     DXUtil_Timer( TIMER_START );

  0028b	6a 01		 push	 1
  0028d	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00292	dd d8		 fstp	 ST(0)

; 185  : 
; 186  :     // Initialize the app's custom scene stuff
; 187  :     if( FAILED( hr = OneTimeSceneInit() ) )

  00294	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00297	8b 10		 mov	 edx, DWORD PTR [eax]
  00299	8b f4		 mov	 esi, esp
  0029b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0029e	ff 52 08	 call	 DWORD PTR [edx+8]
  002a1	3b f4		 cmp	 esi, esp
  002a3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002a8	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  002ab	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  002af	7d 4a		 jge	 SHORT $L85659

; 188  :     {
; 189  :         SAFE_RELEASE( m_pD3D );

  002b1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002b4	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  002bb	74 2e		 je	 SHORT $L85660
  002bd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002c0	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  002c6	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002c9	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  002cf	8b 09		 mov	 ecx, DWORD PTR [ecx]
  002d1	8b f4		 mov	 esi, esp
  002d3	50		 push	 eax
  002d4	ff 51 08	 call	 DWORD PTR [ecx+8]
  002d7	3b f4		 cmp	 esi, esp
  002d9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002de	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002e1	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L85660:

; 190  :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  002eb	6a 01		 push	 1
  002ed	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  002f0	50		 push	 eax
  002f1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002f4	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  002f9	eb 6a		 jmp	 SHORT $L85640
$L85659:

; 191  :     }
; 192  : 
; 193  :     // Initialize the 3D environment for the app
; 194  :     if( FAILED( hr = Initialize3DEnvironment() ) )

  002fb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002fe	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  00303	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00306	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0030a	7d 4a		 jge	 SHORT $L85662

; 195  :     {
; 196  :         SAFE_RELEASE( m_pD3D );

  0030c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0030f	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  00316	74 2e		 je	 SHORT $L85663
  00318	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0031b	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00321	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00324	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0032a	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0032c	8b f4		 mov	 esi, esp
  0032e	50		 push	 eax
  0032f	ff 51 08	 call	 DWORD PTR [ecx+8]
  00332	3b f4		 cmp	 esi, esp
  00334	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00339	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0033c	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L85663:

; 197  :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  00346	6a 01		 push	 1
  00348	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  0034b	50		 push	 eax
  0034c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0034f	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00354	eb 0f		 jmp	 SHORT $L85640
$L85662:

; 198  :     }
; 199  : 
; 200  :     // The app is ready to go
; 201  :     m_bReady = TRUE;

  00356	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00359	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1

; 202  : 
; 203  :     return S_OK;

  00363	33 c0		 xor	 eax, eax
$L85640:

; 204  : }

  00365	52		 push	 edx
  00366	8b cd		 mov	 ecx, ebp
  00368	50		 push	 eax
  00369	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86678
  0036f	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00374	58		 pop	 eax
  00375	5a		 pop	 edx
  00376	5f		 pop	 edi
  00377	5e		 pop	 esi
  00378	5b		 pop	 ebx
  00379	81 c4 20 01 00
	00		 add	 esp, 288		; 00000120H
  0037f	3b ec		 cmp	 ebp, esp
  00381	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00386	8b e5		 mov	 esp, ebp
  00388	5d		 pop	 ebp
  00389	c2 04 00	 ret	 4
$L86678:
  0038c	02 00 00 00	 DD	 2
  00390	00 00 00 00	 DD	 $L86677
$L86677:
  00394	bc ff ff ff	 DD	 -68			; ffffffbcH
  00398	28 00 00 00	 DD	 40			; 00000028H
  0039c	00 00 00 00	 DD	 $L86675
  003a0	a4 ff ff ff	 DD	 -92			; ffffffa4H
  003a4	10 00 00 00	 DD	 16			; 00000010H
  003a8	00 00 00 00	 DD	 $L86676
$L86676:
  003ac	72		 DB	 114			; 00000072H
  003ad	63		 DB	 99			; 00000063H
  003ae	00		 DB	 0
$L86675:
  003af	77		 DB	 119			; 00000077H
  003b0	6e		 DB	 110			; 0000006eH
  003b1	64		 DB	 100			; 00000064H
  003b2	43		 DB	 67			; 00000043H
  003b3	6c		 DB	 108			; 0000006cH
  003b4	61		 DB	 97			; 00000061H
  003b5	73		 DB	 115			; 00000073H
  003b6	73		 DB	 115			; 00000073H
  003b7	00		 DB	 0
?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z ENDP	; CD3DApplication::Create
_TEXT	ENDS
PUBLIC	?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z ; CD3DApplication::FindDepthStencilFormat
PUBLIC	??_C@_03KNIPLHMP@HAL?$AA@			; `string'
PUBLIC	??_C@_03GPMNEAGC@REF?$AA@			; `string'
EXTRN	_qsort:NEAR
EXTRN	__RTC_UninitUse:NEAR
;	COMDAT ??_C@_03KNIPLHMP@HAL?$AA@
CONST	SEGMENT
??_C@_03KNIPLHMP@HAL?$AA@ DB 'HAL', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_03GPMNEAGC@REF?$AA@
CONST	SEGMENT
??_C@_03GPMNEAGC@REF?$AA@ DB 'REF', 00H			; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?BuildDeviceList@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
$T86682 = -2469
_d$85776 = -2268
_a$85772 = -2256
_f$85755 = -2244
_m$85751 = -2232
_f$85727 = -2220
_fmtDepthStencil$85726 = -2208
_dwBehavior$85725 = -2120
_bFormatConfirmed$85724 = -2032
_pDevice$85723 = -1944
_iDevice$85719 = -1932
_f$85712 = -1920
_m$85706 = -1908
_DisplayMode$85705 = -1896
_iMode$85701 = -1872
_dwNumAdapterModes$85700 = -1860
_dwNumModes$85699 = -1848
_dwNumFormats$85698 = -1836
_formats$85697 = -1824
_modes$85696 = -1736
_pAdapter$85695 = -124
_iAdapter$85691 = -112
_bHALIsSampleCompatible$ = -100
_bHALIsDesktopCompatible$ = -88
_bHALIsWindowedCompatible$ = -76
_bHALExists$ = -64
_DeviceTypes$ = -52
_strDeviceDescs$ = -36
_dwNumDeviceTypes$ = -20
_this$ = -8
?BuildDeviceList@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::BuildDeviceList, COMDAT
; _this$ = ecx

; 236  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec ac 09 00
	00		 sub	 esp, 2476		; 000009acH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 54 f6 ff
	ff		 lea	 edi, DWORD PTR [ebp-2476]
  00013	b9 6b 02 00 00	 mov	 ecx, 619		; 0000026bH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 237  :     const DWORD dwNumDeviceTypes = 2;

  00023	c7 45 ec 02 00
	00 00		 mov	 DWORD PTR _dwNumDeviceTypes$[ebp], 2

; 238  :     const TCHAR* strDeviceDescs[] = { _T("HAL"), _T("REF") };

  0002a	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _strDeviceDescs$[ebp], OFFSET FLAT:??_C@_03KNIPLHMP@HAL?$AA@
  00031	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _strDeviceDescs$[ebp+4], OFFSET FLAT:??_C@_03GPMNEAGC@REF?$AA@

; 239  :     const D3DDEVTYPE DeviceTypes[] = { D3DDEVTYPE_HAL, D3DDEVTYPE_REF };

  00038	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _DeviceTypes$[ebp], 1
  0003f	c7 45 d0 02 00
	00 00		 mov	 DWORD PTR _DeviceTypes$[ebp+4], 2

; 240  : 
; 241  :     BOOL bHALExists = FALSE;

  00046	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _bHALExists$[ebp], 0

; 242  :     BOOL bHALIsWindowedCompatible = FALSE;

  0004d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _bHALIsWindowedCompatible$[ebp], 0

; 243  :     BOOL bHALIsDesktopCompatible = FALSE;

  00054	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _bHALIsDesktopCompatible$[ebp], 0

; 244  :     BOOL bHALIsSampleCompatible = FALSE;

  0005b	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _bHALIsSampleCompatible$[ebp], 0

; 245  : 
; 246  :     // Loop through all the adapters on the system (usually, there's just one
; 247  :     // unless more than one graphics card is present).
; 248  :     for( UINT iAdapter = 0; iAdapter < m_pD3D->GetAdapterCount(); iAdapter++ )

  00062	c7 45 90 00 00
	00 00		 mov	 DWORD PTR _iAdapter$85691[ebp], 0
  00069	eb 09		 jmp	 SHORT $L85692
$L85693:
  0006b	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$85691[ebp]
  0006e	83 c0 01	 add	 eax, 1
  00071	89 45 90	 mov	 DWORD PTR _iAdapter$85691[ebp], eax
$L85692:
  00074	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00077	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0007d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00080	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00086	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00088	8b f4		 mov	 esi, esp
  0008a	50		 push	 eax
  0008b	ff 51 10	 call	 DWORD PTR [ecx+16]
  0008e	3b f4		 cmp	 esi, esp
  00090	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00095	39 45 90	 cmp	 DWORD PTR _iAdapter$85691[ebp], eax
  00098	0f 83 5c 0a 00
	00		 jae	 $L85694

; 249  :     {
; 250  :         // Fill in adapter info
; 251  :         D3DAdapterInfo* pAdapter  = &m_Adapters[m_dwNumAdapters];

  0009e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000a1	8b 88 44 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173124]
  000a7	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  000ad	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b0	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  000b4	89 45 84	 mov	 DWORD PTR _pAdapter$85695[ebp], eax

; 252  :         m_pD3D->GetAdapterIdentifier( iAdapter, D3DENUM_NO_WHQL_LEVEL, &pAdapter->d3dAdapterIdentifier );

  000b7	8b f4		 mov	 esi, esp
  000b9	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  000bc	50		 push	 eax
  000bd	6a 02		 push	 2
  000bf	8b 4d 90	 mov	 ecx, DWORD PTR _iAdapter$85691[ebp]
  000c2	51		 push	 ecx
  000c3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c6	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000cc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000cf	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  000d5	8b 00		 mov	 eax, DWORD PTR [eax]
  000d7	52		 push	 edx
  000d8	ff 50 14	 call	 DWORD PTR [eax+20]
  000db	3b f4		 cmp	 esi, esp
  000dd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 253  :         m_pD3D->GetAdapterDisplayMode( iAdapter, &pAdapter->d3ddmDesktop );

  000e2	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  000e5	05 2c 04 00 00	 add	 eax, 1068		; 0000042cH
  000ea	8b f4		 mov	 esi, esp
  000ec	50		 push	 eax
  000ed	8b 4d 90	 mov	 ecx, DWORD PTR _iAdapter$85691[ebp]
  000f0	51		 push	 ecx
  000f1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000f4	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000fa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000fd	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00103	8b 00		 mov	 eax, DWORD PTR [eax]
  00105	52		 push	 edx
  00106	ff 50 20	 call	 DWORD PTR [eax+32]
  00109	3b f4		 cmp	 esi, esp
  0010b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 254  :         pAdapter->dwNumDevices    = 0;

  00110	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  00113	c7 80 3c 04 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1084], 0

; 255  :         pAdapter->dwCurrentDevice = 0;

  0011d	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  00120	c7 80 9c 43 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+17308], 0

; 256  : 
; 257  :         // Enumerate all display modes on this adapter
; 258  :         D3DDISPLAYMODE modes[100];
; 259  :         D3DFORMAT      formats[20];
; 260  :         DWORD dwNumFormats      = 0;

  0012a	c7 85 d4 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _dwNumFormats$85698[ebp], 0

; 261  :         DWORD dwNumModes        = 0;

  00134	c7 85 c8 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _dwNumModes$85699[ebp], 0

; 262  :         DWORD dwNumAdapterModes = m_pD3D->GetAdapterModeCount( iAdapter );

  0013e	8b f4		 mov	 esi, esp
  00140	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$85691[ebp]
  00143	50		 push	 eax
  00144	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00147	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0014d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00150	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00156	8b 12		 mov	 edx, DWORD PTR [edx]
  00158	51		 push	 ecx
  00159	ff 52 18	 call	 DWORD PTR [edx+24]
  0015c	3b f4		 cmp	 esi, esp
  0015e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00163	89 85 bc f8 ff
	ff		 mov	 DWORD PTR _dwNumAdapterModes$85700[ebp], eax

; 263  : 
; 264  :         // Add the adapter's current desktop format to the list of formats
; 265  :         formats[dwNumFormats++] = pAdapter->d3ddmDesktop.Format;

  00169	8b 85 d4 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  0016f	8b 4d 84	 mov	 ecx, DWORD PTR _pAdapter$85695[ebp]
  00172	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00178	89 94 85 e0 f8
	ff ff		 mov	 DWORD PTR _formats$85697[ebp+eax*4], edx
  0017f	8b 85 d4 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  00185	83 c0 01	 add	 eax, 1
  00188	89 85 d4 f8 ff
	ff		 mov	 DWORD PTR _dwNumFormats$85698[ebp], eax

; 266  : 
; 267  :         for( UINT iMode = 0; iMode < dwNumAdapterModes; iMode++ )

  0018e	c7 85 b0 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _iMode$85701[ebp], 0
  00198	eb 0f		 jmp	 SHORT $L85702
$L85703:
  0019a	8b 85 b0 f8 ff
	ff		 mov	 eax, DWORD PTR _iMode$85701[ebp]
  001a0	83 c0 01	 add	 eax, 1
  001a3	89 85 b0 f8 ff
	ff		 mov	 DWORD PTR _iMode$85701[ebp], eax
$L85702:
  001a9	8b 85 b0 f8 ff
	ff		 mov	 eax, DWORD PTR _iMode$85701[ebp]
  001af	3b 85 bc f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumAdapterModes$85700[ebp]
  001b5	0f 83 96 01 00
	00		 jae	 $L85704

; 268  :         {
; 269  :             // Get the display mode attributes
; 270  :             D3DDISPLAYMODE DisplayMode;
; 271  :             m_pD3D->EnumAdapterModes( iAdapter, iMode, &DisplayMode );

  001bb	8b f4		 mov	 esi, esp
  001bd	8d 85 98 f8 ff
	ff		 lea	 eax, DWORD PTR _DisplayMode$85705[ebp]
  001c3	50		 push	 eax
  001c4	8b 8d b0 f8 ff
	ff		 mov	 ecx, DWORD PTR _iMode$85701[ebp]
  001ca	51		 push	 ecx
  001cb	8b 55 90	 mov	 edx, DWORD PTR _iAdapter$85691[ebp]
  001ce	52		 push	 edx
  001cf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d2	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  001d8	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001db	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  001e1	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001e3	50		 push	 eax
  001e4	ff 51 1c	 call	 DWORD PTR [ecx+28]
  001e7	3b f4		 cmp	 esi, esp
  001e9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 272  : 
; 273  :             // Filter out low-resolution modes
; 274  :             //if( DisplayMode.Width  < 640 || DisplayMode.Height < 400 )
; 275  :             //  continue;
; 276  : 
; 277  :             // Check if the mode already exists (to filter out refresh rates)
; 278  :             for( DWORD m=0L; m<dwNumModes; m++ )

  001ee	c7 85 8c f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$85706[ebp], 0
  001f8	eb 0f		 jmp	 SHORT $L85707
$L85708:
  001fa	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$85706[ebp]
  00200	83 c0 01	 add	 eax, 1
  00203	89 85 8c f8 ff
	ff		 mov	 DWORD PTR _m$85706[ebp], eax
$L85707:
  00209	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$85706[ebp]
  0020f	3b 85 c8 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumModes$85699[ebp]
  00215	73 4c		 jae	 SHORT $L85709

; 279  :             {
; 280  :                 if( ( modes[m].Width  == DisplayMode.Width  ) &&
; 281  :                     ( modes[m].Height == DisplayMode.Height ) &&
; 282  :                     ( modes[m].Format == DisplayMode.Format ) )

  00217	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$85706[ebp]
  0021d	c1 e0 04	 shl	 eax, 4
  00220	8b 8c 05 38 f9
	ff ff		 mov	 ecx, DWORD PTR _modes$85696[ebp+eax]
  00227	3b 8d 98 f8 ff
	ff		 cmp	 ecx, DWORD PTR _DisplayMode$85705[ebp]
  0022d	75 32		 jne	 SHORT $L85710
  0022f	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$85706[ebp]
  00235	c1 e0 04	 shl	 eax, 4
  00238	8b 8c 05 3c f9
	ff ff		 mov	 ecx, DWORD PTR _modes$85696[ebp+eax+4]
  0023f	3b 8d 9c f8 ff
	ff		 cmp	 ecx, DWORD PTR _DisplayMode$85705[ebp+4]
  00245	75 1a		 jne	 SHORT $L85710
  00247	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$85706[ebp]
  0024d	c1 e0 04	 shl	 eax, 4
  00250	8b 8c 05 44 f9
	ff ff		 mov	 ecx, DWORD PTR _modes$85696[ebp+eax+12]
  00257	3b 8d a4 f8 ff
	ff		 cmp	 ecx, DWORD PTR _DisplayMode$85705[ebp+12]
  0025d	75 02		 jne	 SHORT $L85710

; 283  :                     break;

  0025f	eb 02		 jmp	 SHORT $L85709
$L85710:

; 284  :             }

  00261	eb 97		 jmp	 SHORT $L85708
$L85709:

; 285  : 
; 286  :             // If we found a new mode, add it to the list of modes
; 287  :             if( m == dwNumModes )

  00263	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$85706[ebp]
  00269	3b 85 c8 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumModes$85699[ebp]
  0026f	0f 85 d7 00 00
	00		 jne	 $L85711

; 288  :             {
; 289  :                 modes[dwNumModes].Width       = DisplayMode.Width;

  00275	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$85699[ebp]
  0027b	c1 e0 04	 shl	 eax, 4
  0027e	8b 8d 98 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$85705[ebp]
  00284	89 8c 05 38 f9
	ff ff		 mov	 DWORD PTR _modes$85696[ebp+eax], ecx

; 290  :                 modes[dwNumModes].Height      = DisplayMode.Height;

  0028b	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$85699[ebp]
  00291	c1 e0 04	 shl	 eax, 4
  00294	8b 8d 9c f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$85705[ebp+4]
  0029a	89 8c 05 3c f9
	ff ff		 mov	 DWORD PTR _modes$85696[ebp+eax+4], ecx

; 291  :                 modes[dwNumModes].Format      = DisplayMode.Format;

  002a1	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$85699[ebp]
  002a7	c1 e0 04	 shl	 eax, 4
  002aa	8b 8d a4 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$85705[ebp+12]
  002b0	89 8c 05 44 f9
	ff ff		 mov	 DWORD PTR _modes$85696[ebp+eax+12], ecx

; 292  :                 modes[dwNumModes].RefreshRate = 0;

  002b7	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$85699[ebp]
  002bd	c1 e0 04	 shl	 eax, 4
  002c0	c7 84 05 40 f9
	ff ff 00 00 00
	00		 mov	 DWORD PTR _modes$85696[ebp+eax+8], 0

; 293  :                 dwNumModes++;

  002cb	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$85699[ebp]
  002d1	83 c0 01	 add	 eax, 1
  002d4	89 85 c8 f8 ff
	ff		 mov	 DWORD PTR _dwNumModes$85699[ebp], eax

; 294  : 
; 295  :                 // Check if the mode's format already exists
; 296  :                 for( DWORD f=0; f<dwNumFormats; f++ )

  002da	c7 85 80 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _f$85712[ebp], 0
  002e4	eb 0f		 jmp	 SHORT $L85713
$L85714:
  002e6	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$85712[ebp]
  002ec	83 c0 01	 add	 eax, 1
  002ef	89 85 80 f8 ff
	ff		 mov	 DWORD PTR _f$85712[ebp], eax
$L85713:
  002f5	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$85712[ebp]
  002fb	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  00301	73 19		 jae	 SHORT $L85715

; 297  :                 {
; 298  :                     if( DisplayMode.Format == formats[f] )

  00303	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$85712[ebp]
  00309	8b 8d a4 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$85705[ebp+12]
  0030f	3b 8c 85 e0 f8
	ff ff		 cmp	 ecx, DWORD PTR _formats$85697[ebp+eax*4]
  00316	75 02		 jne	 SHORT $L85716

; 299  :                         break;

  00318	eb 02		 jmp	 SHORT $L85715
$L85716:

; 300  :                 }

  0031a	eb ca		 jmp	 SHORT $L85714
$L85715:

; 301  : 
; 302  :                 // If the format is new, add it to the list
; 303  :                 if( f== dwNumFormats )

  0031c	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$85712[ebp]
  00322	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  00328	75 22		 jne	 SHORT $L85711

; 304  :                     formats[dwNumFormats++] = DisplayMode.Format;

  0032a	8b 85 d4 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  00330	8b 8d a4 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$85705[ebp+12]
  00336	89 8c 85 e0 f8
	ff ff		 mov	 DWORD PTR _formats$85697[ebp+eax*4], ecx
  0033d	8b 95 d4 f8 ff
	ff		 mov	 edx, DWORD PTR _dwNumFormats$85698[ebp]
  00343	83 c2 01	 add	 edx, 1
  00346	89 95 d4 f8 ff
	ff		 mov	 DWORD PTR _dwNumFormats$85698[ebp], edx
$L85711:

; 305  :             }
; 306  :         }

  0034c	e9 49 fe ff ff	 jmp	 $L85703
$L85704:

; 307  : 
; 308  :         // Sort the list of display modes (by format, then width, then height)
; 309  :         qsort( modes, dwNumModes, sizeof(D3DDISPLAYMODE), SortModesCallback );

  00351	68 00 00 00 00	 push	 OFFSET FLAT:?SortModesCallback@@YAHPBX0@Z ; SortModesCallback
  00356	6a 10		 push	 16			; 00000010H
  00358	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$85699[ebp]
  0035e	50		 push	 eax
  0035f	8d 8d 38 f9 ff
	ff		 lea	 ecx, DWORD PTR _modes$85696[ebp]
  00365	51		 push	 ecx
  00366	e8 00 00 00 00	 call	 _qsort
  0036b	83 c4 10	 add	 esp, 16			; 00000010H

; 310  : 
; 311  :         // Add devices to adapter
; 312  :         for( UINT iDevice = 0; iDevice < dwNumDeviceTypes; iDevice++ )

  0036e	c7 85 74 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _iDevice$85719[ebp], 0
  00378	eb 0f		 jmp	 SHORT $L85720
$L85721:
  0037a	8b 85 74 f8 ff
	ff		 mov	 eax, DWORD PTR _iDevice$85719[ebp]
  00380	83 c0 01	 add	 eax, 1
  00383	89 85 74 f8 ff
	ff		 mov	 DWORD PTR _iDevice$85719[ebp], eax
$L85720:
  00389	83 bd 74 f8 ff
	ff 02		 cmp	 DWORD PTR _iDevice$85719[ebp], 2
  00390	0f 83 3e 07 00
	00		 jae	 $L85722
  00396	c6 85 5b f6 ff
	ff 00		 mov	 BYTE PTR $T86682[ebp], 0

; 313  :         {
; 314  :             // Fill in device info
; 315  :             D3DDeviceInfo* pDevice;
; 316  :             pDevice                 = &pAdapter->devices[pAdapter->dwNumDevices];

  0039d	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  003a0	8b 88 3c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1084]
  003a6	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  003ac	8b 55 84	 mov	 edx, DWORD PTR _pAdapter$85695[ebp]
  003af	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  003b6	89 85 68 f8 ff
	ff		 mov	 DWORD PTR _pDevice$85723[ebp], eax

; 317  :             pDevice->DeviceType     = DeviceTypes[iDevice];

  003bc	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  003c2	8b 8d 74 f8 ff
	ff		 mov	 ecx, DWORD PTR _iDevice$85719[ebp]
  003c8	8b 54 8d cc	 mov	 edx, DWORD PTR _DeviceTypes$[ebp+ecx*4]
  003cc	89 10		 mov	 DWORD PTR [eax], edx

; 318  :             m_pD3D->GetDeviceCaps( iAdapter, DeviceTypes[iDevice], &pDevice->d3dCaps );

  003ce	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  003d4	83 c0 04	 add	 eax, 4
  003d7	8b f4		 mov	 esi, esp
  003d9	50		 push	 eax
  003da	8b 8d 74 f8 ff
	ff		 mov	 ecx, DWORD PTR _iDevice$85719[ebp]
  003e0	8b 54 8d cc	 mov	 edx, DWORD PTR _DeviceTypes$[ebp+ecx*4]
  003e4	52		 push	 edx
  003e5	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$85691[ebp]
  003e8	50		 push	 eax
  003e9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003ec	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  003f2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003f5	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  003fb	8b 12		 mov	 edx, DWORD PTR [edx]
  003fd	51		 push	 ecx
  003fe	ff 52 34	 call	 DWORD PTR [edx+52]
  00401	3b f4		 cmp	 esi, esp
  00403	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 319  :             pDevice->strDesc        = strDeviceDescs[iDevice];

  00408	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  0040e	8b 8d 74 f8 ff
	ff		 mov	 ecx, DWORD PTR _iDevice$85719[ebp]
  00414	8b 54 8d dc	 mov	 edx, DWORD PTR _strDeviceDescs$[ebp+ecx*4]
  00418	89 90 d8 00 00
	00		 mov	 DWORD PTR [eax+216], edx

; 320  :             pDevice->dwNumModes     = 0;

  0041e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00424	c7 80 e0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+224], 0

; 321  :             pDevice->dwCurrentMode  = 0;

  0042e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00434	c7 80 9c 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3228], 0

; 322  :             pDevice->bCanDoWindowed = FALSE;

  0043e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00444	c7 80 dc 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+220], 0

; 323  :             pDevice->bWindowed      = FALSE;

  0044e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00454	c7 80 a0 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3232], 0

; 324  :             pDevice->MultiSampleTypeFullscreen = D3DMULTISAMPLE_NONE;

  0045e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00464	c7 80 a8 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3240], 0

; 325  :             pDevice->MultiSampleTypeWindowed = D3DMULTISAMPLE_NONE;

  0046e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00474	c7 80 a4 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3236], 0

; 326  : 
; 327  :             // Examine each format supported by the adapter to see if it will
; 328  :             // work with this device and meets the needs of the application.
; 329  :             BOOL  bFormatConfirmed[20];
; 330  :             DWORD dwBehavior[20];
; 331  :             D3DFORMAT fmtDepthStencil[20];
; 332  : 
; 333  :             for( DWORD f=0; f<dwNumFormats; f++ )

  0047e	c7 85 54 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _f$85727[ebp], 0
  00488	eb 0f		 jmp	 SHORT $L85728
$L85729:
  0048a	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00490	83 c0 01	 add	 eax, 1
  00493	89 85 54 f7 ff
	ff		 mov	 DWORD PTR _f$85727[ebp], eax
$L85728:
  00499	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  0049f	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  004a5	0f 83 3a 03 00
	00		 jae	 $L85730

; 334  :             {
; 335  :                 bFormatConfirmed[f] = FALSE;

  004ab	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  004b2	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  004b8	c7 84 85 10 f8
	ff ff 00 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 0

; 336  :                 fmtDepthStencil[f] = D3DFMT_UNKNOWN;

  004c3	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  004c9	c7 84 85 60 f7
	ff ff 00 00 00
	00		 mov	 DWORD PTR _fmtDepthStencil$85726[ebp+eax*4], 0

; 337  : 
; 338  :                 // Skip formats that cannot be used as render targets on this device
; 339  :                 if( FAILED( m_pD3D->CheckDeviceType( iAdapter, pDevice->DeviceType,
; 340  :                                                      formats[f], formats[f], FALSE ) ) )

  004d4	8b f4		 mov	 esi, esp
  004d6	6a 00		 push	 0
  004d8	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  004de	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$85697[ebp+eax*4]
  004e5	51		 push	 ecx
  004e6	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$85727[ebp]
  004ec	8b 84 95 e0 f8
	ff ff		 mov	 eax, DWORD PTR _formats$85697[ebp+edx*4]
  004f3	50		 push	 eax
  004f4	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  004fa	8b 11		 mov	 edx, DWORD PTR [ecx]
  004fc	52		 push	 edx
  004fd	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$85691[ebp]
  00500	50		 push	 eax
  00501	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00504	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0050a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0050d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00513	8b 12		 mov	 edx, DWORD PTR [edx]
  00515	51		 push	 ecx
  00516	ff 52 24	 call	 DWORD PTR [edx+36]
  00519	3b f4		 cmp	 esi, esp
  0051b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00520	85 c0		 test	 eax, eax
  00522	7d 05		 jge	 SHORT $L85732

; 341  :                     continue;

  00524	e9 61 ff ff ff	 jmp	 $L85729
$L85732:

; 342  : 
; 343  :                 if( pDevice->DeviceType == D3DDEVTYPE_HAL )

  00529	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  0052f	83 38 01	 cmp	 DWORD PTR [eax], 1
  00532	75 31		 jne	 SHORT $L85733

; 344  :                 {
; 345  :                     // This system has a HAL device
; 346  :                     bHALExists = TRUE;

  00534	c7 45 c0 01 00
	00 00		 mov	 DWORD PTR _bHALExists$[ebp], 1

; 347  : 
; 348  :                     if( pDevice->d3dCaps.Caps2 & D3DCAPS2_CANRENDERWINDOWED )

  0053b	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00541	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00544	81 e1 00 00 08
	00		 and	 ecx, 524288		; 00080000H
  0054a	85 c9		 test	 ecx, ecx
  0054c	74 17		 je	 SHORT $L85733

; 349  :                     {
; 350  :                         // HAL can run in a window for some mode
; 351  :                         bHALIsWindowedCompatible = TRUE;

  0054e	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR _bHALIsWindowedCompatible$[ebp], 1

; 352  : 
; 353  :                         if( f == 0 )

  00555	83 bd 54 f7 ff
	ff 00		 cmp	 DWORD PTR _f$85727[ebp], 0
  0055c	75 07		 jne	 SHORT $L85733

; 354  :                         {
; 355  :                             // HAL can run in a window for the current desktop mode
; 356  :                             bHALIsDesktopCompatible = TRUE;

  0055e	c7 45 a8 01 00
	00 00		 mov	 DWORD PTR _bHALIsDesktopCompatible$[ebp], 1
$L85733:

; 357  :                         }
; 358  :                     }
; 359  :                 }
; 360  : 
; 361  :                 // Confirm the device/format for HW vertex processing
; 362  :                 if( pDevice->d3dCaps.DevCaps&D3DDEVCAPS_HWTRANSFORMANDLIGHT )

  00565	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  0056b	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0056e	81 e1 00 00 01
	00		 and	 ecx, 65536		; 00010000H
  00574	85 c9		 test	 ecx, ecx
  00576	0f 84 76 01 00
	00		 je	 $L85736

; 363  :                 {
; 364  :                     if( pDevice->d3dCaps.DevCaps&D3DDEVCAPS_PUREDEVICE )

  0057c	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00582	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00585	81 e1 00 00 10
	00		 and	 ecx, 1048576		; 00100000H
  0058b	85 c9		 test	 ecx, ecx
  0058d	74 67		 je	 SHORT $L85737

; 365  :                     {
; 366  :                         dwBehavior[f] = D3DCREATE_HARDWARE_VERTEXPROCESSING |
; 367  :                                         D3DCREATE_PUREDEVICE;

  0058f	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00595	c7 84 85 b8 f7
	ff ff 50 00 00
	00		 mov	 DWORD PTR _dwBehavior$85725[ebp+eax*4], 80 ; 00000050H

; 368  : 
; 369  :                         if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 370  :                                                       formats[f] ) ) )

  005a0	8b f4		 mov	 esi, esp
  005a2	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  005a8	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$85697[ebp+eax*4]
  005af	51		 push	 ecx
  005b0	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$85727[ebp]
  005b6	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$85725[ebp+edx*4]
  005bd	50		 push	 eax
  005be	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  005c4	83 c1 04	 add	 ecx, 4
  005c7	51		 push	 ecx
  005c8	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005cb	8b 02		 mov	 eax, DWORD PTR [edx]
  005cd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  005d0	ff 50 04	 call	 DWORD PTR [eax+4]
  005d3	3b f4		 cmp	 esi, esp
  005d5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005da	85 c0		 test	 eax, eax
  005dc	7c 18		 jl	 SHORT $L85737

; 371  :                             bFormatConfirmed[f] = TRUE;

  005de	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  005e5	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  005eb	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 1
$L85737:

; 372  :                     }
; 373  : 
; 374  :                     if ( FALSE == bFormatConfirmed[f] )

  005f6	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  005fd	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00603	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 0
  0060b	75 67		 jne	 SHORT $L85740

; 375  :                     {
; 376  :                         dwBehavior[f] = D3DCREATE_HARDWARE_VERTEXPROCESSING;

  0060d	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00613	c7 84 85 b8 f7
	ff ff 40 00 00
	00		 mov	 DWORD PTR _dwBehavior$85725[ebp+eax*4], 64 ; 00000040H

; 377  : 
; 378  :                         if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 379  :                                                       formats[f] ) ) )

  0061e	8b f4		 mov	 esi, esp
  00620	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00626	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$85697[ebp+eax*4]
  0062d	51		 push	 ecx
  0062e	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$85727[ebp]
  00634	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$85725[ebp+edx*4]
  0063b	50		 push	 eax
  0063c	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  00642	83 c1 04	 add	 ecx, 4
  00645	51		 push	 ecx
  00646	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00649	8b 02		 mov	 eax, DWORD PTR [edx]
  0064b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0064e	ff 50 04	 call	 DWORD PTR [eax+4]
  00651	3b f4		 cmp	 esi, esp
  00653	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00658	85 c0		 test	 eax, eax
  0065a	7c 18		 jl	 SHORT $L85740

; 380  :                             bFormatConfirmed[f] = TRUE;

  0065c	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  00663	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00669	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 1
$L85740:

; 381  :                     }
; 382  : 
; 383  :                     if ( FALSE == bFormatConfirmed[f] )

  00674	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  0067b	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00681	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 0
  00689	75 67		 jne	 SHORT $L85736

; 384  :                     {
; 385  :                         dwBehavior[f] = D3DCREATE_MIXED_VERTEXPROCESSING;

  0068b	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00691	c7 84 85 b8 f7
	ff ff 80 00 00
	00		 mov	 DWORD PTR _dwBehavior$85725[ebp+eax*4], 128 ; 00000080H

; 386  : 
; 387  :                         if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 388  :                                                       formats[f] ) ) )

  0069c	8b f4		 mov	 esi, esp
  0069e	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  006a4	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$85697[ebp+eax*4]
  006ab	51		 push	 ecx
  006ac	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$85727[ebp]
  006b2	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$85725[ebp+edx*4]
  006b9	50		 push	 eax
  006ba	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  006c0	83 c1 04	 add	 ecx, 4
  006c3	51		 push	 ecx
  006c4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006c7	8b 02		 mov	 eax, DWORD PTR [edx]
  006c9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006cc	ff 50 04	 call	 DWORD PTR [eax+4]
  006cf	3b f4		 cmp	 esi, esp
  006d1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006d6	85 c0		 test	 eax, eax
  006d8	7c 18		 jl	 SHORT $L85736

; 389  :                             bFormatConfirmed[f] = TRUE;

  006da	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  006e1	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  006e7	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 1
$L85736:

; 390  :                     }
; 391  :                 }
; 392  : 
; 393  :                 // Confirm the device/format for SW vertex processing
; 394  :                 if( FALSE == bFormatConfirmed[f] )

  006f2	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  006f9	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  006ff	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 0
  00707	75 67		 jne	 SHORT $L85746

; 395  :                 {
; 396  :                     dwBehavior[f] = D3DCREATE_SOFTWARE_VERTEXPROCESSING;

  00709	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  0070f	c7 84 85 b8 f7
	ff ff 20 00 00
	00		 mov	 DWORD PTR _dwBehavior$85725[ebp+eax*4], 32 ; 00000020H

; 397  : 
; 398  :                     if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 399  :                                                   formats[f] ) ) )

  0071a	8b f4		 mov	 esi, esp
  0071c	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00722	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$85697[ebp+eax*4]
  00729	51		 push	 ecx
  0072a	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$85727[ebp]
  00730	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$85725[ebp+edx*4]
  00737	50		 push	 eax
  00738	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  0073e	83 c1 04	 add	 ecx, 4
  00741	51		 push	 ecx
  00742	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00745	8b 02		 mov	 eax, DWORD PTR [edx]
  00747	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0074a	ff 50 04	 call	 DWORD PTR [eax+4]
  0074d	3b f4		 cmp	 esi, esp
  0074f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00754	85 c0		 test	 eax, eax
  00756	7c 18		 jl	 SHORT $L85746

; 400  :                         bFormatConfirmed[f] = TRUE;

  00758	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  0075f	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00765	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 1
$L85746:

; 401  :                 }
; 402  : 
; 403  :                 // Find a suitable depth/stencil buffer format for this device/format
; 404  :                 if( bFormatConfirmed[f] && m_bUseDepthBuffer )

  00770	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  00777	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  0077d	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 0
  00785	74 59		 je	 SHORT $L85749
  00787	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0078a	83 b8 88 a6 02
	00 00		 cmp	 DWORD PTR [eax+173704], 0
  00791	74 4d		 je	 SHORT $L85749

; 405  :                 {
; 406  :                     if( !FindDepthStencilFormat( iAdapter, pDevice->DeviceType,
; 407  :                         formats[f], &fmtDepthStencil[f] ) )

  00793	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  00799	8d 8c 85 60 f7
	ff ff		 lea	 ecx, DWORD PTR _fmtDepthStencil$85726[ebp+eax*4]
  007a0	51		 push	 ecx
  007a1	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$85727[ebp]
  007a7	8b 84 95 e0 f8
	ff ff		 mov	 eax, DWORD PTR _formats$85697[ebp+edx*4]
  007ae	50		 push	 eax
  007af	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  007b5	8b 11		 mov	 edx, DWORD PTR [ecx]
  007b7	52		 push	 edx
  007b8	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$85691[ebp]
  007bb	50		 push	 eax
  007bc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007bf	e8 00 00 00 00	 call	 ?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z ; CD3DApplication::FindDepthStencilFormat
  007c4	85 c0		 test	 eax, eax
  007c6	75 18		 jne	 SHORT $L85749

; 408  :                     {
; 409  :                         bFormatConfirmed[f] = FALSE;

  007c8	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  007cf	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$85727[ebp]
  007d5	c7 84 85 10 f8
	ff ff 00 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 0
$L85749:

; 410  :                     }
; 411  :                 }
; 412  :             }

  007e0	e9 a5 fc ff ff	 jmp	 $L85729
$L85730:

; 413  : 
; 414  :             // Add all enumerated display modes with confirmed formats to the
; 415  :             // device's list of valid modes
; 416  :             for( DWORD m=0L; m<dwNumModes; m++ )

  007e5	c7 85 48 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$85751[ebp], 0
  007ef	eb 0f		 jmp	 SHORT $L85752
$L85753:
  007f1	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  007f7	83 c0 01	 add	 eax, 1
  007fa	89 85 48 f7 ff
	ff		 mov	 DWORD PTR _m$85751[ebp], eax
$L85752:
  00800	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  00806	3b 85 c8 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumModes$85699[ebp]
  0080c	0f 83 78 01 00
	00		 jae	 $L85754

; 417  :             {
; 418  :                 for( DWORD f=0; f<dwNumFormats; f++ )

  00812	c7 85 3c f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _f$85755[ebp], 0
  0081c	eb 0f		 jmp	 SHORT $L85756
$L85757:
  0081e	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$85755[ebp]
  00824	83 c0 01	 add	 eax, 1
  00827	89 85 3c f7 ff
	ff		 mov	 DWORD PTR _f$85755[ebp], eax
$L85756:
  0082d	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$85755[ebp]
  00833	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$85698[ebp]
  00839	0f 83 46 01 00
	00		 jae	 $L85758

; 419  :                 {
; 420  :                     if( modes[m].Format == formats[f] )

  0083f	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  00845	c1 e0 04	 shl	 eax, 4
  00848	8b 8d 3c f7 ff
	ff		 mov	 ecx, DWORD PTR _f$85755[ebp]
  0084e	8b 94 05 44 f9
	ff ff		 mov	 edx, DWORD PTR _modes$85696[ebp+eax+12]
  00855	3b 94 8d e0 f8
	ff ff		 cmp	 edx, DWORD PTR _formats$85697[ebp+ecx*4]
  0085c	0f 85 1e 01 00
	00		 jne	 $L85759

; 421  :                     {
; 422  :                         if( bFormatConfirmed[f] == TRUE )

  00862	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T86682[ebp], 1
  00869	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$85755[ebp]
  0086f	83 bc 85 10 f8
	ff ff 01	 cmp	 DWORD PTR _bFormatConfirmed$85724[ebp+eax*4], 1
  00877	0f 85 03 01 00
	00		 jne	 $L85759

; 423  :                         {
; 424  :                             // Add this mode to the device's list of valid modes
; 425  :                             pDevice->modes[pDevice->dwNumModes].Width      = modes[m].Width;

  0087d	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  00883	c1 e0 04	 shl	 eax, 4
  00886	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  0088c	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  00892	6b d2 14	 imul	 edx, 20			; 00000014H
  00895	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  0089b	8b 84 05 38 f9
	ff ff		 mov	 eax, DWORD PTR _modes$85696[ebp+eax]
  008a2	89 84 11 e4 00
	00 00		 mov	 DWORD PTR [ecx+edx+228], eax

; 426  :                             pDevice->modes[pDevice->dwNumModes].Height     = modes[m].Height;

  008a9	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  008af	c1 e0 04	 shl	 eax, 4
  008b2	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  008b8	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  008be	6b d2 14	 imul	 edx, 20			; 00000014H
  008c1	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  008c7	8b 84 05 3c f9
	ff ff		 mov	 eax, DWORD PTR _modes$85696[ebp+eax+4]
  008ce	89 84 11 e8 00
	00 00		 mov	 DWORD PTR [ecx+edx+232], eax

; 427  :                             pDevice->modes[pDevice->dwNumModes].Format     = modes[m].Format;

  008d5	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  008db	c1 e0 04	 shl	 eax, 4
  008de	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  008e4	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  008ea	6b d2 14	 imul	 edx, 20			; 00000014H
  008ed	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  008f3	8b 84 05 44 f9
	ff ff		 mov	 eax, DWORD PTR _modes$85696[ebp+eax+12]
  008fa	89 84 11 ec 00
	00 00		 mov	 DWORD PTR [ecx+edx+236], eax

; 428  :                             pDevice->modes[pDevice->dwNumModes].dwBehavior = dwBehavior[f];

  00901	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00907	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  0090d	6b c9 14	 imul	 ecx, 20			; 00000014H
  00910	8b 95 68 f8 ff
	ff		 mov	 edx, DWORD PTR _pDevice$85723[ebp]
  00916	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$85755[ebp]
  0091c	8b 84 85 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$85725[ebp+eax*4]
  00923	89 84 0a f0 00
	00 00		 mov	 DWORD PTR [edx+ecx+240], eax

; 429  :                             pDevice->modes[pDevice->dwNumModes].DepthStencilFormat = fmtDepthStencil[f];

  0092a	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00930	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00936	6b c9 14	 imul	 ecx, 20			; 00000014H
  00939	8b 95 68 f8 ff
	ff		 mov	 edx, DWORD PTR _pDevice$85723[ebp]
  0093f	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$85755[ebp]
  00945	8b 84 85 60 f7
	ff ff		 mov	 eax, DWORD PTR _fmtDepthStencil$85726[ebp+eax*4]
  0094c	89 84 0a f4 00
	00 00		 mov	 DWORD PTR [edx+ecx+244], eax

; 430  :                             pDevice->dwNumModes++;

  00953	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00959	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  0095f	83 c1 01	 add	 ecx, 1
  00962	8b 95 68 f8 ff
	ff		 mov	 edx, DWORD PTR _pDevice$85723[ebp]
  00968	89 8a e0 00 00
	00		 mov	 DWORD PTR [edx+224], ecx

; 431  : 
; 432  :                             if( pDevice->DeviceType == D3DDEVTYPE_HAL )

  0096e	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00974	83 38 01	 cmp	 DWORD PTR [eax], 1
  00977	75 07		 jne	 SHORT $L85759

; 433  :                                 bHALIsSampleCompatible = TRUE;

  00979	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _bHALIsSampleCompatible$[ebp], 1
$L85759:

; 434  :                         }
; 435  :                     }
; 436  :                 }

  00980	e9 99 fe ff ff	 jmp	 $L85757
$L85758:

; 437  :             }

  00985	e9 67 fe ff ff	 jmp	 $L85753
$L85754:

; 438  : 
; 439  :             // Select any 640x480 mode for default (but prefer a 16-bit mode)
; 440  :             for( m=0; m<pDevice->dwNumModes; m++ )

  0098a	c7 85 48 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$85751[ebp], 0
  00994	eb 0f		 jmp	 SHORT $L85762
$L85763:
  00996	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  0099c	83 c0 01	 add	 eax, 1
  0099f	89 85 48 f7 ff
	ff		 mov	 DWORD PTR _m$85751[ebp], eax
$L85762:
  009a5	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  009ab	8b 8d 48 f7 ff
	ff		 mov	 ecx, DWORD PTR _m$85751[ebp]
  009b1	3b 88 e0 00 00
	00		 cmp	 ecx, DWORD PTR [eax+224]
  009b7	0f 83 9c 00 00
	00		 jae	 $L85764

; 441  :             {
; 442  :                 if( pDevice->modes[m].Width==640 && pDevice->modes[m].Height==480 )

  009bd	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  009c3	6b c0 14	 imul	 eax, 20			; 00000014H
  009c6	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  009cc	81 bc 01 e4 00
	00 00 80 02 00
	00		 cmp	 DWORD PTR [ecx+eax+228], 640 ; 00000280H
  009d7	75 7b		 jne	 SHORT $L85765
  009d9	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  009df	6b c0 14	 imul	 eax, 20			; 00000014H
  009e2	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  009e8	81 bc 01 e8 00
	00 00 e0 01 00
	00		 cmp	 DWORD PTR [ecx+eax+232], 480 ; 000001e0H
  009f3	75 5f		 jne	 SHORT $L85765

; 443  :                 {
; 444  :                     pDevice->dwCurrentMode = m;

  009f5	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  009fb	8b 8d 48 f7 ff
	ff		 mov	 ecx, DWORD PTR _m$85751[ebp]
  00a01	89 88 9c 0c 00
	00		 mov	 DWORD PTR [eax+3228], ecx

; 445  :                     if( pDevice->modes[m].Format == D3DFMT_R5G6B5 ||
; 446  :                         pDevice->modes[m].Format == D3DFMT_X1R5G5B5 ||
; 447  :                         pDevice->modes[m].Format == D3DFMT_A1R5G5B5 )

  00a07	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  00a0d	6b c0 14	 imul	 eax, 20			; 00000014H
  00a10	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  00a16	83 bc 01 ec 00
	00 00 17	 cmp	 DWORD PTR [ecx+eax+236], 23 ; 00000017H
  00a1e	74 32		 je	 SHORT $L85767
  00a20	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  00a26	6b c0 14	 imul	 eax, 20			; 00000014H
  00a29	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  00a2f	83 bc 01 ec 00
	00 00 18	 cmp	 DWORD PTR [ecx+eax+236], 24 ; 00000018H
  00a37	74 19		 je	 SHORT $L85767
  00a39	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$85751[ebp]
  00a3f	6b c0 14	 imul	 eax, 20			; 00000014H
  00a42	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$85723[ebp]
  00a48	83 bc 01 ec 00
	00 00 19	 cmp	 DWORD PTR [ecx+eax+236], 25 ; 00000019H
  00a50	75 02		 jne	 SHORT $L85765
$L85767:

; 448  :                     {
; 449  :                         break;

  00a52	eb 05		 jmp	 SHORT $L85764
$L85765:

; 450  :                     }
; 451  :                 }
; 452  :             }

  00a54	e9 3d ff ff ff	 jmp	 $L85763
$L85764:

; 453  : 
; 454  :             // Check if the device is compatible with the desktop display mode
; 455  :             // (which was added initially as formats[0])
; 456  :             if( bFormatConfirmed[0] && (pDevice->d3dCaps.Caps2 & D3DCAPS2_CANRENDERWINDOWED) )

  00a59	80 bd 5b f6 ff
	ff 00		 cmp	 BYTE PTR $T86682[ebp], 0
  00a60	75 0d		 jne	 SHORT $L86683
  00a62	68 00 00 00 00	 push	 OFFSET FLAT:$L86684
  00a67	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a6c	83 c4 04	 add	 esp, 4
$L86683:
  00a6f	83 bd 10 f8 ff
	ff 00		 cmp	 DWORD PTR _bFormatConfirmed$85724[ebp], 0
  00a76	74 33		 je	 SHORT $L85768
  00a78	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00a7e	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00a81	81 e1 00 00 08
	00		 and	 ecx, 524288		; 00080000H
  00a87	85 c9		 test	 ecx, ecx
  00a89	74 20		 je	 SHORT $L85768

; 457  :             {
; 458  :                 pDevice->bCanDoWindowed = TRUE;

  00a8b	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00a91	c7 80 dc 00 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+220], 1

; 459  :                 pDevice->bWindowed      = TRUE;

  00a9b	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00aa1	c7 80 a0 0c 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3232], 1
$L85768:

; 460  :             }
; 461  : 
; 462  :             // If valid modes were found, keep this device
; 463  :             if( pDevice->dwNumModes > 0 )

  00aab	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$85723[ebp]
  00ab1	83 b8 e0 00 00
	00 00		 cmp	 DWORD PTR [eax+224], 0
  00ab8	76 15		 jbe	 SHORT $L85769

; 464  :                 pAdapter->dwNumDevices++;

  00aba	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  00abd	8b 88 3c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1084]
  00ac3	83 c1 01	 add	 ecx, 1
  00ac6	8b 55 84	 mov	 edx, DWORD PTR _pAdapter$85695[ebp]
  00ac9	89 8a 3c 04 00
	00		 mov	 DWORD PTR [edx+1084], ecx
$L85769:

; 465  :         }

  00acf	e9 a6 f8 ff ff	 jmp	 $L85721
$L85722:

; 466  : 
; 467  :         // If valid devices were found, keep this adapter
; 468  :         if( pAdapter->dwNumDevices > 0 )

  00ad4	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$85695[ebp]
  00ad7	83 b8 3c 04 00
	00 00		 cmp	 DWORD PTR [eax+1084], 0
  00ade	76 15		 jbe	 SHORT $L85770

; 469  :             m_dwNumAdapters++;

  00ae0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00ae3	8b 88 44 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173124]
  00ae9	83 c1 01	 add	 ecx, 1
  00aec	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00aef	89 8a 44 a4 02
	00		 mov	 DWORD PTR [edx+173124], ecx
$L85770:

; 470  :     }

  00af5	e9 71 f5 ff ff	 jmp	 $L85693
$L85694:

; 471  : 
; 472  :     // Return an error if no compatible devices were found
; 473  :     if( 0L == m_dwNumAdapters )

  00afa	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00afd	83 b8 44 a4 02
	00 00		 cmp	 DWORD PTR [eax+173124], 0
  00b04	75 0a		 jne	 SHORT $L85771

; 474  :         return D3DAPPERR_NOCOMPATIBLEDEVICES;

  00b06	b8 03 00 00 82	 mov	 eax, -2113929213	; 82000003H
  00b0b	e9 79 01 00 00	 jmp	 $L85681
$L85771:

; 475  : 
; 476  :     // Pick a default device that can render into a window
; 477  :     // (This code assumes that the HAL device comes before the REF
; 478  :     // device in the device array).
; 479  :     for( DWORD a=0; a<m_dwNumAdapters; a++ )

  00b10	c7 85 30 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _a$85772[ebp], 0
  00b1a	eb 0f		 jmp	 SHORT $L85773
$L85774:
  00b1c	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$85772[ebp]
  00b22	83 c0 01	 add	 eax, 1
  00b25	89 85 30 f7 ff
	ff		 mov	 DWORD PTR _a$85772[ebp], eax
$L85773:
  00b2b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00b2e	8b 8d 30 f7 ff
	ff		 mov	 ecx, DWORD PTR _a$85772[ebp]
  00b34	3b 88 44 a4 02
	00		 cmp	 ecx, DWORD PTR [eax+173124]
  00b3a	0f 83 44 01 00
	00		 jae	 $L85775

; 480  :     {
; 481  :         for( DWORD d=0; d < m_Adapters[a].dwNumDevices; d++ )

  00b40	c7 85 24 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _d$85776[ebp], 0
  00b4a	eb 0f		 jmp	 SHORT $L85777
$L85778:
  00b4c	8b 85 24 f7 ff
	ff		 mov	 eax, DWORD PTR _d$85776[ebp]
  00b52	83 c0 01	 add	 eax, 1
  00b55	89 85 24 f7 ff
	ff		 mov	 DWORD PTR _d$85776[ebp], eax
$L85777:
  00b5b	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$85772[ebp]
  00b61	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00b67	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00b6a	8b 95 24 f7 ff
	ff		 mov	 edx, DWORD PTR _d$85776[ebp]
  00b70	3b 94 01 40 04
	00 00		 cmp	 edx, DWORD PTR [ecx+eax+1088]
  00b77	0f 83 02 01 00
	00		 jae	 $L85779

; 482  :         {
; 483  :             if( m_Adapters[a].devices[d].bWindowed )

  00b7d	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$85772[ebp]
  00b83	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00b89	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00b8c	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00b90	8b 85 24 f7 ff
	ff		 mov	 eax, DWORD PTR _d$85776[ebp]
  00b96	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00b9c	83 bc 02 e0 10
	00 00 00	 cmp	 DWORD PTR [edx+eax+4320], 0
  00ba4	0f 84 d0 00 00
	00		 je	 $L85780

; 484  :             {
; 485  :                 m_Adapters[a].dwCurrentDevice = d;

  00baa	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$85772[ebp]
  00bb0	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00bb6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00bb9	8b 95 24 f7 ff
	ff		 mov	 edx, DWORD PTR _d$85776[ebp]
  00bbf	89 94 01 a0 43
	00 00		 mov	 DWORD PTR [ecx+eax+17312], edx

; 486  :                 m_dwAdapter = a;

  00bc6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00bc9	8b 8d 30 f7 ff
	ff		 mov	 ecx, DWORD PTR _a$85772[ebp]
  00bcf	89 88 48 a4 02
	00		 mov	 DWORD PTR [eax+173128], ecx

; 487  :                 m_bWindowed = TRUE;

  00bd5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00bd8	c7 80 4c a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173132], 1

; 488  : 
; 489  :                 // Display a warning message
; 490  :                 if( m_Adapters[a].devices[d].DeviceType == D3DDEVTYPE_REF )

  00be2	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$85772[ebp]
  00be8	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00bee	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00bf1	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00bf5	8b 85 24 f7 ff
	ff		 mov	 eax, DWORD PTR _d$85776[ebp]
  00bfb	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00c01	83 bc 02 40 04
	00 00 02	 cmp	 DWORD PTR [edx+eax+1088], 2
  00c09	75 6b		 jne	 SHORT $L85781

; 491  :                 {
; 492  :                     if( !bHALExists )

  00c0b	83 7d c0 00	 cmp	 DWORD PTR _bHALExists$[ebp], 0
  00c0f	75 11		 jne	 SHORT $L85782

; 493  :                         DisplayErrorMsg( D3DAPPERR_NOHARDWAREDEVICE, MSGWARN_SWITCHEDTOREF );

  00c11	6a 02		 push	 2
  00c13	68 05 00 00 82	 push	 -2113929211		; 82000005H
  00c18	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c1b	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 494  :                     else if( !bHALIsSampleCompatible )

  00c20	eb 54		 jmp	 SHORT $L85781
$L85782:
  00c22	83 7d 9c 00	 cmp	 DWORD PTR _bHALIsSampleCompatible$[ebp], 0
  00c26	75 11		 jne	 SHORT $L85784

; 495  :                         DisplayErrorMsg( D3DAPPERR_HALNOTCOMPATIBLE, MSGWARN_SWITCHEDTOREF );

  00c28	6a 02		 push	 2
  00c2a	68 06 00 00 82	 push	 -2113929210		; 82000006H
  00c2f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c32	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 496  :                     else if( !bHALIsWindowedCompatible )

  00c37	eb 3d		 jmp	 SHORT $L85781
$L85784:
  00c39	83 7d b4 00	 cmp	 DWORD PTR _bHALIsWindowedCompatible$[ebp], 0
  00c3d	75 11		 jne	 SHORT $L85786

; 497  :                         DisplayErrorMsg( D3DAPPERR_NOWINDOWEDHAL, MSGWARN_SWITCHEDTOREF );

  00c3f	6a 02		 push	 2
  00c41	68 07 00 00 82	 push	 -2113929209		; 82000007H
  00c46	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c49	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 498  :                     else if( !bHALIsDesktopCompatible )

  00c4e	eb 26		 jmp	 SHORT $L85781
$L85786:
  00c50	83 7d a8 00	 cmp	 DWORD PTR _bHALIsDesktopCompatible$[ebp], 0
  00c54	75 11		 jne	 SHORT $L85788

; 499  :                         DisplayErrorMsg( D3DAPPERR_NODESKTOPHAL, MSGWARN_SWITCHEDTOREF );

  00c56	6a 02		 push	 2
  00c58	68 08 00 00 82	 push	 -2113929208		; 82000008H
  00c5d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c60	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 500  :                     else // HAL is desktop compatible, but not sample compatible

  00c65	eb 0f		 jmp	 SHORT $L85781
$L85788:

; 501  :                         DisplayErrorMsg( D3DAPPERR_NOHALTHISMODE, MSGWARN_SWITCHEDTOREF );

  00c67	6a 02		 push	 2
  00c69	68 09 00 00 82	 push	 -2113929207		; 82000009H
  00c6e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c71	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
$L85781:

; 502  :                 }
; 503  : 
; 504  :                 return S_OK;

  00c76	33 c0		 xor	 eax, eax
  00c78	eb 0f		 jmp	 SHORT $L85681
$L85780:

; 505  :             }
; 506  :         }

  00c7a	e9 cd fe ff ff	 jmp	 $L85778
$L85779:

; 507  :     }

  00c7f	e9 98 fe ff ff	 jmp	 $L85774
$L85775:

; 508  : 
; 509  :     return D3DAPPERR_NOWINDOWABLEDEVICES;

  00c84	b8 04 00 00 82	 mov	 eax, -2113929212	; 82000004H
$L85681:

; 510  : }

  00c89	52		 push	 edx
  00c8a	8b cd		 mov	 ecx, ebp
  00c8c	50		 push	 eax
  00c8d	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86694
  00c93	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00c98	58		 pop	 eax
  00c99	5a		 pop	 edx
  00c9a	5f		 pop	 edi
  00c9b	5e		 pop	 esi
  00c9c	5b		 pop	 ebx
  00c9d	81 c4 ac 09 00
	00		 add	 esp, 2476		; 000009acH
  00ca3	3b ec		 cmp	 ebp, esp
  00ca5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00caa	8b e5		 mov	 esp, ebp
  00cac	5d		 pop	 ebp
  00cad	c3		 ret	 0
$L86694:
  00cae	08 00 00 00	 DD	 8
  00cb2	00 00 00 00	 DD	 $L86693
$L86693:
  00cb6	10 f8 ff ff	 DD	 -2032			; fffff810H
  00cba	50 00 00 00	 DD	 80			; 00000050H
  00cbe	00 00 00 00	 DD	 $L86684
  00cc2	dc ff ff ff	 DD	 -36			; ffffffdcH
  00cc6	08 00 00 00	 DD	 8
  00cca	00 00 00 00	 DD	 $L86686
  00cce	cc ff ff ff	 DD	 -52			; ffffffccH
  00cd2	08 00 00 00	 DD	 8
  00cd6	00 00 00 00	 DD	 $L86687
  00cda	38 f9 ff ff	 DD	 -1736			; fffff938H
  00cde	40 06 00 00	 DD	 1600			; 00000640H
  00ce2	00 00 00 00	 DD	 $L86688
  00ce6	e0 f8 ff ff	 DD	 -1824			; fffff8e0H
  00cea	50 00 00 00	 DD	 80			; 00000050H
  00cee	00 00 00 00	 DD	 $L86689
  00cf2	98 f8 ff ff	 DD	 -1896			; fffff898H
  00cf6	10 00 00 00	 DD	 16			; 00000010H
  00cfa	00 00 00 00	 DD	 $L86690
  00cfe	b8 f7 ff ff	 DD	 -2120			; fffff7b8H
  00d02	50 00 00 00	 DD	 80			; 00000050H
  00d06	00 00 00 00	 DD	 $L86691
  00d0a	60 f7 ff ff	 DD	 -2208			; fffff760H
  00d0e	50 00 00 00	 DD	 80			; 00000050H
  00d12	00 00 00 00	 DD	 $L86692
$L86692:
  00d16	66		 DB	 102			; 00000066H
  00d17	6d		 DB	 109			; 0000006dH
  00d18	74		 DB	 116			; 00000074H
  00d19	44		 DB	 68			; 00000044H
  00d1a	65		 DB	 101			; 00000065H
  00d1b	70		 DB	 112			; 00000070H
  00d1c	74		 DB	 116			; 00000074H
  00d1d	68		 DB	 104			; 00000068H
  00d1e	53		 DB	 83			; 00000053H
  00d1f	74		 DB	 116			; 00000074H
  00d20	65		 DB	 101			; 00000065H
  00d21	6e		 DB	 110			; 0000006eH
  00d22	63		 DB	 99			; 00000063H
  00d23	69		 DB	 105			; 00000069H
  00d24	6c		 DB	 108			; 0000006cH
  00d25	00		 DB	 0
$L86691:
  00d26	64		 DB	 100			; 00000064H
  00d27	77		 DB	 119			; 00000077H
  00d28	42		 DB	 66			; 00000042H
  00d29	65		 DB	 101			; 00000065H
  00d2a	68		 DB	 104			; 00000068H
  00d2b	61		 DB	 97			; 00000061H
  00d2c	76		 DB	 118			; 00000076H
  00d2d	69		 DB	 105			; 00000069H
  00d2e	6f		 DB	 111			; 0000006fH
  00d2f	72		 DB	 114			; 00000072H
  00d30	00		 DB	 0
$L86690:
  00d31	44		 DB	 68			; 00000044H
  00d32	69		 DB	 105			; 00000069H
  00d33	73		 DB	 115			; 00000073H
  00d34	70		 DB	 112			; 00000070H
  00d35	6c		 DB	 108			; 0000006cH
  00d36	61		 DB	 97			; 00000061H
  00d37	79		 DB	 121			; 00000079H
  00d38	4d		 DB	 77			; 0000004dH
  00d39	6f		 DB	 111			; 0000006fH
  00d3a	64		 DB	 100			; 00000064H
  00d3b	65		 DB	 101			; 00000065H
  00d3c	00		 DB	 0
$L86689:
  00d3d	66		 DB	 102			; 00000066H
  00d3e	6f		 DB	 111			; 0000006fH
  00d3f	72		 DB	 114			; 00000072H
  00d40	6d		 DB	 109			; 0000006dH
  00d41	61		 DB	 97			; 00000061H
  00d42	74		 DB	 116			; 00000074H
  00d43	73		 DB	 115			; 00000073H
  00d44	00		 DB	 0
$L86688:
  00d45	6d		 DB	 109			; 0000006dH
  00d46	6f		 DB	 111			; 0000006fH
  00d47	64		 DB	 100			; 00000064H
  00d48	65		 DB	 101			; 00000065H
  00d49	73		 DB	 115			; 00000073H
  00d4a	00		 DB	 0
$L86687:
  00d4b	44		 DB	 68			; 00000044H
  00d4c	65		 DB	 101			; 00000065H
  00d4d	76		 DB	 118			; 00000076H
  00d4e	69		 DB	 105			; 00000069H
  00d4f	63		 DB	 99			; 00000063H
  00d50	65		 DB	 101			; 00000065H
  00d51	54		 DB	 84			; 00000054H
  00d52	79		 DB	 121			; 00000079H
  00d53	70		 DB	 112			; 00000070H
  00d54	65		 DB	 101			; 00000065H
  00d55	73		 DB	 115			; 00000073H
  00d56	00		 DB	 0
$L86686:
  00d57	73		 DB	 115			; 00000073H
  00d58	74		 DB	 116			; 00000074H
  00d59	72		 DB	 114			; 00000072H
  00d5a	44		 DB	 68			; 00000044H
  00d5b	65		 DB	 101			; 00000065H
  00d5c	76		 DB	 118			; 00000076H
  00d5d	69		 DB	 105			; 00000069H
  00d5e	63		 DB	 99			; 00000063H
  00d5f	65		 DB	 101			; 00000065H
  00d60	44		 DB	 68			; 00000044H
  00d61	65		 DB	 101			; 00000065H
  00d62	73		 DB	 115			; 00000073H
  00d63	63		 DB	 99			; 00000063H
  00d64	73		 DB	 115			; 00000073H
  00d65	00		 DB	 0
$L86684:
  00d66	62		 DB	 98			; 00000062H
  00d67	46		 DB	 70			; 00000046H
  00d68	6f		 DB	 111			; 0000006fH
  00d69	72		 DB	 114			; 00000072H
  00d6a	6d		 DB	 109			; 0000006dH
  00d6b	61		 DB	 97			; 00000061H
  00d6c	74		 DB	 116			; 00000074H
  00d6d	43		 DB	 67			; 00000043H
  00d6e	6f		 DB	 111			; 0000006fH
  00d6f	6e		 DB	 110			; 0000006eH
  00d70	66		 DB	 102			; 00000066H
  00d71	69		 DB	 105			; 00000069H
  00d72	72		 DB	 114			; 00000072H
  00d73	6d		 DB	 109			; 0000006dH
  00d74	65		 DB	 101			; 00000065H
  00d75	64		 DB	 100			; 00000064H
  00d76	00		 DB	 0
?BuildDeviceList@CD3DApplication@@IAEJXZ ENDP		; CD3DApplication::BuildDeviceList
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?SortModesCallback@@YAHPBX0@Z
_TEXT	SEGMENT
_p2$ = -20
_p1$ = -8
_arg1$ = 8
_arg2$ = 12
?SortModesCallback@@YAHPBX0@Z PROC NEAR			; SortModesCallback, COMDAT

; 214  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 215  :     D3DDISPLAYMODE* p1 = (D3DDISPLAYMODE*)arg1;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _arg1$[ebp]
  00021	89 45 f8	 mov	 DWORD PTR _p1$[ebp], eax

; 216  :     D3DDISPLAYMODE* p2 = (D3DDISPLAYMODE*)arg2;

  00024	8b 45 0c	 mov	 eax, DWORD PTR _arg2$[ebp]
  00027	89 45 ec	 mov	 DWORD PTR _p2$[ebp], eax

; 217  : 
; 218  :     if( p1->Format > p2->Format )   return -1;

  0002a	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  0002d	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00030	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00033	3b 51 0c	 cmp	 edx, DWORD PTR [ecx+12]
  00036	7e 05		 jle	 SHORT $L85673
  00038	83 c8 ff	 or	 eax, -1
  0003b	eb 63		 jmp	 SHORT $L85668
$L85673:

; 219  :     if( p1->Format < p2->Format )   return +1;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00040	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00043	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00046	3b 51 0c	 cmp	 edx, DWORD PTR [ecx+12]
  00049	7d 07		 jge	 SHORT $L85674
  0004b	b8 01 00 00 00	 mov	 eax, 1
  00050	eb 4e		 jmp	 SHORT $L85668
$L85674:

; 220  :     if( p1->Width  < p2->Width )    return -1;

  00052	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00055	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00058	8b 10		 mov	 edx, DWORD PTR [eax]
  0005a	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0005c	73 05		 jae	 SHORT $L85675
  0005e	83 c8 ff	 or	 eax, -1
  00061	eb 3d		 jmp	 SHORT $L85668
$L85675:

; 221  :     if( p1->Width  > p2->Width )    return +1;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00066	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00069	8b 10		 mov	 edx, DWORD PTR [eax]
  0006b	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0006d	76 07		 jbe	 SHORT $L85676
  0006f	b8 01 00 00 00	 mov	 eax, 1
  00074	eb 2a		 jmp	 SHORT $L85668
$L85676:

; 222  :     if( p1->Height < p2->Height )   return -1;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00079	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  0007c	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0007f	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  00082	73 05		 jae	 SHORT $L85677
  00084	83 c8 ff	 or	 eax, -1
  00087	eb 17		 jmp	 SHORT $L85668
$L85677:

; 223  :     if( p1->Height > p2->Height )   return +1;

  00089	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  0008c	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  0008f	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00092	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  00095	76 07		 jbe	 SHORT $L85678
  00097	b8 01 00 00 00	 mov	 eax, 1
  0009c	eb 02		 jmp	 SHORT $L85668
$L85678:

; 224  : 
; 225  :     return 0;

  0009e	33 c0		 xor	 eax, eax
$L85668:

; 226  : }

  000a0	5f		 pop	 edi
  000a1	5e		 pop	 esi
  000a2	5b		 pop	 ebx
  000a3	8b e5		 mov	 esp, ebp
  000a5	5d		 pop	 ebp
  000a6	c3		 ret	 0
?SortModesCallback@@YAHPBX0@Z ENDP			; SortModesCallback
; Function compile flags: /Odt /RTCsu /ZI
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\include\d3dapp_custom.h
_TEXT	ENDS
;	COMDAT ?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z
_TEXT	SEGMENT
_this$ = -8
___formal$ = 8
___formal$ = 12
___formal$ = 16
?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z PROC NEAR ; CD3DApplication::ConfirmDevice, COMDAT
; _this$ = ecx

; 198  :     virtual HRESULT ConfirmDevice(D3DCAPS8*,DWORD,D3DFORMAT)   { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 0c 00	 ret	 12			; 0000000cH
?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z ENDP ; CD3DApplication::ConfirmDevice
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?OneTimeSceneInit@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?OneTimeSceneInit@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::OneTimeSceneInit, COMDAT
; _this$ = ecx

; 199  :     virtual HRESULT OneTimeSceneInit()                         { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?OneTimeSceneInit@CD3DApplication@@MAEJXZ ENDP		; CD3DApplication::OneTimeSceneInit
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?InitDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?InitDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::InitDeviceObjects, COMDAT
; _this$ = ecx

; 200  :     virtual HRESULT InitDeviceObjects()                        { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?InitDeviceObjects@CD3DApplication@@MAEJXZ ENDP		; CD3DApplication::InitDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\src\d3dapp_custom.cpp
_TEXT	ENDS
;	COMDAT ?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z
_TEXT	SEGMENT
_this$ = -8
_iAdapter$ = 8
_DeviceType$ = 12
_TargetFormat$ = 16
_pDepthStencilFormat$ = 20
?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z PROC NEAR ; CD3DApplication::FindDepthStencilFormat, COMDAT
; _this$ = ecx

; 522  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 523  :     if( m_dwMinDepthBits <= 16 && m_dwMinStencilBits == 0 )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 b8 8c a6 02
	00 10		 cmp	 DWORD PTR [eax+173708], 16 ; 00000010H
  0002d	0f 87 91 00 00
	00		 ja	 $L85798
  00033	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00036	83 b8 90 a6 02
	00 00		 cmp	 DWORD PTR [eax+173712], 0
  0003d	0f 85 81 00 00
	00		 jne	 $L85798

; 524  :     {
; 525  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 526  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D16 ) ) )

  00043	8b f4		 mov	 esi, esp
  00045	6a 50		 push	 80			; 00000050H
  00047	6a 01		 push	 1
  00049	6a 02		 push	 2
  0004b	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  0004e	50		 push	 eax
  0004f	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00052	51		 push	 ecx
  00053	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00056	52		 push	 edx
  00057	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005a	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00060	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00063	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00069	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0006b	50		 push	 eax
  0006c	ff 51 28	 call	 DWORD PTR [ecx+40]
  0006f	3b f4		 cmp	 esi, esp
  00071	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00076	85 c0		 test	 eax, eax
  00078	7c 4a		 jl	 SHORT $L85798

; 527  :         {
; 528  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 529  :                 TargetFormat, TargetFormat, D3DFMT_D16 ) ) )

  0007a	8b f4		 mov	 esi, esp
  0007c	6a 50		 push	 80			; 00000050H
  0007e	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00081	50		 push	 eax
  00082	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00085	51		 push	 ecx
  00086	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  00089	52		 push	 edx
  0008a	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  0008d	50		 push	 eax
  0008e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00091	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00097	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009a	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  000a0	8b 12		 mov	 edx, DWORD PTR [edx]
  000a2	51		 push	 ecx
  000a3	ff 52 30	 call	 DWORD PTR [edx+48]
  000a6	3b f4		 cmp	 esi, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	85 c0		 test	 eax, eax
  000af	7c 13		 jl	 SHORT $L85798

; 530  :             {
; 531  :                 *pDepthStencilFormat = D3DFMT_D16;

  000b1	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  000b4	c7 00 50 00 00
	00		 mov	 DWORD PTR [eax], 80	; 00000050H

; 532  :                 return TRUE;

  000ba	b8 01 00 00 00	 mov	 eax, 1
  000bf	e9 20 03 00 00	 jmp	 $L85797
$L85798:

; 533  :             }
; 534  :         }
; 535  :     }
; 536  : 
; 537  :     if( m_dwMinDepthBits <= 15 && m_dwMinStencilBits <= 1 )

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	83 b8 8c a6 02
	00 0f		 cmp	 DWORD PTR [eax+173708], 15 ; 0000000fH
  000ce	0f 87 91 00 00
	00		 ja	 $L85803
  000d4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d7	83 b8 90 a6 02
	00 01		 cmp	 DWORD PTR [eax+173712], 1
  000de	0f 87 81 00 00
	00		 ja	 $L85803

; 538  :     {
; 539  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 540  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D15S1 ) ) )

  000e4	8b f4		 mov	 esi, esp
  000e6	6a 49		 push	 73			; 00000049H
  000e8	6a 01		 push	 1
  000ea	6a 02		 push	 2
  000ec	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  000ef	50		 push	 eax
  000f0	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  000f3	51		 push	 ecx
  000f4	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  000f7	52		 push	 edx
  000f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fb	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00101	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00104	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0010a	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0010c	50		 push	 eax
  0010d	ff 51 28	 call	 DWORD PTR [ecx+40]
  00110	3b f4		 cmp	 esi, esp
  00112	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00117	85 c0		 test	 eax, eax
  00119	7c 4a		 jl	 SHORT $L85803

; 541  :         {
; 542  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 543  :                 TargetFormat, TargetFormat, D3DFMT_D15S1 ) ) )

  0011b	8b f4		 mov	 esi, esp
  0011d	6a 49		 push	 73			; 00000049H
  0011f	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00122	50		 push	 eax
  00123	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00126	51		 push	 ecx
  00127	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  0012a	52		 push	 edx
  0012b	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  0012e	50		 push	 eax
  0012f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00132	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00138	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0013b	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00141	8b 12		 mov	 edx, DWORD PTR [edx]
  00143	51		 push	 ecx
  00144	ff 52 30	 call	 DWORD PTR [edx+48]
  00147	3b f4		 cmp	 esi, esp
  00149	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0014e	85 c0		 test	 eax, eax
  00150	7c 13		 jl	 SHORT $L85803

; 544  :             {
; 545  :                 *pDepthStencilFormat = D3DFMT_D15S1;

  00152	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  00155	c7 00 49 00 00
	00		 mov	 DWORD PTR [eax], 73	; 00000049H

; 546  :                 return TRUE;

  0015b	b8 01 00 00 00	 mov	 eax, 1
  00160	e9 7f 02 00 00	 jmp	 $L85797
$L85803:

; 547  :             }
; 548  :         }
; 549  :     }
; 550  : 
; 551  :     if( m_dwMinDepthBits <= 24 && m_dwMinStencilBits == 0 )

  00165	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00168	83 b8 8c a6 02
	00 18		 cmp	 DWORD PTR [eax+173708], 24 ; 00000018H
  0016f	0f 87 91 00 00
	00		 ja	 $L85808
  00175	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00178	83 b8 90 a6 02
	00 00		 cmp	 DWORD PTR [eax+173712], 0
  0017f	0f 85 81 00 00
	00		 jne	 $L85808

; 552  :     {
; 553  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 554  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D24X8 ) ) )

  00185	8b f4		 mov	 esi, esp
  00187	6a 4d		 push	 77			; 0000004dH
  00189	6a 01		 push	 1
  0018b	6a 02		 push	 2
  0018d	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00190	50		 push	 eax
  00191	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00194	51		 push	 ecx
  00195	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00198	52		 push	 edx
  00199	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0019c	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  001a2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001a5	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  001ab	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001ad	50		 push	 eax
  001ae	ff 51 28	 call	 DWORD PTR [ecx+40]
  001b1	3b f4		 cmp	 esi, esp
  001b3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b8	85 c0		 test	 eax, eax
  001ba	7c 4a		 jl	 SHORT $L85808

; 555  :         {
; 556  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 557  :                 TargetFormat, TargetFormat, D3DFMT_D24X8 ) ) )

  001bc	8b f4		 mov	 esi, esp
  001be	6a 4d		 push	 77			; 0000004dH
  001c0	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  001c3	50		 push	 eax
  001c4	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  001c7	51		 push	 ecx
  001c8	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  001cb	52		 push	 edx
  001cc	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  001cf	50		 push	 eax
  001d0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d3	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  001d9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001dc	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  001e2	8b 12		 mov	 edx, DWORD PTR [edx]
  001e4	51		 push	 ecx
  001e5	ff 52 30	 call	 DWORD PTR [edx+48]
  001e8	3b f4		 cmp	 esi, esp
  001ea	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ef	85 c0		 test	 eax, eax
  001f1	7c 13		 jl	 SHORT $L85808

; 558  :             {
; 559  :                 *pDepthStencilFormat = D3DFMT_D24X8;

  001f3	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  001f6	c7 00 4d 00 00
	00		 mov	 DWORD PTR [eax], 77	; 0000004dH

; 560  :                 return TRUE;

  001fc	b8 01 00 00 00	 mov	 eax, 1
  00201	e9 de 01 00 00	 jmp	 $L85797
$L85808:

; 561  :             }
; 562  :         }
; 563  :     }
; 564  : 
; 565  :     if( m_dwMinDepthBits <= 24 && m_dwMinStencilBits <= 8 )

  00206	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00209	83 b8 8c a6 02
	00 18		 cmp	 DWORD PTR [eax+173708], 24 ; 00000018H
  00210	0f 87 91 00 00
	00		 ja	 $L85813
  00216	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00219	83 b8 90 a6 02
	00 08		 cmp	 DWORD PTR [eax+173712], 8
  00220	0f 87 81 00 00
	00		 ja	 $L85813

; 566  :     {
; 567  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 568  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D24S8 ) ) )

  00226	8b f4		 mov	 esi, esp
  00228	6a 4b		 push	 75			; 0000004bH
  0022a	6a 01		 push	 1
  0022c	6a 02		 push	 2
  0022e	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00231	50		 push	 eax
  00232	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00235	51		 push	 ecx
  00236	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00239	52		 push	 edx
  0023a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0023d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00243	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00246	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0024c	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0024e	50		 push	 eax
  0024f	ff 51 28	 call	 DWORD PTR [ecx+40]
  00252	3b f4		 cmp	 esi, esp
  00254	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00259	85 c0		 test	 eax, eax
  0025b	7c 4a		 jl	 SHORT $L85813

; 569  :         {
; 570  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 571  :                 TargetFormat, TargetFormat, D3DFMT_D24S8 ) ) )

  0025d	8b f4		 mov	 esi, esp
  0025f	6a 4b		 push	 75			; 0000004bH
  00261	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00264	50		 push	 eax
  00265	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00268	51		 push	 ecx
  00269	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  0026c	52		 push	 edx
  0026d	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  00270	50		 push	 eax
  00271	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00274	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0027a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0027d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00283	8b 12		 mov	 edx, DWORD PTR [edx]
  00285	51		 push	 ecx
  00286	ff 52 30	 call	 DWORD PTR [edx+48]
  00289	3b f4		 cmp	 esi, esp
  0028b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00290	85 c0		 test	 eax, eax
  00292	7c 13		 jl	 SHORT $L85813

; 572  :             {
; 573  :                 *pDepthStencilFormat = D3DFMT_D24S8;

  00294	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  00297	c7 00 4b 00 00
	00		 mov	 DWORD PTR [eax], 75	; 0000004bH

; 574  :                 return TRUE;

  0029d	b8 01 00 00 00	 mov	 eax, 1
  002a2	e9 3d 01 00 00	 jmp	 $L85797
$L85813:

; 575  :             }
; 576  :         }
; 577  :     }
; 578  : 
; 579  :     if( m_dwMinDepthBits <= 24 && m_dwMinStencilBits <= 4 )

  002a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002aa	83 b8 8c a6 02
	00 18		 cmp	 DWORD PTR [eax+173708], 24 ; 00000018H
  002b1	0f 87 91 00 00
	00		 ja	 $L85818
  002b7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002ba	83 b8 90 a6 02
	00 04		 cmp	 DWORD PTR [eax+173712], 4
  002c1	0f 87 81 00 00
	00		 ja	 $L85818

; 580  :     {
; 581  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 582  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D24X4S4 ) ) )

  002c7	8b f4		 mov	 esi, esp
  002c9	6a 4f		 push	 79			; 0000004fH
  002cb	6a 01		 push	 1
  002cd	6a 02		 push	 2
  002cf	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  002d2	50		 push	 eax
  002d3	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  002d6	51		 push	 ecx
  002d7	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  002da	52		 push	 edx
  002db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002de	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  002e4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002e7	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  002ed	8b 09		 mov	 ecx, DWORD PTR [ecx]
  002ef	50		 push	 eax
  002f0	ff 51 28	 call	 DWORD PTR [ecx+40]
  002f3	3b f4		 cmp	 esi, esp
  002f5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002fa	85 c0		 test	 eax, eax
  002fc	7c 4a		 jl	 SHORT $L85818

; 583  :         {
; 584  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 585  :                 TargetFormat, TargetFormat, D3DFMT_D24X4S4 ) ) )

  002fe	8b f4		 mov	 esi, esp
  00300	6a 4f		 push	 79			; 0000004fH
  00302	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00305	50		 push	 eax
  00306	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00309	51		 push	 ecx
  0030a	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  0030d	52		 push	 edx
  0030e	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  00311	50		 push	 eax
  00312	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00315	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0031b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0031e	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00324	8b 12		 mov	 edx, DWORD PTR [edx]
  00326	51		 push	 ecx
  00327	ff 52 30	 call	 DWORD PTR [edx+48]
  0032a	3b f4		 cmp	 esi, esp
  0032c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00331	85 c0		 test	 eax, eax
  00333	7c 13		 jl	 SHORT $L85818

; 586  :             {
; 587  :                 *pDepthStencilFormat = D3DFMT_D24X4S4;

  00335	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  00338	c7 00 4f 00 00
	00		 mov	 DWORD PTR [eax], 79	; 0000004fH

; 588  :                 return TRUE;

  0033e	b8 01 00 00 00	 mov	 eax, 1
  00343	e9 9c 00 00 00	 jmp	 $L85797
$L85818:

; 589  :             }
; 590  :         }
; 591  :     }
; 592  : 
; 593  :     if( m_dwMinDepthBits <= 32 && m_dwMinStencilBits == 0 )

  00348	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0034b	83 b8 8c a6 02
	00 20		 cmp	 DWORD PTR [eax+173708], 32 ; 00000020H
  00352	0f 87 8a 00 00
	00		 ja	 $L85823
  00358	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0035b	83 b8 90 a6 02
	00 00		 cmp	 DWORD PTR [eax+173712], 0
  00362	75 7e		 jne	 SHORT $L85823

; 594  :     {
; 595  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 596  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D32 ) ) )

  00364	8b f4		 mov	 esi, esp
  00366	6a 47		 push	 71			; 00000047H
  00368	6a 01		 push	 1
  0036a	6a 02		 push	 2
  0036c	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  0036f	50		 push	 eax
  00370	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00373	51		 push	 ecx
  00374	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00377	52		 push	 edx
  00378	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0037b	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00381	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00384	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0038a	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0038c	50		 push	 eax
  0038d	ff 51 28	 call	 DWORD PTR [ecx+40]
  00390	3b f4		 cmp	 esi, esp
  00392	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00397	85 c0		 test	 eax, eax
  00399	7c 47		 jl	 SHORT $L85823

; 597  :         {
; 598  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 599  :                 TargetFormat, TargetFormat, D3DFMT_D32 ) ) )

  0039b	8b f4		 mov	 esi, esp
  0039d	6a 47		 push	 71			; 00000047H
  0039f	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  003a2	50		 push	 eax
  003a3	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  003a6	51		 push	 ecx
  003a7	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  003aa	52		 push	 edx
  003ab	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  003ae	50		 push	 eax
  003af	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003b2	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  003b8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003bb	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  003c1	8b 12		 mov	 edx, DWORD PTR [edx]
  003c3	51		 push	 ecx
  003c4	ff 52 30	 call	 DWORD PTR [edx+48]
  003c7	3b f4		 cmp	 esi, esp
  003c9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003ce	85 c0		 test	 eax, eax
  003d0	7c 10		 jl	 SHORT $L85823

; 600  :             {
; 601  :                 *pDepthStencilFormat = D3DFMT_D32;

  003d2	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  003d5	c7 00 47 00 00
	00		 mov	 DWORD PTR [eax], 71	; 00000047H

; 602  :                 return TRUE;

  003db	b8 01 00 00 00	 mov	 eax, 1
  003e0	eb 02		 jmp	 SHORT $L85797
$L85823:

; 603  :             }
; 604  :         }
; 605  :     }
; 606  : 
; 607  :     return FALSE;

  003e2	33 c0		 xor	 eax, eax
$L85797:

; 608  : }

  003e4	5f		 pop	 edi
  003e5	5e		 pop	 esi
  003e6	5b		 pop	 ebx
  003e7	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  003ed	3b ec		 cmp	 ebp, esp
  003ef	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003f4	8b e5		 mov	 esp, ebp
  003f6	5d		 pop	 ebp
  003f7	c2 10 00	 ret	 16			; 00000010H
?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z ENDP ; CD3DApplication::FindDepthStencilFormat
; Function compile flags: /Odt /RTCsu /ZI
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\include\d3dapp_custom.h
_TEXT	ENDS
;	COMDAT ?RestoreDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?RestoreDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::RestoreDeviceObjects, COMDAT
; _this$ = ecx

; 201  :     virtual HRESULT RestoreDeviceObjects()                     { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?RestoreDeviceObjects@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::RestoreDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?FrameMove@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?FrameMove@CD3DApplication@@MAEJXZ PROC NEAR		; CD3DApplication::FrameMove, COMDAT
; _this$ = ecx

; 202  :     virtual HRESULT FrameMove()                                { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?FrameMove@CD3DApplication@@MAEJXZ ENDP			; CD3DApplication::FrameMove
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Render@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?Render@CD3DApplication@@MAEJXZ PROC NEAR		; CD3DApplication::Render, COMDAT
; _this$ = ecx

; 203  :     virtual HRESULT Render()                                   { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?Render@CD3DApplication@@MAEJXZ ENDP			; CD3DApplication::Render
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR ; CD3DApplication::InvalidateDeviceObjects, COMDAT
; _this$ = ecx

; 204  :     virtual HRESULT InvalidateDeviceObjects()                  { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::InvalidateDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?DeleteDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?DeleteDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::DeleteDeviceObjects, COMDAT
; _this$ = ecx

; 205  :     virtual HRESULT DeleteDeviceObjects()                      { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?DeleteDeviceObjects@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::DeleteDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?FinalCleanup@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?FinalCleanup@CD3DApplication@@MAEJXZ PROC NEAR		; CD3DApplication::FinalCleanup, COMDAT
; _this$ = ecx

; 206  :     virtual HRESULT FinalCleanup()                             { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?FinalCleanup@CD3DApplication@@MAEJXZ ENDP		; CD3DApplication::FinalCleanup
_TEXT	ENDS
PUBLIC	?Resize3DEnvironment@CD3DApplication@@IAEJXZ	; CD3DApplication::Resize3DEnvironment
PUBLIC	?ToggleFullscreen@CD3DApplication@@IAEJXZ	; CD3DApplication::ToggleFullscreen
PUBLIC	?UserSelectNewDevice@CD3DApplication@@IAEJXZ	; CD3DApplication::UserSelectNewDevice
PUBLIC	?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ	; CD3DApplication::Cleanup3DEnvironment
EXTRN	__imp__LoadMenuA@8:NEAR
EXTRN	__imp__GetMenu@4:NEAR
EXTRN	__imp__SendMessageA@16:NEAR
EXTRN	__imp__DestroyMenu@4:NEAR
EXTRN	__imp__GetSubMenu@8:NEAR
EXTRN	__imp__TrackPopupMenuEx@24:NEAR
EXTRN	__imp__DefWindowProcA@16:NEAR
EXTRN	__imp__PostQuitMessage@4:NEAR
EXTRN	__imp__DestroyWindow@4:NEAR
EXTRN	?SetKey@@YAXHH@Z:NEAR				; SetKey
EXTRN	__imp__GetKeyboardState@4:NEAR
EXTRN	__imp__SetCursor@4:NEAR
EXTRN	__imp__GetCursorPos@4:NEAR
EXTRN	__imp__ClipCursor@4:NEAR
EXTRN	__imp__ScreenToClient@8:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\src\d3dapp_custom.cpp
;	COMDAT ?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
tv300 = -260
tv288 = -260
tv285 = -260
tv64 = -260
_ptCursor$85868 = -60
_rcClientOld$85858 = -44
_hr$ = -20
_this$ = -8
_hWnd$ = 8
_uMsg$ = 12
_wParam$ = 16
_lParam$ = 20
?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z PROC NEAR ; CD3DApplication::MsgProc, COMDAT
; _this$ = ecx

; 619  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd fc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-260]
  00013	b9 41 00 00 00	 mov	 ecx, 65			; 00000041H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 620  :     HRESULT hr;
; 621  : 
; 622  :     switch( uMsg )
; 623  :     {

  00023	8b 45 0c	 mov	 eax, DWORD PTR _uMsg$[ebp]
  00026	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  0002c	81 bd fc fe ff
	ff 11 01 00 00	 cmp	 DWORD PTR tv64[ebp], 273 ; 00000111H
  00036	77 40		 ja	 SHORT $L86720
  00038	81 bd fc fe ff
	ff 11 01 00 00	 cmp	 DWORD PTR tv64[ebp], 273 ; 00000111H
  00042	0f 84 19 06 00
	00		 je	 $L85897
  00048	8b 8d fc fe ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  0004e	83 e9 05	 sub	 ecx, 5
  00051	89 8d fc fe ff
	ff		 mov	 DWORD PTR tv64[ebp], ecx
  00057	83 bd fc fe ff
	ff 7f		 cmp	 DWORD PTR tv64[ebp], 127 ; 0000007fH
  0005e	0f 87 f0 07 00
	00		 ja	 $L85837
  00064	8b 95 fc fe ff
	ff		 mov	 edx, DWORD PTR tv64[ebp]
  0006a	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $L86722[edx]
  00071	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $L86727[eax*4]
$L86720:
  00078	81 bd fc fe ff
	ff 12 02 00 00	 cmp	 DWORD PTR tv64[ebp], 530 ; 00000212H
  00082	77 45		 ja	 SHORT $L86721
  00084	81 bd fc fe ff
	ff 12 02 00 00	 cmp	 DWORD PTR tv64[ebp], 530 ; 00000212H
  0008e	0f 84 85 04 00
	00		 je	 $L85871
  00094	81 bd fc fe ff
	ff 12 01 00 00	 cmp	 DWORD PTR tv64[ebp], 274 ; 00000112H
  0009e	0f 84 4d 05 00
	00		 je	 $L85890
  000a4	81 bd fc fe ff
	ff 00 02 00 00	 cmp	 DWORD PTR tv64[ebp], 512 ; 00000200H
  000ae	0f 84 ba 03 00
	00		 je	 $L85866
  000b4	81 bd fc fe ff
	ff 11 02 00 00	 cmp	 DWORD PTR tv64[ebp], 529 ; 00000211H
  000be	0f 84 3a 04 00
	00		 je	 $L85870
  000c4	e9 8b 07 00 00	 jmp	 $L85837
$L86721:
  000c9	81 bd fc fe ff
	ff 18 02 00 00	 cmp	 DWORD PTR tv64[ebp], 536 ; 00000218H
  000d3	0f 84 e2 04 00
	00		 je	 $L85883
  000d9	81 bd fc fe ff
	ff 31 02 00 00	 cmp	 DWORD PTR tv64[ebp], 561 ; 00000231H
  000e3	0f 84 3a 01 00
	00		 je	 $L85850
  000e9	81 bd fc fe ff
	ff 32 02 00 00	 cmp	 DWORD PTR tv64[ebp], 562 ; 00000232H
  000f3	0f 84 a8 01 00
	00		 je	 $L85856
  000f9	e9 56 07 00 00	 jmp	 $L85837
$L85840:

; 624  :         case WM_PAINT:
; 625  :             // Handle paint messages when the app is not ready
; 626  :             if( m_pd3dDevice && !m_bReady )

  000fe	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00101	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  00108	74 55		 je	 SHORT $L85841
  0010a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010d	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00114	75 49		 jne	 SHORT $L85841

; 627  :             {
; 628  :                 if( m_bWindowed )

  00116	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00119	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00120	74 3d		 je	 SHORT $L85841

; 629  :                 {
; 630  :                     Render();

  00122	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00125	8b 10		 mov	 edx, DWORD PTR [eax]
  00127	8b f4		 mov	 esi, esp
  00129	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0012c	ff 52 18	 call	 DWORD PTR [edx+24]
  0012f	3b f4		 cmp	 esi, esp
  00131	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 631  :                     m_pd3dDevice->Present( NULL, NULL, NULL, NULL );

  00136	8b f4		 mov	 esi, esp
  00138	6a 00		 push	 0
  0013a	6a 00		 push	 0
  0013c	6a 00		 push	 0
  0013e	6a 00		 push	 0
  00140	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00143	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00149	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0014c	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00152	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00154	50		 push	 eax
  00155	ff 51 3c	 call	 DWORD PTR [ecx+60]
  00158	3b f4		 cmp	 esi, esp
  0015a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85841:

; 632  :                 }
; 633  :             }
; 634  :             break;

  0015f	e9 f0 06 00 00	 jmp	 $L85837
$L85843:

; 635  : 
; 636  :         case WM_ACTIVATEAPP:
; 637  :             m_bHasFocus = (BOOL) wParam;

  00164	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00167	8b 4d 10	 mov	 ecx, DWORD PTR _wParam$[ebp]
  0016a	89 88 58 a4 02
	00		 mov	 DWORD PTR [eax+173144], ecx

; 638  : 
; 639  : 			// DM
; 640  : 			if( m_bHasFocus )

  00170	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00173	83 b8 58 a4 02
	00 00		 cmp	 DWORD PTR [eax+173144], 0
  0017a	74 44		 je	 SHORT $L85845

; 641  : 			{
; 642  : 				GetKeyboardState( m_bKS );

  0017c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0017f	05 b4 a6 02 00	 add	 eax, 173748		; 0002a6b4H
  00184	8b f4		 mov	 esi, esp
  00186	50		 push	 eax
  00187	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetKeyboardState@4
  0018d	3b f4		 cmp	 esi, esp
  0018f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 643  : 				SetKey( VK_NUMLOCK, 0 );

  00194	6a 00		 push	 0
  00196	68 90 00 00 00	 push	 144			; 00000090H
  0019b	e8 00 00 00 00	 call	 ?SetKey@@YAXHH@Z	; SetKey
  001a0	83 c4 08	 add	 esp, 8

; 644  : 				SetKey( VK_CAPITAL, 0 );

  001a3	6a 00		 push	 0
  001a5	6a 14		 push	 20			; 00000014H
  001a7	e8 00 00 00 00	 call	 ?SetKey@@YAXHH@Z	; SetKey
  001ac	83 c4 08	 add	 esp, 8

; 645  : 				SetKey( VK_SCROLL,  0 );

  001af	6a 00		 push	 0
  001b1	68 91 00 00 00	 push	 145			; 00000091H
  001b6	e8 00 00 00 00	 call	 ?SetKey@@YAXHH@Z	; SetKey
  001bb	83 c4 08	 add	 esp, 8

; 646  : 			}
; 647  : 			else

  001be	eb 45		 jmp	 SHORT $L85846
$L85845:

; 648  : 			{
; 649  : 				SetKey( VK_NUMLOCK, m_bKS[ VK_NUMLOCK ] );

  001c0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001c3	0f b6 88 44 a7
	02 00		 movzx	 ecx, BYTE PTR [eax+173892]
  001ca	51		 push	 ecx
  001cb	68 90 00 00 00	 push	 144			; 00000090H
  001d0	e8 00 00 00 00	 call	 ?SetKey@@YAXHH@Z	; SetKey
  001d5	83 c4 08	 add	 esp, 8

; 650  : 				SetKey( VK_CAPITAL, m_bKS[ VK_CAPITAL ] );

  001d8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001db	0f b6 88 c8 a6
	02 00		 movzx	 ecx, BYTE PTR [eax+173768]
  001e2	51		 push	 ecx
  001e3	6a 14		 push	 20			; 00000014H
  001e5	e8 00 00 00 00	 call	 ?SetKey@@YAXHH@Z	; SetKey
  001ea	83 c4 08	 add	 esp, 8

; 651  : 				SetKey( VK_SCROLL,  m_bKS[ VK_SCROLL  ] );

  001ed	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001f0	0f b6 88 45 a7
	02 00		 movzx	 ecx, BYTE PTR [eax+173893]
  001f7	51		 push	 ecx
  001f8	68 91 00 00 00	 push	 145			; 00000091H
  001fd	e8 00 00 00 00	 call	 ?SetKey@@YAXHH@Z	; SetKey
  00202	83 c4 08	 add	 esp, 8
$L85846:

; 652  : 			}
; 653  : 
; 654  :             break;

  00205	e9 4a 06 00 00	 jmp	 $L85837
$L85847:

; 655  : 
; 656  :         case WM_GETMINMAXINFO:
; 657  :             ((MINMAXINFO*)lParam)->ptMinTrackSize.x = 100;

  0020a	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  0020d	c7 40 18 64 00
	00 00		 mov	 DWORD PTR [eax+24], 100	; 00000064H

; 658  :             ((MINMAXINFO*)lParam)->ptMinTrackSize.y = 100;

  00214	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00217	c7 40 1c 64 00
	00 00		 mov	 DWORD PTR [eax+28], 100	; 00000064H

; 659  :             break;

  0021e	e9 31 06 00 00	 jmp	 $L85837
$L85850:

; 660  : 
; 661  :         case WM_ENTERSIZEMOVE:
; 662  :             // Halt frame movement while the app is sizing or moving
; 663  :             Pause( TRUE );

  00223	8b f4		 mov	 esi, esp
  00225	6a 01		 push	 1
  00227	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0022a	8b 10		 mov	 edx, DWORD PTR [eax]
  0022c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0022f	ff 52 34	 call	 DWORD PTR [edx+52]
  00232	3b f4		 cmp	 esi, esp
  00234	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 664  : 			m_bInSizeMoveLoop = TRUE ;

  00239	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0023c	c7 80 b4 a7 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+174004], 1

; 665  :             break;

  00246	e9 09 06 00 00	 jmp	 $L85837
$L85851:

; 666  : 
; 667  :         case WM_SIZE:
; 668  :             // Check to see if we are losing our window...
; 669  :             if( SIZE_MAXHIDE==wParam || SIZE_MINIMIZED==wParam )

  0024b	83 7d 10 04	 cmp	 DWORD PTR _wParam$[ebp], 4
  0024f	74 06		 je	 SHORT $L85853
  00251	83 7d 10 01	 cmp	 DWORD PTR _wParam$[ebp], 1
  00255	75 38		 jne	 SHORT $L85852
$L85853:

; 670  :             {
; 671  :                 if( m_bClipCursorWhenFullscreen && !m_bWindowed )

  00257	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0025a	83 b8 a0 a6 02
	00 00		 cmp	 DWORD PTR [eax+173728], 0
  00261	74 1d		 je	 SHORT $L85854
  00263	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00266	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0026d	75 11		 jne	 SHORT $L85854

; 672  :                     ClipCursor( NULL );

  0026f	8b f4		 mov	 esi, esp
  00271	6a 00		 push	 0
  00273	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  00279	3b f4		 cmp	 esi, esp
  0027b	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85854:

; 673  :                 m_bActive = FALSE;

  00280	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00283	c7 80 50 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173136], 0

; 674  :             }
; 675  :             else

  0028d	eb 0d		 jmp	 SHORT $L85855
$L85852:

; 676  :             {
; 677  :                 m_bActive = TRUE;

  0028f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00292	c7 80 50 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173136], 1
$L85855:

; 678  :             }
; 679  :             break;

  0029c	e9 b3 05 00 00	 jmp	 $L85837
$L85856:

; 680  : 
; 681  :         case WM_EXITSIZEMOVE:
; 682  :             Pause( FALSE );

  002a1	8b f4		 mov	 esi, esp
  002a3	6a 00		 push	 0
  002a5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a8	8b 10		 mov	 edx, DWORD PTR [eax]
  002aa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002ad	ff 52 34	 call	 DWORD PTR [edx+52]
  002b0	3b f4		 cmp	 esi, esp
  002b2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 683  : 			m_bInSizeMoveLoop = FALSE ;

  002b7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002ba	c7 80 b4 a7 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+174004], 0

; 684  : 
; 685  :             if( m_bActive && m_bWindowed )

  002c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002c7	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  002ce	0f 84 22 01 00
	00		 je	 $L85857
  002d4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002d7	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  002de	0f 84 12 01 00
	00		 je	 $L85857

; 686  :             {
; 687  :                 RECT rcClientOld;
; 688  :                 rcClientOld = m_rcWindowClient;

  002e4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002e7	05 b8 a5 02 00	 add	 eax, 173496		; 0002a5b8H
  002ec	8b 08		 mov	 ecx, DWORD PTR [eax]
  002ee	89 4d d4	 mov	 DWORD PTR _rcClientOld$85858[ebp], ecx
  002f1	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  002f4	89 55 d8	 mov	 DWORD PTR _rcClientOld$85858[ebp+4], edx
  002f7	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  002fa	89 4d dc	 mov	 DWORD PTR _rcClientOld$85858[ebp+8], ecx
  002fd	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00300	89 55 e0	 mov	 DWORD PTR _rcClientOld$85858[ebp+12], edx

; 689  : 
; 690  :                 // Update window properties
; 691  :                 GetWindowRect( m_hWnd, &m_rcWindowBounds );

  00303	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00306	05 a8 a5 02 00	 add	 eax, 173480		; 0002a5a8H
  0030b	8b f4		 mov	 esi, esp
  0030d	50		 push	 eax
  0030e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00311	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00317	52		 push	 edx
  00318	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  0031e	3b f4		 cmp	 esi, esp
  00320	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 692  :                 GetClientRect( m_hWnd, &m_rcWindowClient );

  00325	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00328	05 b8 a5 02 00	 add	 eax, 173496		; 0002a5b8H
  0032d	8b f4		 mov	 esi, esp
  0032f	50		 push	 eax
  00330	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00333	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00339	52		 push	 edx
  0033a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8
  00340	3b f4		 cmp	 esi, esp
  00342	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 693  : 
; 694  :                 if( rcClientOld.right - rcClientOld.left !=
; 695  :                     m_rcWindowClient.right - m_rcWindowClient.left ||
; 696  :                     rcClientOld.bottom - rcClientOld.top !=
; 697  :                     m_rcWindowClient.bottom - m_rcWindowClient.top)

  00347	8b 45 dc	 mov	 eax, DWORD PTR _rcClientOld$85858[ebp+8]
  0034a	2b 45 d4	 sub	 eax, DWORD PTR _rcClientOld$85858[ebp]
  0034d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00350	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00353	8b 89 c0 a5 02
	00		 mov	 ecx, DWORD PTR [ecx+173504]
  00359	2b 8a b8 a5 02
	00		 sub	 ecx, DWORD PTR [edx+173496]
  0035f	3b c1		 cmp	 eax, ecx
  00361	75 1c		 jne	 SHORT $L85860
  00363	8b 45 e0	 mov	 eax, DWORD PTR _rcClientOld$85858[ebp+12]
  00366	2b 45 d8	 sub	 eax, DWORD PTR _rcClientOld$85858[ebp+4]
  00369	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0036c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0036f	8b 89 c4 a5 02
	00		 mov	 ecx, DWORD PTR [ecx+173508]
  00375	2b 8a bc a5 02
	00		 sub	 ecx, DWORD PTR [edx+173500]
  0037b	3b c1		 cmp	 eax, ecx
  0037d	74 77		 je	 SHORT $L85857
$L85860:

; 698  :                 {
; 699  :                     // A new window size will require a new backbuffer
; 700  :                     // size, so the 3D structures must be changed accordingly.
; 701  :                     m_bReady = FALSE;

  0037f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00382	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 702  : 
; 703  :                     m_d3dpp.BackBufferWidth  = m_rcWindowClient.right - m_rcWindowClient.left;

  0038c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0038f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00392	8b 90 c0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173504]
  00398	2b 91 b8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173496]
  0039e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003a1	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 704  :                     m_d3dpp.BackBufferHeight = m_rcWindowClient.bottom - m_rcWindowClient.top;

  003a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003aa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003ad	8b 90 c4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173508]
  003b3	2b 91 bc a5 02
	00		 sub	 edx, DWORD PTR [ecx+173500]
  003b9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003bc	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 705  : 
; 706  :                     // Resize the 3D environment
; 707  :                     if( FAILED( hr = Resize3DEnvironment() ) )

  003c2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003c5	e8 00 00 00 00	 call	 ?Resize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Resize3DEnvironment
  003ca	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  003cd	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  003d1	7d 16		 jge	 SHORT $L85862

; 708  :                     {
; 709  :                         DisplayErrorMsg( D3DAPPERR_RESIZEFAILED, MSGERR_APPMUSTEXIT );

  003d3	6a 01		 push	 1
  003d5	68 0c 00 00 82	 push	 -2113929204		; 8200000cH
  003da	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003dd	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 710  :                         return 0;

  003e2	33 c0		 xor	 eax, eax
  003e4	e9 8a 04 00 00	 jmp	 $L85834
$L85862:

; 711  :                     }
; 712  : 
; 713  :                     m_bReady = TRUE;

  003e9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003ec	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1
$L85857:

; 714  :                 }
; 715  :             }
; 716  : 
; 717  :             break;

  003f6	e9 59 04 00 00	 jmp	 $L85837
$L85863:

; 718  : 
; 719  :         case WM_SETCURSOR:
; 720  :             // Turn off Windows cursor in fullscreen mode
; 721  :             if( m_bActive && m_bReady && !m_bWindowed )

  003fb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003fe	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  00405	74 62		 je	 SHORT $L85864
  00407	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0040a	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00411	74 56		 je	 SHORT $L85864
  00413	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00416	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0041d	75 4a		 jne	 SHORT $L85864

; 722  :             {
; 723  :                 SetCursor( NULL );

  0041f	8b f4		 mov	 esi, esp
  00421	6a 00		 push	 0
  00423	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetCursor@4
  00429	3b f4		 cmp	 esi, esp
  0042b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 724  :                 if( m_bShowCursorWhenFullscreen )

  00430	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00433	83 b8 9c a6 02
	00 00		 cmp	 DWORD PTR [eax+173724], 0
  0043a	74 23		 je	 SHORT $L85865

; 725  :                     m_pd3dDevice->ShowCursor( TRUE );

  0043c	8b f4		 mov	 esi, esp
  0043e	6a 01		 push	 1
  00440	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00443	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00449	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0044c	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00452	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00454	50		 push	 eax
  00455	ff 51 30	 call	 DWORD PTR [ecx+48]
  00458	3b f4		 cmp	 esi, esp
  0045a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85865:

; 726  :                 return TRUE; // prevent Windows from setting cursor to window class cursor

  0045f	b8 01 00 00 00	 mov	 eax, 1
  00464	e9 0a 04 00 00	 jmp	 $L85834
$L85864:

; 727  :             }
; 728  :             break;

  00469	e9 e6 03 00 00	 jmp	 $L85837
$L85866:

; 729  : 
; 730  :          case WM_MOUSEMOVE:
; 731  :             if( m_bActive && m_bReady && m_pd3dDevice != NULL )

  0046e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00471	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  00478	74 7f		 je	 SHORT $L85867
  0047a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0047d	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00484	74 73		 je	 SHORT $L85867
  00486	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00489	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  00490	74 67		 je	 SHORT $L85867

; 732  :             {
; 733  :                 POINT ptCursor;
; 734  :                 GetCursorPos( &ptCursor );

  00492	8b f4		 mov	 esi, esp
  00494	8d 45 c4	 lea	 eax, DWORD PTR _ptCursor$85868[ebp]
  00497	50		 push	 eax
  00498	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCursorPos@4
  0049e	3b f4		 cmp	 esi, esp
  004a0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 735  :                 if( !m_bWindowed )

  004a5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004a8	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  004af	75 1d		 jne	 SHORT $L85869

; 736  :                     ScreenToClient( m_hWnd, &ptCursor );

  004b1	8b f4		 mov	 esi, esp
  004b3	8d 45 c4	 lea	 eax, DWORD PTR _ptCursor$85868[ebp]
  004b6	50		 push	 eax
  004b7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  004ba	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  004c0	52		 push	 edx
  004c1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ScreenToClient@8
  004c7	3b f4		 cmp	 esi, esp
  004c9	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85869:

; 737  :                 m_pd3dDevice->SetCursorPosition( ptCursor.x, ptCursor.y, 0L );

  004ce	8b f4		 mov	 esi, esp
  004d0	6a 00		 push	 0
  004d2	8b 45 c8	 mov	 eax, DWORD PTR _ptCursor$85868[ebp+4]
  004d5	50		 push	 eax
  004d6	8b 4d c4	 mov	 ecx, DWORD PTR _ptCursor$85868[ebp]
  004d9	51		 push	 ecx
  004da	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  004dd	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  004e3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  004e6	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  004ec	8b 00		 mov	 eax, DWORD PTR [eax]
  004ee	52		 push	 edx
  004ef	ff 50 2c	 call	 DWORD PTR [eax+44]
  004f2	3b f4		 cmp	 esi, esp
  004f4	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85867:

; 738  :             }
; 739  :             break;

  004f9	e9 56 03 00 00	 jmp	 $L85837
$L85870:

; 740  : 
; 741  :        case WM_ENTERMENULOOP:
; 742  :             // Pause the app when menus are displayed
; 743  :             Pause(TRUE);

  004fe	8b f4		 mov	 esi, esp
  00500	6a 01		 push	 1
  00502	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00505	8b 10		 mov	 edx, DWORD PTR [eax]
  00507	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0050a	ff 52 34	 call	 DWORD PTR [edx+52]
  0050d	3b f4		 cmp	 esi, esp
  0050f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 744  :             break;

  00514	e9 3b 03 00 00	 jmp	 $L85837
$L85871:

; 745  : 
; 746  :         case WM_EXITMENULOOP:
; 747  :             Pause(FALSE);

  00519	8b f4		 mov	 esi, esp
  0051b	6a 00		 push	 0
  0051d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00520	8b 10		 mov	 edx, DWORD PTR [eax]
  00522	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00525	ff 52 34	 call	 DWORD PTR [edx+52]
  00528	3b f4		 cmp	 esi, esp
  0052a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 748  :             break;

  0052f	e9 20 03 00 00	 jmp	 $L85837
$L85872:

; 749  : 
; 750  :         case WM_CONTEXTMENU:
; 751  :             // No context menus allowed in fullscreen mode
; 752  :             if( m_bWindowed == FALSE )

  00534	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00537	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0053e	75 05		 jne	 SHORT $L85873

; 753  :                 break;

  00540	e9 0f 03 00 00	 jmp	 $L85837
$L85873:

; 754  : 
; 755  :             // Handle the app's context menu (via right mouse click)
; 756  :             TrackPopupMenuEx( GetSubMenu( LoadMenu( 0, MAKEINTRESOURCE(IDR_POPUP) ), 0 ),
; 757  :                               TPM_VERTICAL, LOWORD(lParam), HIWORD(lParam), hWnd, NULL );

  00545	8b f4		 mov	 esi, esp
  00547	6a 00		 push	 0
  00549	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0054c	50		 push	 eax
  0054d	8b 4d 14	 mov	 ecx, DWORD PTR _lParam$[ebp]
  00550	c1 e9 10	 shr	 ecx, 16			; 00000010H
  00553	0f b7 d1	 movzx	 edx, cx
  00556	52		 push	 edx
  00557	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  0055a	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0055f	0f b7 c8	 movzx	 ecx, ax
  00562	51		 push	 ecx
  00563	6a 40		 push	 64			; 00000040H
  00565	8b fc		 mov	 edi, esp
  00567	6a 00		 push	 0
  00569	8b dc		 mov	 ebx, esp
  0056b	68 8e 00 00 00	 push	 142			; 0000008eH
  00570	6a 00		 push	 0
  00572	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadMenuA@8
  00578	3b dc		 cmp	 ebx, esp
  0057a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0057f	50		 push	 eax
  00580	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetSubMenu@8
  00586	3b fc		 cmp	 edi, esp
  00588	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0058d	50		 push	 eax
  0058e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TrackPopupMenuEx@24
  00594	3b f4		 cmp	 esi, esp
  00596	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 758  :             break;

  0059b	e9 b4 02 00 00	 jmp	 $L85837
$L85881:

; 759  : 
; 760  :         case WM_NCHITTEST:
; 761  :             // Prevent the user from selecting the menu in fullscreen mode
; 762  :             if( !m_bWindowed )

  005a0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005a3	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  005aa	75 0a		 jne	 SHORT $L85882

; 763  :                 return HTCLIENT;

  005ac	b8 01 00 00 00	 mov	 eax, 1
  005b1	e9 bd 02 00 00	 jmp	 $L85834
$L85882:

; 764  : 
; 765  :             break;

  005b6	e9 99 02 00 00	 jmp	 $L85837
$L85883:

; 766  : 
; 767  :         case WM_POWERBROADCAST:
; 768  :             switch( wParam )
; 769  :             {

  005bb	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  005be	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv285[ebp], eax
  005c4	83 bd fc fe ff
	ff 00		 cmp	 DWORD PTR tv285[ebp], 0
  005cb	74 0b		 je	 SHORT $L85888
  005cd	83 bd fc fe ff
	ff 07		 cmp	 DWORD PTR tv285[ebp], 7
  005d4	74 0c		 je	 SHORT $L85889
  005d6	eb 14		 jmp	 SHORT $L85885
$L85888:

; 770  :                 #ifndef PBT_APMQUERYSUSPEND
; 771  :                     #define PBT_APMQUERYSUSPEND 0x0000
; 772  :                 #endif
; 773  :                 case PBT_APMQUERYSUSPEND:
; 774  :                     // At this point, the app should save any data for open
; 775  :                     // network connections, files, etc., and prepare to go into
; 776  :                     // a suspended mode.
; 777  :                     return TRUE;

  005d8	b8 01 00 00 00	 mov	 eax, 1
  005dd	e9 91 02 00 00	 jmp	 $L85834
$L85889:

; 778  : 
; 779  :                 #ifndef PBT_APMRESUMESUSPEND
; 780  :                     #define PBT_APMRESUMESUSPEND 0x0007
; 781  :                 #endif
; 782  :                 case PBT_APMRESUMESUSPEND:
; 783  :                     // At this point, the app should recover any data, network
; 784  :                     // connections, files, etc., and resume running from when
; 785  :                     // the app was suspended.
; 786  :                     return TRUE;

  005e2	b8 01 00 00 00	 mov	 eax, 1
  005e7	e9 87 02 00 00	 jmp	 $L85834
$L85885:

; 787  :             }
; 788  :             break;

  005ec	e9 63 02 00 00	 jmp	 $L85837
$L85890:

; 789  : 
; 790  :         case WM_SYSCOMMAND:
; 791  :             // Prevent moving/sizing and power loss in fullscreen mode
; 792  :             switch( wParam )
; 793  :             {

  005f1	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  005f4	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv288[ebp], eax
  005fa	81 bd fc fe ff
	ff 30 f0 00 00	 cmp	 DWORD PTR tv288[ebp], 61488 ; 0000f030H
  00604	77 26		 ja	 SHORT $L86719
  00606	81 bd fc fe ff
	ff 30 f0 00 00	 cmp	 DWORD PTR tv288[ebp], 61488 ; 0000f030H
  00610	74 34		 je	 SHORT $L85895
  00612	81 bd fc fe ff
	ff 00 f0 00 00	 cmp	 DWORD PTR tv288[ebp], 61440 ; 0000f000H
  0061c	74 28		 je	 SHORT $L85895
  0061e	81 bd fc fe ff
	ff 10 f0 00 00	 cmp	 DWORD PTR tv288[ebp], 61456 ; 0000f010H
  00628	74 1c		 je	 SHORT $L85895
  0062a	eb 30		 jmp	 SHORT $L85892
$L86719:
  0062c	81 bd fc fe ff
	ff 00 f1 00 00	 cmp	 DWORD PTR tv288[ebp], 61696 ; 0000f100H
  00636	74 0e		 je	 SHORT $L85895
  00638	81 bd fc fe ff
	ff 70 f1 00 00	 cmp	 DWORD PTR tv288[ebp], 61808 ; 0000f170H
  00642	74 02		 je	 SHORT $L85895
  00644	eb 16		 jmp	 SHORT $L85892
$L85895:

; 794  :                 case SC_MOVE:
; 795  :                 case SC_SIZE:
; 796  :                 case SC_MAXIMIZE:
; 797  :                 case SC_KEYMENU:
; 798  :                 case SC_MONITORPOWER:
; 799  :                     if( FALSE == m_bWindowed )

  00646	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00649	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00650	75 0a		 jne	 SHORT $L85892

; 800  :                         return 1;

  00652	b8 01 00 00 00	 mov	 eax, 1
  00657	e9 17 02 00 00	 jmp	 $L85834
$L85892:

; 801  :                     break;
; 802  :             }
; 803  :             break;

  0065c	e9 f3 01 00 00	 jmp	 $L85837
$L85897:

; 804  : 
; 805  :         case WM_COMMAND:
; 806  :             switch( LOWORD(wParam) )
; 807  :             {

  00661	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00664	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00669	0f b7 c8	 movzx	 ecx, ax
  0066c	89 8d fc fe ff
	ff		 mov	 DWORD PTR tv300[ebp], ecx
  00672	8b 95 fc fe ff
	ff		 mov	 edx, DWORD PTR tv300[ebp]
  00678	81 ea 42 9c 00
	00		 sub	 edx, 40002		; 00009c42H
  0067e	89 95 fc fe ff
	ff		 mov	 DWORD PTR tv300[ebp], edx
  00684	83 bd fc fe ff
	ff 04		 cmp	 DWORD PTR tv300[ebp], 4
  0068b	0f 87 6e 01 00
	00		 ja	 $L85901
  00691	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv300[ebp]
  00697	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $L86728[eax*4]
$L85904:

; 808  :                 case IDM_TOGGLESTART:
; 809  :                     // Toggle frame movement
; 810  :                     m_bFrameMoving = !m_bFrameMoving;

  0069e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006a1	33 c9		 xor	 ecx, ecx
  006a3	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  006aa	0f 94 c1	 sete	 cl
  006ad	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006b0	89 8a 5c a4 02
	00		 mov	 DWORD PTR [edx+173148], ecx

; 811  :                     DXUtil_Timer( m_bFrameMoving ? TIMER_START : TIMER_STOP );

  006b6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006b9	33 c9		 xor	 ecx, ecx
  006bb	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  006c2	0f 94 c1	 sete	 cl
  006c5	41		 inc	 ecx
  006c6	51		 push	 ecx
  006c7	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  006cc	dd d8		 fstp	 ST(0)

; 812  :                     break;

  006ce	e9 2c 01 00 00	 jmp	 $L85901
$L85905:

; 813  : 
; 814  :                 case IDM_SINGLESTEP:
; 815  :                     // Single-step frame movement
; 816  :                     if( FALSE == m_bFrameMoving )

  006d3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006d6	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  006dd	75 0b		 jne	 SHORT $L85906

; 817  :                         DXUtil_Timer( TIMER_ADVANCE );

  006df	6a 03		 push	 3
  006e1	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  006e6	dd d8		 fstp	 ST(0)

; 818  :                     else

  006e8	eb 09		 jmp	 SHORT $L85907
$L85906:

; 819  :                         DXUtil_Timer( TIMER_STOP );

  006ea	6a 02		 push	 2
  006ec	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  006f1	dd d8		 fstp	 ST(0)
$L85907:

; 820  :                     m_bFrameMoving = FALSE;

  006f3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006f6	c7 80 5c a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173148], 0

; 821  :                     m_bSingleStep  = TRUE;

  00700	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00703	c7 80 60 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173152], 1

; 822  :                     break;

  0070d	e9 ed 00 00 00	 jmp	 $L85901
$L85908:

; 823  : 
; 824  :                 case IDM_CHANGEDEVICE:
; 825  :                     // Prompt the user to select a new device or mode
; 826  :                     if( m_bActive && m_bReady )

  00712	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00715	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0071c	74 50		 je	 SHORT $L85909
  0071e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00721	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00728	74 44		 je	 SHORT $L85909

; 827  :                     {
; 828  :                         Pause(TRUE);

  0072a	8b f4		 mov	 esi, esp
  0072c	6a 01		 push	 1
  0072e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00731	8b 10		 mov	 edx, DWORD PTR [eax]
  00733	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00736	ff 52 34	 call	 DWORD PTR [edx+52]
  00739	3b f4		 cmp	 esi, esp
  0073b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 829  : 
; 830  :                         if( FAILED( hr = UserSelectNewDevice() ) )

  00740	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00743	e8 00 00 00 00	 call	 ?UserSelectNewDevice@CD3DApplication@@IAEJXZ ; CD3DApplication::UserSelectNewDevice
  00748	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0074b	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0074f	7d 07		 jge	 SHORT $L85911

; 831  :                             return 0;

  00751	33 c0		 xor	 eax, eax
  00753	e9 1b 01 00 00	 jmp	 $L85834
$L85911:

; 832  : 
; 833  :                         Pause(FALSE);

  00758	8b f4		 mov	 esi, esp
  0075a	6a 00		 push	 0
  0075c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0075f	8b 10		 mov	 edx, DWORD PTR [eax]
  00761	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00764	ff 52 34	 call	 DWORD PTR [edx+52]
  00767	3b f4		 cmp	 esi, esp
  00769	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85909:

; 834  :                     }
; 835  :                     return 0;

  0076e	33 c0		 xor	 eax, eax
  00770	e9 fe 00 00 00	 jmp	 $L85834
$L85912:

; 836  : 
; 837  :                 case IDM_TOGGLEFULLSCREEN:
; 838  :                     // Toggle the fullscreen/window mode
; 839  :                     if( m_bActive && m_bReady )

  00775	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00778	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0077f	74 5a		 je	 SHORT $L85913
  00781	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00784	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  0078b	74 4e		 je	 SHORT $L85913

; 840  :                     {
; 841  :                         Pause( TRUE );

  0078d	8b f4		 mov	 esi, esp
  0078f	6a 01		 push	 1
  00791	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00794	8b 10		 mov	 edx, DWORD PTR [eax]
  00796	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00799	ff 52 34	 call	 DWORD PTR [edx+52]
  0079c	3b f4		 cmp	 esi, esp
  0079e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 842  :                         
; 843  :                         if( FAILED( ToggleFullscreen() ) )

  007a3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007a6	e8 00 00 00 00	 call	 ?ToggleFullscreen@CD3DApplication@@IAEJXZ ; CD3DApplication::ToggleFullscreen
  007ab	85 c0		 test	 eax, eax
  007ad	7d 16		 jge	 SHORT $L85915

; 844  :                         {
; 845  :                             DisplayErrorMsg( D3DAPPERR_RESIZEFAILED, MSGERR_APPMUSTEXIT );

  007af	6a 01		 push	 1
  007b1	68 0c 00 00 82	 push	 -2113929204		; 8200000cH
  007b6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007b9	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 846  :                             return 0;

  007be	33 c0		 xor	 eax, eax
  007c0	e9 ae 00 00 00	 jmp	 $L85834
$L85915:

; 847  :                         }
; 848  : 
; 849  :                         Pause( FALSE );                        

  007c5	8b f4		 mov	 esi, esp
  007c7	6a 00		 push	 0
  007c9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007cc	8b 10		 mov	 edx, DWORD PTR [eax]
  007ce	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007d1	ff 52 34	 call	 DWORD PTR [edx+52]
  007d4	3b f4		 cmp	 esi, esp
  007d6	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85913:

; 850  :                     }
; 851  :                     return 0;

  007db	33 c0		 xor	 eax, eax
  007dd	e9 91 00 00 00	 jmp	 $L85834
$L85916:

; 852  : 
; 853  :                 case IDM_EXIT:
; 854  :                     // Recieved key/menu command to exit app
; 855  :                     SendMessage( hWnd, WM_CLOSE, 0, 0 );

  007e2	8b f4		 mov	 esi, esp
  007e4	6a 00		 push	 0
  007e6	6a 00		 push	 0
  007e8	6a 10		 push	 16			; 00000010H
  007ea	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  007ed	50		 push	 eax
  007ee	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  007f4	3b f4		 cmp	 esi, esp
  007f6	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 856  :                     return 0;

  007fb	33 c0		 xor	 eax, eax
  007fd	eb 74		 jmp	 SHORT $L85834
$L85901:

; 857  :             }
; 858  :             break;

  007ff	eb 53		 jmp	 SHORT $L85837
$L85917:

; 859  : 
; 860  :         case WM_CLOSE:
; 861  :             Cleanup3DEnvironment();

  00801	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00804	e8 00 00 00 00	 call	 ?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ ; CD3DApplication::Cleanup3DEnvironment

; 862  :             DestroyMenu( GetMenu(hWnd) );

  00809	8b f4		 mov	 esi, esp
  0080b	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0080e	50		 push	 eax
  0080f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetMenu@4
  00815	3b f4		 cmp	 esi, esp
  00817	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0081c	8b f4		 mov	 esi, esp
  0081e	50		 push	 eax
  0081f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DestroyMenu@4
  00825	3b f4		 cmp	 esi, esp
  00827	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 863  :             DestroyWindow( hWnd );

  0082c	8b f4		 mov	 esi, esp
  0082e	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  00831	50		 push	 eax
  00832	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DestroyWindow@4
  00838	3b f4		 cmp	 esi, esp
  0083a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 864  :             PostQuitMessage(0);

  0083f	8b f4		 mov	 esi, esp
  00841	6a 00		 push	 0
  00843	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PostQuitMessage@4
  00849	3b f4		 cmp	 esi, esp
  0084b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 865  :             return 0;

  00850	33 c0		 xor	 eax, eax
  00852	eb 1f		 jmp	 SHORT $L85834
$L85837:

; 866  :     }
; 867  : 
; 868  :     return DefWindowProc( hWnd, uMsg, wParam, lParam );

  00854	8b f4		 mov	 esi, esp
  00856	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00859	50		 push	 eax
  0085a	8b 4d 10	 mov	 ecx, DWORD PTR _wParam$[ebp]
  0085d	51		 push	 ecx
  0085e	8b 55 0c	 mov	 edx, DWORD PTR _uMsg$[ebp]
  00861	52		 push	 edx
  00862	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  00865	50		 push	 eax
  00866	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DefWindowProcA@16
  0086c	3b f4		 cmp	 esi, esp
  0086e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85834:

; 869  : }

  00873	52		 push	 edx
  00874	8b cd		 mov	 ecx, ebp
  00876	50		 push	 eax
  00877	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86726
  0087d	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00882	58		 pop	 eax
  00883	5a		 pop	 edx
  00884	5f		 pop	 edi
  00885	5e		 pop	 esi
  00886	5b		 pop	 ebx
  00887	81 c4 04 01 00
	00		 add	 esp, 260		; 00000104H
  0088d	3b ec		 cmp	 ebp, esp
  0088f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00894	8b e5		 mov	 esp, ebp
  00896	5d		 pop	 ebp
  00897	c2 10 00	 ret	 16			; 00000010H
$L86726:
  0089a	02 00 00 00	 DD	 2
  0089e	00 00 00 00	 DD	 $L86725
$L86725:
  008a2	d4 ff ff ff	 DD	 -44			; ffffffd4H
  008a6	10 00 00 00	 DD	 16			; 00000010H
  008aa	00 00 00 00	 DD	 $L86723
  008ae	c4 ff ff ff	 DD	 -60			; ffffffc4H
  008b2	08 00 00 00	 DD	 8
  008b6	00 00 00 00	 DD	 $L86724
$L86724:
  008ba	70		 DB	 112			; 00000070H
  008bb	74		 DB	 116			; 00000074H
  008bc	43		 DB	 67			; 00000043H
  008bd	75		 DB	 117			; 00000075H
  008be	72		 DB	 114			; 00000072H
  008bf	73		 DB	 115			; 00000073H
  008c0	6f		 DB	 111			; 0000006fH
  008c1	72		 DB	 114			; 00000072H
  008c2	00		 DB	 0
$L86723:
  008c3	72		 DB	 114			; 00000072H
  008c4	63		 DB	 99			; 00000063H
  008c5	43		 DB	 67			; 00000043H
  008c6	6c		 DB	 108			; 0000006cH
  008c7	69		 DB	 105			; 00000069H
  008c8	65		 DB	 101			; 00000065H
  008c9	6e		 DB	 110			; 0000006eH
  008ca	74		 DB	 116			; 00000074H
  008cb	4f		 DB	 79			; 0000004fH
  008cc	6c		 DB	 108			; 0000006cH
  008cd	64		 DB	 100			; 00000064H
  008ce	00		 DB	 0
$L86727:
  008cf	00 00 00 00	 DD	 $L85851
  008d3	00 00 00 00	 DD	 $L85840
  008d7	00 00 00 00	 DD	 $L85917
  008db	00 00 00 00	 DD	 $L85843
  008df	00 00 00 00	 DD	 $L85863
  008e3	00 00 00 00	 DD	 $L85847
  008e7	00 00 00 00	 DD	 $L85872
  008eb	00 00 00 00	 DD	 $L85881
  008ef	00 00 00 00	 DD	 $L85837
$L86722:
  008f3	00		 DB	 0
  008f4	08		 DB	 8
  008f5	08		 DB	 8
  008f6	08		 DB	 8
  008f7	08		 DB	 8
  008f8	08		 DB	 8
  008f9	08		 DB	 8
  008fa	08		 DB	 8
  008fb	08		 DB	 8
  008fc	08		 DB	 8
  008fd	01		 DB	 1
  008fe	02		 DB	 2
  008ff	08		 DB	 8
  00900	08		 DB	 8
  00901	08		 DB	 8
  00902	08		 DB	 8
  00903	08		 DB	 8
  00904	08		 DB	 8
  00905	08		 DB	 8
  00906	08		 DB	 8
  00907	08		 DB	 8
  00908	08		 DB	 8
  00909	08		 DB	 8
  0090a	03		 DB	 3
  0090b	08		 DB	 8
  0090c	08		 DB	 8
  0090d	08		 DB	 8
  0090e	04		 DB	 4
  0090f	08		 DB	 8
  00910	08		 DB	 8
  00911	08		 DB	 8
  00912	05		 DB	 5
  00913	08		 DB	 8
  00914	08		 DB	 8
  00915	08		 DB	 8
  00916	08		 DB	 8
  00917	08		 DB	 8
  00918	08		 DB	 8
  00919	08		 DB	 8
  0091a	08		 DB	 8
  0091b	08		 DB	 8
  0091c	08		 DB	 8
  0091d	08		 DB	 8
  0091e	08		 DB	 8
  0091f	08		 DB	 8
  00920	08		 DB	 8
  00921	08		 DB	 8
  00922	08		 DB	 8
  00923	08		 DB	 8
  00924	08		 DB	 8
  00925	08		 DB	 8
  00926	08		 DB	 8
  00927	08		 DB	 8
  00928	08		 DB	 8
  00929	08		 DB	 8
  0092a	08		 DB	 8
  0092b	08		 DB	 8
  0092c	08		 DB	 8
  0092d	08		 DB	 8
  0092e	08		 DB	 8
  0092f	08		 DB	 8
  00930	08		 DB	 8
  00931	08		 DB	 8
  00932	08		 DB	 8
  00933	08		 DB	 8
  00934	08		 DB	 8
  00935	08		 DB	 8
  00936	08		 DB	 8
  00937	08		 DB	 8
  00938	08		 DB	 8
  00939	08		 DB	 8
  0093a	08		 DB	 8
  0093b	08		 DB	 8
  0093c	08		 DB	 8
  0093d	08		 DB	 8
  0093e	08		 DB	 8
  0093f	08		 DB	 8
  00940	08		 DB	 8
  00941	08		 DB	 8
  00942	08		 DB	 8
  00943	08		 DB	 8
  00944	08		 DB	 8
  00945	08		 DB	 8
  00946	08		 DB	 8
  00947	08		 DB	 8
  00948	08		 DB	 8
  00949	08		 DB	 8
  0094a	08		 DB	 8
  0094b	08		 DB	 8
  0094c	08		 DB	 8
  0094d	08		 DB	 8
  0094e	08		 DB	 8
  0094f	08		 DB	 8
  00950	08		 DB	 8
  00951	08		 DB	 8
  00952	08		 DB	 8
  00953	08		 DB	 8
  00954	08		 DB	 8
  00955	08		 DB	 8
  00956	08		 DB	 8
  00957	08		 DB	 8
  00958	08		 DB	 8
  00959	08		 DB	 8
  0095a	08		 DB	 8
  0095b	08		 DB	 8
  0095c	08		 DB	 8
  0095d	08		 DB	 8
  0095e	08		 DB	 8
  0095f	08		 DB	 8
  00960	08		 DB	 8
  00961	08		 DB	 8
  00962	08		 DB	 8
  00963	08		 DB	 8
  00964	08		 DB	 8
  00965	08		 DB	 8
  00966	08		 DB	 8
  00967	08		 DB	 8
  00968	08		 DB	 8
  00969	06		 DB	 6
  0096a	08		 DB	 8
  0096b	08		 DB	 8
  0096c	08		 DB	 8
  0096d	08		 DB	 8
  0096e	08		 DB	 8
  0096f	08		 DB	 8
  00970	08		 DB	 8
  00971	08		 DB	 8
  00972	07		 DB	 7
$L86728:
  00973	00 00 00 00	 DD	 $L85908
  00977	00 00 00 00	 DD	 $L85912
  0097b	00 00 00 00	 DD	 $L85904
  0097f	00 00 00 00	 DD	 $L85905
  00983	00 00 00 00	 DD	 $L85916
?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z ENDP	; CD3DApplication::MsgProc
_TEXT	ENDS
PUBLIC	??_C@_02JLLOHNJH@SW?$AA@			; `string'
PUBLIC	??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@	; `string'
PUBLIC	??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@ ; `string'
PUBLIC	??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@		; `string'
PUBLIC	??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@	; `string'
PUBLIC	??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@ ; `string'
PUBLIC	??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@		; `string'
PUBLIC	??_C@_02LMMGGCAJ@?3?5?$AA@			; `string'
EXTRN	__imp__lstrcpyA@8:NEAR
EXTRN	__imp__lstrcatA@8:NEAR
EXTRN	__imp__GetClassLongA@8:NEAR
EXTRN	__imp__SetWindowPos@28:NEAR
EXTRN	?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z:NEAR ; D3DUtil_SetDeviceCursor
EXTRN	_memset:NEAR
;	COMDAT ??_C@_02JLLOHNJH@SW?$AA@
CONST	SEGMENT
??_C@_02JLLOHNJH@SW?$AA@ DB 'SW', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@ DB ' (pure hw vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@ DB ' (simulated'
	DB	' pure hw vp)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@ DB ' (hw vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@ DB ' (simulated hw vp'
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@ DB ' (mixed vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@ DB ' (simulated mi'
	DB	'xed vp)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@ DB ' (sw vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_02LMMGGCAJ@?3?5?$AA@
CONST	SEGMENT
??_C@_02LMMGGCAJ@?3?5?$AA@ DB ': ', 00H			; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_i$85981 = -116
_rcWindow$85972 = -104
_hCursor$85968 = -80
_pBackBuffer$85966 = -68
_pModeInfo$ = -56
_pDeviceInfo$ = -44
_pAdapterInfo$ = -32
_hr$ = -20
_this$ = -8
?Initialize3DEnvironment@CD3DApplication@@IAEJXZ PROC NEAR ; CD3DApplication::Initialize3DEnvironment, COMDAT
; _this$ = ecx

; 879  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 38 01 00
	00		 sub	 esp, 312		; 00000138H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd c8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-312]
  00013	b9 4e 00 00 00	 mov	 ecx, 78			; 0000004eH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 880  :     HRESULT hr;
; 881  : 
; 882  :     D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0002c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00039	89 45 e0	 mov	 DWORD PTR _pAdapterInfo$[ebp], eax

; 883  :     D3DDeviceInfo*  pDeviceInfo  = &pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice];

  0003c	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  0003f	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00045	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  0004b	8b 55 e0	 mov	 edx, DWORD PTR _pAdapterInfo$[ebp]
  0004e	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  00055	89 45 d4	 mov	 DWORD PTR _pDeviceInfo$[ebp], eax

; 884  :     D3DModeInfo*    pModeInfo    = &pDeviceInfo->modes[pDeviceInfo->dwCurrentMode];

  00058	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0005b	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  00061	6b c9 14	 imul	 ecx, 20			; 00000014H
  00064	8b 55 d4	 mov	 edx, DWORD PTR _pDeviceInfo$[ebp]
  00067	8d 84 0a e4 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+228]
  0006e	89 45 c8	 mov	 DWORD PTR _pModeInfo$[ebp], eax

; 885  : 
; 886  :     // Prepare window for possible windowed/fullscreen change
; 887  :     AdjustWindowForChange();

  00071	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00074	8b 10		 mov	 edx, DWORD PTR [eax]
  00076	8b f4		 mov	 esi, esp
  00078	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0007b	ff 12		 call	 DWORD PTR [edx]
  0007d	3b f4		 cmp	 esi, esp
  0007f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 888  : 
; 889  :     // Set up the presentation parameters
; 890  :     ZeroMemory( &m_d3dpp, sizeof(m_d3dpp) );

  00084	6a 34		 push	 52			; 00000034H
  00086	6a 00		 push	 0
  00088	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008b	05 64 a4 02 00	 add	 eax, 173156		; 0002a464H
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 _memset
  00096	83 c4 0c	 add	 esp, 12			; 0000000cH

; 891  :     m_d3dpp.Windowed               = pDeviceInfo->bWindowed;

  00099	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  0009f	8b 91 a0 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3232]
  000a5	89 90 80 a4 02
	00		 mov	 DWORD PTR [eax+173184], edx

; 892  :     m_d3dpp.BackBufferCount        = 1;

  000ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	c7 80 70 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173168], 1

; 893  :     if( pDeviceInfo->bWindowed )

  000b8	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  000bb	83 b8 a0 0c 00
	00 00		 cmp	 DWORD PTR [eax+3232], 0
  000c2	74 14		 je	 SHORT $L85925

; 894  :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeWindowed;

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000ca	8b 91 a4 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3236]
  000d0	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx

; 895  :     else

  000d6	eb 12		 jmp	 SHORT $L85926
$L85925:

; 896  : 	{
; 897  :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeFullscreen;

  000d8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000db	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000de	8b 91 a8 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3240]
  000e4	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx
$L85926:

; 898  : 	}
; 899  : 
; 900  : 	// DM
; 901  : 	if( m_nFSAA != 0 )

  000ea	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ed	83 b8 a8 a6 02
	00 00		 cmp	 DWORD PTR [eax+173736], 0
  000f4	74 12		 je	 SHORT $L85927

; 902  : 		m_d3dpp.MultiSampleType	   = (D3DMULTISAMPLE_TYPE)m_nFSAA ;

  000f6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000fc	8b 91 a8 a6 02
	00		 mov	 edx, DWORD PTR [ecx+173736]
  00102	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx
$L85927:

; 903  : 
; 904  :     m_d3dpp.SwapEffect             = D3DSWAPEFFECT_DISCARD;

  00108	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010b	c7 80 78 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173176], 1

; 905  :     m_d3dpp.EnableAutoDepthStencil = m_bUseDepthBuffer;

  00115	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00118	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011b	8b 91 88 a6 02
	00		 mov	 edx, DWORD PTR [ecx+173704]
  00121	89 90 84 a4 02
	00		 mov	 DWORD PTR [eax+173188], edx

; 906  :     m_d3dpp.AutoDepthStencilFormat = pModeInfo->DepthStencilFormat;

  00127	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0012a	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  0012d	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  00130	89 90 88 a4 02
	00		 mov	 DWORD PTR [eax+173192], edx

; 907  :     m_d3dpp.hDeviceWindow          = m_hWnd;

  00136	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00139	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0013c	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00142	89 90 7c a4 02
	00		 mov	 DWORD PTR [eax+173180], edx

; 908  :     if( m_bWindowed )

  00148	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014b	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00152	74 57		 je	 SHORT $L85929

; 909  :     {
; 910  :         m_d3dpp.BackBufferWidth  = m_rcWindowClient.right - m_rcWindowClient.left;

  00154	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00157	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015a	8b 90 c0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173504]
  00160	2b 91 b8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173496]
  00166	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00169	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 911  :         m_d3dpp.BackBufferHeight = m_rcWindowClient.bottom - m_rcWindowClient.top;

  0016f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00172	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00175	8b 90 c4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173508]
  0017b	2b 91 bc a5 02
	00		 sub	 edx, DWORD PTR [ecx+173500]
  00181	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00184	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 912  :         m_d3dpp.BackBufferFormat = pAdapterInfo->d3ddmDesktop.Format;

  0018a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018d	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  00190	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00196	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx

; 913  : 		m_d3dpp.FullScreen_PresentationInterval = D3DPRESENT_INTERVAL_DEFAULT ;

  0019c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0019f	c7 80 94 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173204], 0

; 914  :     }
; 915  :     else

  001a9	eb 54		 jmp	 SHORT $L85930
$L85929:

; 916  :     {
; 917  :         m_d3dpp.BackBufferWidth  = pModeInfo->Width;

  001ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ae	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001b1	8b 11		 mov	 edx, DWORD PTR [ecx]
  001b3	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 918  :         m_d3dpp.BackBufferHeight = pModeInfo->Height;

  001b9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001bc	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001bf	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  001c2	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 919  :         m_d3dpp.BackBufferFormat = pModeInfo->Format;

  001c8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001cb	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001ce	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001d1	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx

; 920  : 		if( m_bVSync )

  001d7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001da	83 b8 a4 a6 02
	00 00		 cmp	 DWORD PTR [eax+173732], 0
  001e1	74 0f		 je	 SHORT $L85931

; 921  : 			m_d3dpp.FullScreen_PresentationInterval = D3DPRESENT_INTERVAL_DEFAULT ;

  001e3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001e6	c7 80 94 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173204], 0

; 922  : 		else

  001f0	eb 0d		 jmp	 SHORT $L85930
$L85931:

; 923  : 			m_d3dpp.FullScreen_PresentationInterval = D3DPRESENT_INTERVAL_IMMEDIATE ;

  001f2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001f5	c7 80 94 a4 02
	00 00 00 00 80	 mov	 DWORD PTR [eax+173204], -2147483648 ; 80000000H
$L85930:

; 924  :     }
; 925  : 
; 926  :     if( pDeviceInfo->d3dCaps.PrimitiveMiscCaps & D3DPMISCCAPS_NULLREFERENCE )

  001ff	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00202	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  00205	81 e1 00 10 00
	00		 and	 ecx, 4096		; 00001000H
  0020b	85 c9		 test	 ecx, ecx
  0020d	74 0f		 je	 SHORT $L85933

; 927  :     {
; 928  :         // Warn user about null ref device that can't render anything
; 929  :         DisplayErrorMsg( D3DAPPERR_NULLREFDEVICE, 0 );

  0020f	6a 00		 push	 0
  00211	68 0d 00 00 82	 push	 -2113929203		; 8200000dH
  00216	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00219	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
$L85933:

; 930  :     }
; 931  : 
; 932  :     // Create the device
; 933  :     hr = m_pD3D->CreateDevice( m_dwAdapter,
; 934  : 							   pDeviceInfo->DeviceType,
; 935  :                                m_hWndFocus,
; 936  : 							   pModeInfo->dwBehavior|D3DCREATE_MULTITHREADED,
; 937  : 							   &m_d3dpp,
; 938  :                                &m_pd3dDevice );

  0021e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00221	05 a8 a4 02 00	 add	 eax, 173224		; 0002a4a8H
  00226	8b f4		 mov	 esi, esp
  00228	50		 push	 eax
  00229	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0022c	81 c1 64 a4 02
	00		 add	 ecx, 173156		; 0002a464H
  00232	51		 push	 ecx
  00233	8b 55 c8	 mov	 edx, DWORD PTR _pModeInfo$[ebp]
  00236	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00239	83 c8 04	 or	 eax, 4
  0023c	50		 push	 eax
  0023d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00240	8b 91 9c a4 02
	00		 mov	 edx, DWORD PTR [ecx+173212]
  00246	52		 push	 edx
  00247	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0024a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0024c	51		 push	 ecx
  0024d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00250	8b 82 48 a4 02
	00		 mov	 eax, DWORD PTR [edx+173128]
  00256	50		 push	 eax
  00257	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0025a	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00260	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00263	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00269	8b 12		 mov	 edx, DWORD PTR [edx]
  0026b	51		 push	 ecx
  0026c	ff 52 3c	 call	 DWORD PTR [edx+60]
  0026f	3b f4		 cmp	 esi, esp
  00271	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00276	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 939  :     if( SUCCEEDED(hr) )

  00279	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0027d	0f 8c 67 04 00
	00		 jl	 $L85935

; 940  :     {
; 941  :         // When moving from fullscreen to windowed mode, it is important to
; 942  :         // adjust the window size after recreating the device rather than
; 943  :         // beforehand to ensure that you get the window size you want.  For
; 944  :         // example, when switching from 640x480 fullscreen to windowed with
; 945  :         // a 1000x600 window on a 1024x768 desktop, it is impossible to set
; 946  :         // the window size to 1000x600 until after the display mode has
; 947  :         // changed to 1024x768, because windows cannot be larger than the
; 948  :         // desktop.
; 949  :         if( m_bWindowed )

  00283	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00286	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0028d	74 57		 je	 SHORT $L85936

; 950  :         {
; 951  :             SetWindowPos( m_hWnd, HWND_NOTOPMOST,
; 952  :                           m_rcWindowBounds.left, m_rcWindowBounds.top,
; 953  :                           ( m_rcWindowBounds.right - m_rcWindowBounds.left ),
; 954  :                           ( m_rcWindowBounds.bottom - m_rcWindowBounds.top ),
; 955  :                           SWP_SHOWWINDOW );

  0028f	8b f4		 mov	 esi, esp
  00291	6a 40		 push	 64			; 00000040H
  00293	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00296	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00299	8b 90 b4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173492]
  0029f	2b 91 ac a5 02
	00		 sub	 edx, DWORD PTR [ecx+173484]
  002a5	52		 push	 edx
  002a6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002ac	8b 90 b0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173488]
  002b2	2b 91 a8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173480]
  002b8	52		 push	 edx
  002b9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002bc	8b 88 ac a5 02
	00		 mov	 ecx, DWORD PTR [eax+173484]
  002c2	51		 push	 ecx
  002c3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002c6	8b 82 a8 a5 02
	00		 mov	 eax, DWORD PTR [edx+173480]
  002cc	50		 push	 eax
  002cd	6a fe		 push	 -2			; fffffffeH
  002cf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002d2	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  002d8	52		 push	 edx
  002d9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28
  002df	3b f4		 cmp	 esi, esp
  002e1	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85936:

; 956  :         }
; 957  : 
; 958  :         // Store device Caps
; 959  :         m_pd3dDevice->GetDeviceCaps( &m_d3dCaps );

  002e6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002e9	05 ac a4 02 00	 add	 eax, 173228		; 0002a4acH
  002ee	8b f4		 mov	 esi, esp
  002f0	50		 push	 eax
  002f1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002f4	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  002fa	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002fd	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00303	8b 12		 mov	 edx, DWORD PTR [edx]
  00305	51		 push	 ecx
  00306	ff 52 1c	 call	 DWORD PTR [edx+28]
  00309	3b f4		 cmp	 esi, esp
  0030b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 960  :         m_dwCreateFlags = pModeInfo->dwBehavior;

  00310	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00313	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  00316	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00319	89 90 a0 a5 02
	00		 mov	 DWORD PTR [eax+173472], edx

; 961  : 
; 962  :         // Store device description
; 963  :         if( pDeviceInfo->DeviceType == D3DDEVTYPE_REF )

  0031f	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00322	83 38 02	 cmp	 DWORD PTR [eax], 2
  00325	75 1f		 jne	 SHORT $L85938

; 964  :             lstrcpy( m_strDeviceStats, TEXT("REF") );

  00327	8b f4		 mov	 esi, esp
  00329	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_03GPMNEAGC@REF?$AA@
  0032e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00331	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  00336	50		 push	 eax
  00337	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  0033d	3b f4		 cmp	 esi, esp
  0033f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 965  :         else if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  00344	eb 4c		 jmp	 SHORT $L85939
$L85938:
  00346	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00349	83 38 01	 cmp	 DWORD PTR [eax], 1
  0034c	75 1f		 jne	 SHORT $L85940

; 966  :             lstrcpy( m_strDeviceStats, TEXT("HAL") );

  0034e	8b f4		 mov	 esi, esp
  00350	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_03KNIPLHMP@HAL?$AA@
  00355	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00358	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  0035d	50		 push	 eax
  0035e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  00364	3b f4		 cmp	 esi, esp
  00366	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 967  :         else if( pDeviceInfo->DeviceType == D3DDEVTYPE_SW )

  0036b	eb 25		 jmp	 SHORT $L85939
$L85940:
  0036d	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00370	83 38 03	 cmp	 DWORD PTR [eax], 3
  00373	75 1d		 jne	 SHORT $L85939

; 968  :             lstrcpy( m_strDeviceStats, TEXT("SW") );

  00375	8b f4		 mov	 esi, esp
  00377	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_02JLLOHNJH@SW?$AA@
  0037c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0037f	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  00384	50		 push	 eax
  00385	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  0038b	3b f4		 cmp	 esi, esp
  0038d	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85939:

; 969  : 
; 970  :         if( pModeInfo->dwBehavior & D3DCREATE_HARDWARE_VERTEXPROCESSING &&
; 971  :             pModeInfo->dwBehavior & D3DCREATE_PUREDEVICE )

  00392	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  00395	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00398	83 e1 40	 and	 ecx, 64			; 00000040H
  0039b	85 c9		 test	 ecx, ecx
  0039d	74 56		 je	 SHORT $L85944
  0039f	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  003a2	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003a5	83 e1 10	 and	 ecx, 16			; 00000010H
  003a8	85 c9		 test	 ecx, ecx
  003aa	74 49		 je	 SHORT $L85944

; 972  :         {
; 973  :             if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  003ac	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  003af	83 38 01	 cmp	 DWORD PTR [eax], 1
  003b2	75 1f		 jne	 SHORT $L85945

; 974  :                 lstrcat( m_strDeviceStats, TEXT(" (pure hw vp)") );

  003b4	8b f4		 mov	 esi, esp
  003b6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@
  003bb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003be	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  003c3	50		 push	 eax
  003c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003ca	3b f4		 cmp	 esi, esp
  003cc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 975  :             else

  003d1	eb 1d		 jmp	 SHORT $L85947
$L85945:

; 976  :                 lstrcat( m_strDeviceStats, TEXT(" (simulated pure hw vp)") );

  003d3	8b f4		 mov	 esi, esp
  003d5	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@
  003da	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003dd	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  003e2	50		 push	 eax
  003e3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003e9	3b f4		 cmp	 esi, esp
  003eb	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85947:

; 977  :         }
; 978  :         else if( pModeInfo->dwBehavior & D3DCREATE_HARDWARE_VERTEXPROCESSING )

  003f0	e9 d6 00 00 00	 jmp	 $L85949
$L85944:
  003f5	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  003f8	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003fb	83 e1 40	 and	 ecx, 64			; 00000040H
  003fe	85 c9		 test	 ecx, ecx
  00400	74 49		 je	 SHORT $L85950

; 979  :         {
; 980  :             if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  00402	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00405	83 38 01	 cmp	 DWORD PTR [eax], 1
  00408	75 1f		 jne	 SHORT $L85951

; 981  :                 lstrcat( m_strDeviceStats, TEXT(" (hw vp)") );

  0040a	8b f4		 mov	 esi, esp
  0040c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@
  00411	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00414	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  00419	50		 push	 eax
  0041a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00420	3b f4		 cmp	 esi, esp
  00422	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 982  :             else

  00427	eb 1d		 jmp	 SHORT $L85953
$L85951:

; 983  :                 lstrcat( m_strDeviceStats, TEXT(" (simulated hw vp)") );

  00429	8b f4		 mov	 esi, esp
  0042b	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@
  00430	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00433	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  00438	50		 push	 eax
  00439	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0043f	3b f4		 cmp	 esi, esp
  00441	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85953:

; 984  :         }
; 985  :         else if( pModeInfo->dwBehavior & D3DCREATE_MIXED_VERTEXPROCESSING )

  00446	e9 80 00 00 00	 jmp	 $L85949
$L85950:
  0044b	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  0044e	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00451	81 e1 80 00 00
	00		 and	 ecx, 128		; 00000080H
  00457	85 c9		 test	 ecx, ecx
  00459	74 46		 je	 SHORT $L85956

; 986  :         {
; 987  :             if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  0045b	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0045e	83 38 01	 cmp	 DWORD PTR [eax], 1
  00461	75 1f		 jne	 SHORT $L85957

; 988  :                 lstrcat( m_strDeviceStats, TEXT(" (mixed vp)") );

  00463	8b f4		 mov	 esi, esp
  00465	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@
  0046a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0046d	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  00472	50		 push	 eax
  00473	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00479	3b f4		 cmp	 esi, esp
  0047b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 989  :             else

  00480	eb 1d		 jmp	 SHORT $L85959
$L85957:

; 990  :                 lstrcat( m_strDeviceStats, TEXT(" (simulated mixed vp)") );

  00482	8b f4		 mov	 esi, esp
  00484	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@
  00489	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0048c	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  00491	50		 push	 eax
  00492	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00498	3b f4		 cmp	 esi, esp
  0049a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85959:

; 991  :         }
; 992  :         else if( pModeInfo->dwBehavior & D3DCREATE_SOFTWARE_VERTEXPROCESSING )

  0049f	eb 2a		 jmp	 SHORT $L85949
$L85956:
  004a1	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  004a4	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  004a7	83 e1 20	 and	 ecx, 32			; 00000020H
  004aa	85 c9		 test	 ecx, ecx
  004ac	74 1d		 je	 SHORT $L85949

; 993  :         {
; 994  :             lstrcat( m_strDeviceStats, TEXT(" (sw vp)") );

  004ae	8b f4		 mov	 esi, esp
  004b0	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@
  004b5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004b8	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  004bd	50		 push	 eax
  004be	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004c4	3b f4		 cmp	 esi, esp
  004c6	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85949:

; 995  :         }
; 996  : 
; 997  :         if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  004cb	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  004ce	83 38 01	 cmp	 DWORD PTR [eax], 1
  004d1	75 3f		 jne	 SHORT $L85964

; 998  :         {
; 999  :             lstrcat( m_strDeviceStats, TEXT(": ") );

  004d3	8b f4		 mov	 esi, esp
  004d5	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_02LMMGGCAJ@?3?5?$AA@
  004da	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004dd	05 d0 a5 02 00	 add	 eax, 173520		; 0002a5d0H
  004e2	50		 push	 eax
  004e3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004e9	3b f4		 cmp	 esi, esp
  004eb	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1000 :             lstrcat( m_strDeviceStats, pAdapterInfo->d3dAdapterIdentifier.Description );

  004f0	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  004f3	05 00 02 00 00	 add	 eax, 512		; 00000200H
  004f8	8b f4		 mov	 esi, esp
  004fa	50		 push	 eax
  004fb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  004fe	81 c1 d0 a5 02
	00		 add	 ecx, 173520		; 0002a5d0H
  00504	51		 push	 ecx
  00505	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0050b	3b f4		 cmp	 esi, esp
  0050d	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85964:

; 1001 :         }
; 1002 : 
; 1003 :         // Store render target surface desc
; 1004 :         LPDIRECT3DSURFACE8 pBackBuffer;
; 1005 :         m_pd3dDevice->GetBackBuffer( 0, D3DBACKBUFFER_TYPE_MONO, &pBackBuffer );

  00512	8b f4		 mov	 esi, esp
  00514	8d 45 bc	 lea	 eax, DWORD PTR _pBackBuffer$85966[ebp]
  00517	50		 push	 eax
  00518	6a 00		 push	 0
  0051a	6a 00		 push	 0
  0051c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0051f	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  00525	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00528	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0052e	8b 12		 mov	 edx, DWORD PTR [edx]
  00530	51		 push	 ecx
  00531	ff 52 40	 call	 DWORD PTR [edx+64]
  00534	3b f4		 cmp	 esi, esp
  00536	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1006 :         pBackBuffer->GetDesc( &m_d3dsdBackBuffer );

  0053b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0053e	05 80 a5 02 00	 add	 eax, 173440		; 0002a580H
  00543	8b f4		 mov	 esi, esp
  00545	50		 push	 eax
  00546	8b 4d bc	 mov	 ecx, DWORD PTR _pBackBuffer$85966[ebp]
  00549	8b 11		 mov	 edx, DWORD PTR [ecx]
  0054b	8b 45 bc	 mov	 eax, DWORD PTR _pBackBuffer$85966[ebp]
  0054e	50		 push	 eax
  0054f	ff 52 20	 call	 DWORD PTR [edx+32]
  00552	3b f4		 cmp	 esi, esp
  00554	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1007 :         pBackBuffer->Release();

  00559	8b 45 bc	 mov	 eax, DWORD PTR _pBackBuffer$85966[ebp]
  0055c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0055e	8b f4		 mov	 esi, esp
  00560	8b 55 bc	 mov	 edx, DWORD PTR _pBackBuffer$85966[ebp]
  00563	52		 push	 edx
  00564	ff 51 08	 call	 DWORD PTR [ecx+8]
  00567	3b f4		 cmp	 esi, esp
  00569	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1008 : 
; 1009 :         // Set up the fullscreen cursor
; 1010 :         if( m_bShowCursorWhenFullscreen && !m_bWindowed )

  0056e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00571	83 b8 9c a6 02
	00 00		 cmp	 DWORD PTR [eax+173724], 0
  00578	74 65		 je	 SHORT $L85967
  0057a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0057d	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00584	75 59		 jne	 SHORT $L85967

; 1011 :         {
; 1012 :             HCURSOR hCursor;
; 1013 : #ifdef _WIN64
; 1014 :             hCursor = (HCURSOR)GetClassLongPtr( m_hWnd, GCLP_HCURSOR );
; 1015 : #else
; 1016 :             hCursor = (HCURSOR)GetClassLong( m_hWnd, GCL_HCURSOR );

  00586	8b f4		 mov	 esi, esp
  00588	6a f4		 push	 -12			; fffffff4H
  0058a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0058d	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00593	51		 push	 ecx
  00594	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClassLongA@8
  0059a	3b f4		 cmp	 esi, esp
  0059c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005a1	89 45 b0	 mov	 DWORD PTR _hCursor$85968[ebp], eax

; 1017 : #endif
; 1018 :             D3DUtil_SetDeviceCursor( m_pd3dDevice, hCursor, TRUE );

  005a4	6a 01		 push	 1
  005a6	8b 45 b0	 mov	 eax, DWORD PTR _hCursor$85968[ebp]
  005a9	50		 push	 eax
  005aa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  005ad	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  005b3	52		 push	 edx
  005b4	e8 00 00 00 00	 call	 ?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z ; D3DUtil_SetDeviceCursor
  005b9	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1019 :             m_pd3dDevice->ShowCursor( TRUE );

  005bc	8b f4		 mov	 esi, esp
  005be	6a 01		 push	 1
  005c0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005c3	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  005c9	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005cc	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  005d2	8b 09		 mov	 ecx, DWORD PTR [ecx]
  005d4	50		 push	 eax
  005d5	ff 51 30	 call	 DWORD PTR [ecx+48]
  005d8	3b f4		 cmp	 esi, esp
  005da	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85967:

; 1020 :         }
; 1021 : 
; 1022 :         // Confine cursor to fullscreen window
; 1023 :         if( m_bClipCursorWhenFullscreen )

  005df	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005e2	83 b8 a0 a6 02
	00 00		 cmp	 DWORD PTR [eax+173728], 0
  005e9	74 4f		 je	 SHORT $L85970

; 1024 :         {
; 1025 :             if (!m_bWindowed )

  005eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005ee	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  005f5	75 32		 jne	 SHORT $L85971

; 1026 :             {
; 1027 :                 RECT rcWindow;
; 1028 :                 GetWindowRect( m_hWnd, &rcWindow );

  005f7	8b f4		 mov	 esi, esp
  005f9	8d 45 98	 lea	 eax, DWORD PTR _rcWindow$85972[ebp]
  005fc	50		 push	 eax
  005fd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00600	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00606	52		 push	 edx
  00607	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  0060d	3b f4		 cmp	 esi, esp
  0060f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1029 :                 ClipCursor( &rcWindow );

  00614	8b f4		 mov	 esi, esp
  00616	8d 45 98	 lea	 eax, DWORD PTR _rcWindow$85972[ebp]
  00619	50		 push	 eax
  0061a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  00620	3b f4		 cmp	 esi, esp
  00622	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1030 :             }
; 1031 :             else

  00627	eb 11		 jmp	 SHORT $L85970
$L85971:

; 1032 :             {
; 1033 :                 ClipCursor( NULL );

  00629	8b f4		 mov	 esi, esp
  0062b	6a 00		 push	 0
  0062d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  00633	3b f4		 cmp	 esi, esp
  00635	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85970:

; 1034 :             }
; 1035 :         }
; 1036 : 
; 1037 :         // Initialize the app's device-dependent objects
; 1038 :         hr = InitDeviceObjects();

  0063a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0063d	8b 10		 mov	 edx, DWORD PTR [eax]
  0063f	8b f4		 mov	 esi, esp
  00641	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00644	ff 52 0c	 call	 DWORD PTR [edx+12]
  00647	3b f4		 cmp	 esi, esp
  00649	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0064e	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 1039 :         if( SUCCEEDED(hr) )

  00651	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00655	7c 31		 jl	 SHORT $L85975

; 1040 :         {
; 1041 :             hr = RestoreDeviceObjects();

  00657	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0065a	8b 10		 mov	 edx, DWORD PTR [eax]
  0065c	8b f4		 mov	 esi, esp
  0065e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00661	ff 52 10	 call	 DWORD PTR [edx+16]
  00664	3b f4		 cmp	 esi, esp
  00666	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0066b	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 1042 :             if( SUCCEEDED(hr) )

  0066e	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00672	7c 14		 jl	 SHORT $L85975

; 1043 :             {
; 1044 :                 m_bActive = TRUE;

  00674	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00677	c7 80 50 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173136], 1

; 1045 :                 return S_OK;

  00681	33 c0		 xor	 eax, eax
  00683	e9 a8 01 00 00	 jmp	 $L85920
$L85975:

; 1046 :             }
; 1047 :         }
; 1048 : 
; 1049 :         // Cleanup before we try again
; 1050 :         InvalidateDeviceObjects();

  00688	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0068b	8b 10		 mov	 edx, DWORD PTR [eax]
  0068d	8b f4		 mov	 esi, esp
  0068f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00692	ff 52 1c	 call	 DWORD PTR [edx+28]
  00695	3b f4		 cmp	 esi, esp
  00697	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1051 :         DeleteDeviceObjects();

  0069c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0069f	8b 10		 mov	 edx, DWORD PTR [eax]
  006a1	8b f4		 mov	 esi, esp
  006a3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006a6	ff 52 20	 call	 DWORD PTR [edx+32]
  006a9	3b f4		 cmp	 esi, esp
  006ab	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1052 :         SAFE_RELEASE( m_pd3dDevice );

  006b0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006b3	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  006ba	74 2e		 je	 SHORT $L85935
  006bc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006bf	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  006c5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006c8	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  006ce	8b 09		 mov	 ecx, DWORD PTR [ecx]
  006d0	8b f4		 mov	 esi, esp
  006d2	50		 push	 eax
  006d3	ff 51 08	 call	 DWORD PTR [ecx+8]
  006d6	3b f4		 cmp	 esi, esp
  006d8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006dd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006e0	c7 80 a8 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173224], 0
$L85935:

; 1053 :     }
; 1054 : 
; 1055 :     // If that failed, fall back to the reference rasterizer
; 1056 :     if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  006ea	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  006ed	83 38 01	 cmp	 DWORD PTR [eax], 1
  006f0	0f 85 37 01 00
	00		 jne	 $L85980

; 1057 :     {
; 1058 :         // Select the default adapter
; 1059 :         m_dwAdapter = 0L;

  006f6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006f9	c7 80 48 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173128], 0

; 1060 :         pAdapterInfo = &m_Adapters[m_dwAdapter];

  00703	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00706	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0070c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00712	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00715	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00719	89 45 e0	 mov	 DWORD PTR _pAdapterInfo$[ebp], eax

; 1061 : 
; 1062 :         // Look for a software device
; 1063 :         for( UINT i=0L; i<pAdapterInfo->dwNumDevices; i++ )

  0071c	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _i$85981[ebp], 0
  00723	eb 09		 jmp	 SHORT $L85982
$L85983:
  00725	8b 45 8c	 mov	 eax, DWORD PTR _i$85981[ebp]
  00728	83 c0 01	 add	 eax, 1
  0072b	89 45 8c	 mov	 DWORD PTR _i$85981[ebp], eax
$L85982:
  0072e	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  00731	8b 4d 8c	 mov	 ecx, DWORD PTR _i$85981[ebp]
  00734	3b 88 3c 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1084]
  0073a	73 4e		 jae	 SHORT $L85984

; 1064 :         {
; 1065 :             if( pAdapterInfo->devices[i].DeviceType == D3DDEVTYPE_REF )

  0073c	8b 45 8c	 mov	 eax, DWORD PTR _i$85981[ebp]
  0073f	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00745	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  00748	83 bc 01 40 04
	00 00 02	 cmp	 DWORD PTR [ecx+eax+1088], 2
  00750	75 36		 jne	 SHORT $L85985

; 1066 :             {
; 1067 :                 pAdapterInfo->dwCurrentDevice = i;

  00752	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  00755	8b 4d 8c	 mov	 ecx, DWORD PTR _i$85981[ebp]
  00758	89 88 9c 43 00
	00		 mov	 DWORD PTR [eax+17308], ecx

; 1068 :                 pDeviceInfo = &pAdapterInfo->devices[i];

  0075e	8b 45 8c	 mov	 eax, DWORD PTR _i$85981[ebp]
  00761	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00767	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  0076a	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  00771	89 55 d4	 mov	 DWORD PTR _pDeviceInfo$[ebp], edx

; 1069 :                 m_bWindowed = pDeviceInfo->bWindowed;

  00774	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00777	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  0077a	8b 91 a0 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3232]
  00780	89 90 4c a4 02
	00		 mov	 DWORD PTR [eax+173132], edx

; 1070 :                 break;

  00786	eb 02		 jmp	 SHORT $L85984
$L85985:

; 1071 :             }
; 1072 :         }

  00788	eb 9b		 jmp	 SHORT $L85983
$L85984:

; 1073 : 
; 1074 :         // Try again, this time with the reference rasterizer
; 1075 :         if( pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice].DeviceType ==
; 1076 :             D3DDEVTYPE_REF )

  0078a	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  0078d	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00793	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  00799	8b 55 e0	 mov	 edx, DWORD PTR _pAdapterInfo$[ebp]
  0079c	83 bc 0a 40 04
	00 00 02	 cmp	 DWORD PTR [edx+ecx+1088], 2
  007a4	0f 85 83 00 00
	00		 jne	 $L85980

; 1077 :         {
; 1078 :             // Make sure main window isn't topmost, so error message is visible
; 1079 :             SetWindowPos( m_hWnd, HWND_NOTOPMOST,
; 1080 :                           m_rcWindowBounds.left, m_rcWindowBounds.top,
; 1081 :                           ( m_rcWindowBounds.right - m_rcWindowBounds.left ),
; 1082 :                           ( m_rcWindowBounds.bottom - m_rcWindowBounds.top ),
; 1083 :                           SWP_SHOWWINDOW );

  007aa	8b f4		 mov	 esi, esp
  007ac	6a 40		 push	 64			; 00000040H
  007ae	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007b1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007b4	8b 90 b4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173492]
  007ba	2b 91 ac a5 02
	00		 sub	 edx, DWORD PTR [ecx+173484]
  007c0	52		 push	 edx
  007c1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007c4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007c7	8b 90 b0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173488]
  007cd	2b 91 a8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173480]
  007d3	52		 push	 edx
  007d4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007d7	8b 88 ac a5 02
	00		 mov	 ecx, DWORD PTR [eax+173484]
  007dd	51		 push	 ecx
  007de	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  007e1	8b 82 a8 a5 02
	00		 mov	 eax, DWORD PTR [edx+173480]
  007e7	50		 push	 eax
  007e8	6a fe		 push	 -2			; fffffffeH
  007ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007ed	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  007f3	52		 push	 edx
  007f4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28
  007fa	3b f4		 cmp	 esi, esp
  007fc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1084 :             AdjustWindowForChange();

  00801	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00804	8b 10		 mov	 edx, DWORD PTR [eax]
  00806	8b f4		 mov	 esi, esp
  00808	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0080b	ff 12		 call	 DWORD PTR [edx]
  0080d	3b f4		 cmp	 esi, esp
  0080f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1085 : 
; 1086 :             // Let the user know we are switching from HAL to the reference rasterizer
; 1087 :             DisplayErrorMsg( hr, MSGWARN_SWITCHEDTOREF );

  00814	6a 02		 push	 2
  00816	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00819	50		 push	 eax
  0081a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0081d	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 1088 : 
; 1089 :             hr = Initialize3DEnvironment();

  00822	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00825	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  0082a	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
$L85980:

; 1090 :         }
; 1091 :     }
; 1092 : 
; 1093 :     return hr;

  0082d	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
$L85920:

; 1094 : }

  00830	52		 push	 edx
  00831	8b cd		 mov	 ecx, ebp
  00833	50		 push	 eax
  00834	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86734
  0083a	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0083f	58		 pop	 eax
  00840	5a		 pop	 edx
  00841	5f		 pop	 edi
  00842	5e		 pop	 esi
  00843	5b		 pop	 ebx
  00844	81 c4 38 01 00
	00		 add	 esp, 312		; 00000138H
  0084a	3b ec		 cmp	 ebp, esp
  0084c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00851	8b e5		 mov	 esp, ebp
  00853	5d		 pop	 ebp
  00854	c3		 ret	 0
$L86734:
  00855	02 00 00 00	 DD	 2
  00859	00 00 00 00	 DD	 $L86733
$L86733:
  0085d	bc ff ff ff	 DD	 -68			; ffffffbcH
  00861	04 00 00 00	 DD	 4
  00865	00 00 00 00	 DD	 $L86731
  00869	98 ff ff ff	 DD	 -104			; ffffff98H
  0086d	10 00 00 00	 DD	 16			; 00000010H
  00871	00 00 00 00	 DD	 $L86732
$L86732:
  00875	72		 DB	 114			; 00000072H
  00876	63		 DB	 99			; 00000063H
  00877	57		 DB	 87			; 00000057H
  00878	69		 DB	 105			; 00000069H
  00879	6e		 DB	 110			; 0000006eH
  0087a	64		 DB	 100			; 00000064H
  0087b	6f		 DB	 111			; 0000006fH
  0087c	77		 DB	 119			; 00000077H
  0087d	00		 DB	 0
$L86731:
  0087e	70		 DB	 112			; 00000070H
  0087f	42		 DB	 66			; 00000042H
  00880	61		 DB	 97			; 00000061H
  00881	63		 DB	 99			; 00000063H
  00882	6b		 DB	 107			; 0000006bH
  00883	42		 DB	 66			; 00000042H
  00884	75		 DB	 117			; 00000075H
  00885	66		 DB	 102			; 00000066H
  00886	66		 DB	 102			; 00000066H
  00887	65		 DB	 101			; 00000065H
  00888	72		 DB	 114			; 00000072H
  00889	00		 DB	 0
?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::Initialize3DEnvironment
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Resize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_rcWindow$86002 = -68
_hCursor$85998 = -44
_pBackBuffer$ = -32
_hr$ = -20
_this$ = -8
?Resize3DEnvironment@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::Resize3DEnvironment, COMDAT
; _this$ = ecx

; 1104 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd f8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-264]
  00013	b9 42 00 00 00	 mov	 ecx, 66			; 00000042H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1105 :     HRESULT hr;
; 1106 : 
; 1107 :     // Release all vidmem objects
; 1108 :     if( FAILED( hr = InvalidateDeviceObjects() ) )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 10		 mov	 edx, DWORD PTR [eax]
  00028	8b f4		 mov	 esi, esp
  0002a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	ff 52 1c	 call	 DWORD PTR [edx+28]
  00030	3b f4		 cmp	 esi, esp
  00032	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00037	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0003a	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0003e	7d 08		 jge	 SHORT $L85993

; 1109 :         return hr;

  00040	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00043	e9 b2 01 00 00	 jmp	 $L85990
$L85993:

; 1110 : 
; 1111 :     // Reset the device
; 1112 :     if( FAILED( hr = m_pd3dDevice->Reset( &m_d3dpp ) ) )

  00048	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004b	05 64 a4 02 00	 add	 eax, 173156		; 0002a464H
  00050	8b f4		 mov	 esi, esp
  00052	50		 push	 eax
  00053	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00056	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  0005c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005f	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00065	8b 12		 mov	 edx, DWORD PTR [edx]
  00067	51		 push	 ecx
  00068	ff 52 38	 call	 DWORD PTR [edx+56]
  0006b	3b f4		 cmp	 esi, esp
  0006d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00072	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00075	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00079	7d 08		 jge	 SHORT $L85995

; 1113 :         return hr;

  0007b	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  0007e	e9 77 01 00 00	 jmp	 $L85990
$L85995:

; 1114 : 
; 1115 :     // Store render target surface desc
; 1116 :     LPDIRECT3DSURFACE8 pBackBuffer;
; 1117 :     m_pd3dDevice->GetBackBuffer( 0, D3DBACKBUFFER_TYPE_MONO, &pBackBuffer );

  00083	8b f4		 mov	 esi, esp
  00085	8d 45 e0	 lea	 eax, DWORD PTR _pBackBuffer$[ebp]
  00088	50		 push	 eax
  00089	6a 00		 push	 0
  0008b	6a 00		 push	 0
  0008d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00090	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  00096	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00099	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0009f	8b 12		 mov	 edx, DWORD PTR [edx]
  000a1	51		 push	 ecx
  000a2	ff 52 40	 call	 DWORD PTR [edx+64]
  000a5	3b f4		 cmp	 esi, esp
  000a7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1118 :     pBackBuffer->GetDesc( &m_d3dsdBackBuffer );

  000ac	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000af	05 80 a5 02 00	 add	 eax, 173440		; 0002a580H
  000b4	8b f4		 mov	 esi, esp
  000b6	50		 push	 eax
  000b7	8b 4d e0	 mov	 ecx, DWORD PTR _pBackBuffer$[ebp]
  000ba	8b 11		 mov	 edx, DWORD PTR [ecx]
  000bc	8b 45 e0	 mov	 eax, DWORD PTR _pBackBuffer$[ebp]
  000bf	50		 push	 eax
  000c0	ff 52 20	 call	 DWORD PTR [edx+32]
  000c3	3b f4		 cmp	 esi, esp
  000c5	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1119 :     pBackBuffer->Release();

  000ca	8b 45 e0	 mov	 eax, DWORD PTR _pBackBuffer$[ebp]
  000cd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cf	8b f4		 mov	 esi, esp
  000d1	8b 55 e0	 mov	 edx, DWORD PTR _pBackBuffer$[ebp]
  000d4	52		 push	 edx
  000d5	ff 51 08	 call	 DWORD PTR [ecx+8]
  000d8	3b f4		 cmp	 esi, esp
  000da	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1120 : 
; 1121 :     // Set up the fullscreen cursor
; 1122 :     if( m_bShowCursorWhenFullscreen && !m_bWindowed )

  000df	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e2	83 b8 9c a6 02
	00 00		 cmp	 DWORD PTR [eax+173724], 0
  000e9	74 65		 je	 SHORT $L85997
  000eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ee	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  000f5	75 59		 jne	 SHORT $L85997

; 1123 :     {
; 1124 :         HCURSOR hCursor;
; 1125 : #ifdef _WIN64
; 1126 :         hCursor = (HCURSOR)GetClassLongPtr( m_hWnd, GCLP_HCURSOR );
; 1127 : #else
; 1128 :         hCursor = (HCURSOR)GetClassLong( m_hWnd, GCL_HCURSOR );

  000f7	8b f4		 mov	 esi, esp
  000f9	6a f4		 push	 -12			; fffffff4H
  000fb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fe	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00104	51		 push	 ecx
  00105	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClassLongA@8
  0010b	3b f4		 cmp	 esi, esp
  0010d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00112	89 45 d4	 mov	 DWORD PTR _hCursor$85998[ebp], eax

; 1129 : #endif
; 1130 :         D3DUtil_SetDeviceCursor( m_pd3dDevice, hCursor, TRUE );

  00115	6a 01		 push	 1
  00117	8b 45 d4	 mov	 eax, DWORD PTR _hCursor$85998[ebp]
  0011a	50		 push	 eax
  0011b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011e	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  00124	52		 push	 edx
  00125	e8 00 00 00 00	 call	 ?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z ; D3DUtil_SetDeviceCursor
  0012a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1131 :         m_pd3dDevice->ShowCursor( TRUE );

  0012d	8b f4		 mov	 esi, esp
  0012f	6a 01		 push	 1
  00131	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00134	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0013a	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0013d	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00143	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00145	50		 push	 eax
  00146	ff 51 30	 call	 DWORD PTR [ecx+48]
  00149	3b f4		 cmp	 esi, esp
  0014b	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L85997:

; 1132 :     }
; 1133 : 
; 1134 :     // Confine cursor to fullscreen window
; 1135 :     if( m_bClipCursorWhenFullscreen )

  00150	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00153	83 b8 a0 a6 02
	00 00		 cmp	 DWORD PTR [eax+173728], 0
  0015a	74 4f		 je	 SHORT $L86000

; 1136 :     {
; 1137 :         if (!m_bWindowed )

  0015c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0015f	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00166	75 32		 jne	 SHORT $L86001

; 1138 :         {
; 1139 :             RECT rcWindow;
; 1140 :             GetWindowRect( m_hWnd, &rcWindow );

  00168	8b f4		 mov	 esi, esp
  0016a	8d 45 bc	 lea	 eax, DWORD PTR _rcWindow$86002[ebp]
  0016d	50		 push	 eax
  0016e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00171	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00177	52		 push	 edx
  00178	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  0017e	3b f4		 cmp	 esi, esp
  00180	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1141 :             ClipCursor( &rcWindow );

  00185	8b f4		 mov	 esi, esp
  00187	8d 45 bc	 lea	 eax, DWORD PTR _rcWindow$86002[ebp]
  0018a	50		 push	 eax
  0018b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  00191	3b f4		 cmp	 esi, esp
  00193	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1142 :         }
; 1143 :         else

  00198	eb 11		 jmp	 SHORT $L86000
$L86001:

; 1144 :         {
; 1145 :             ClipCursor( NULL );

  0019a	8b f4		 mov	 esi, esp
  0019c	6a 00		 push	 0
  0019e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  001a4	3b f4		 cmp	 esi, esp
  001a6	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86000:

; 1146 :         }
; 1147 :     }
; 1148 : 
; 1149 :     // Initialize the app's device-dependent objects
; 1150 :     hr = RestoreDeviceObjects();

  001ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ae	8b 10		 mov	 edx, DWORD PTR [eax]
  001b0	8b f4		 mov	 esi, esp
  001b2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001b5	ff 52 10	 call	 DWORD PTR [edx+16]
  001b8	3b f4		 cmp	 esi, esp
  001ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001bf	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 1151 :     if( FAILED(hr) )

  001c2	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001c6	7d 05		 jge	 SHORT $L86005

; 1152 :         return hr;

  001c8	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  001cb	eb 2d		 jmp	 SHORT $L85990
$L86005:

; 1153 : 
; 1154 :     // If the app is paused, trigger the rendering of the current frame
; 1155 :     if( FALSE == m_bFrameMoving )

  001cd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d0	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  001d7	75 1f		 jne	 SHORT $L86006

; 1156 :     {
; 1157 :         m_bSingleStep = TRUE;

  001d9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001dc	c7 80 60 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173152], 1

; 1158 :         DXUtil_Timer( TIMER_START );

  001e6	6a 01		 push	 1
  001e8	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  001ed	dd d8		 fstp	 ST(0)

; 1159 :         DXUtil_Timer( TIMER_STOP );

  001ef	6a 02		 push	 2
  001f1	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  001f6	dd d8		 fstp	 ST(0)
$L86006:

; 1160 :     }
; 1161 : 
; 1162 :     return S_OK;

  001f8	33 c0		 xor	 eax, eax
$L85990:

; 1163 : }

  001fa	52		 push	 edx
  001fb	8b cd		 mov	 ecx, ebp
  001fd	50		 push	 eax
  001fe	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86740
  00204	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00209	58		 pop	 eax
  0020a	5a		 pop	 edx
  0020b	5f		 pop	 edi
  0020c	5e		 pop	 esi
  0020d	5b		 pop	 ebx
  0020e	81 c4 08 01 00
	00		 add	 esp, 264		; 00000108H
  00214	3b ec		 cmp	 ebp, esp
  00216	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0021b	8b e5		 mov	 esp, ebp
  0021d	5d		 pop	 ebp
  0021e	c3		 ret	 0
$L86740:
  0021f	02 00 00 00	 DD	 2
  00223	00 00 00 00	 DD	 $L86739
$L86739:
  00227	e0 ff ff ff	 DD	 -32			; ffffffe0H
  0022b	04 00 00 00	 DD	 4
  0022f	00 00 00 00	 DD	 $L86737
  00233	bc ff ff ff	 DD	 -68			; ffffffbcH
  00237	10 00 00 00	 DD	 16			; 00000010H
  0023b	00 00 00 00	 DD	 $L86738
$L86738:
  0023f	72		 DB	 114			; 00000072H
  00240	63		 DB	 99			; 00000063H
  00241	57		 DB	 87			; 00000057H
  00242	69		 DB	 105			; 00000069H
  00243	6e		 DB	 110			; 0000006eH
  00244	64		 DB	 100			; 00000064H
  00245	6f		 DB	 111			; 0000006fH
  00246	77		 DB	 119			; 00000077H
  00247	00		 DB	 0
$L86737:
  00248	70		 DB	 112			; 00000070H
  00249	42		 DB	 66			; 00000042H
  0024a	61		 DB	 97			; 00000061H
  0024b	63		 DB	 99			; 00000063H
  0024c	6b		 DB	 107			; 0000006bH
  0024d	42		 DB	 66			; 00000042H
  0024e	75		 DB	 117			; 00000075H
  0024f	66		 DB	 102			; 00000066H
  00250	66		 DB	 102			; 00000066H
  00251	65		 DB	 101			; 00000065H
  00252	72		 DB	 114			; 00000072H
  00253	00		 DB	 0
?Resize3DEnvironment@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::Resize3DEnvironment
_TEXT	ENDS
PUBLIC	?ForceWindowed@CD3DApplication@@IAEJXZ		; CD3DApplication::ForceWindowed
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?ToggleFullscreen@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_m$86014 = -56
_pModeInfo$ = -44
_pDeviceInfo$ = -32
_pAdapterInfo$ = -20
_this$ = -8
?ToggleFullscreen@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::ToggleFullscreen, COMDAT
; _this$ = ecx

; 1173 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00013	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1174 :     // Get access to current adapter, device, and mode
; 1175 :     D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0002c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00039	89 45 ec	 mov	 DWORD PTR _pAdapterInfo$[ebp], eax

; 1176 :     D3DDeviceInfo*  pDeviceInfo  = &pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice];

  0003c	8b 45 ec	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  0003f	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00045	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  0004b	8b 55 ec	 mov	 edx, DWORD PTR _pAdapterInfo$[ebp]
  0004e	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  00055	89 45 e0	 mov	 DWORD PTR _pDeviceInfo$[ebp], eax

; 1177 : 	D3DModeInfo*    pModeInfo	 = &pDeviceInfo->modes[pDeviceInfo->dwCurrentMode];

  00058	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0005b	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  00061	6b c9 14	 imul	 ecx, 20			; 00000014H
  00064	8b 55 e0	 mov	 edx, DWORD PTR _pDeviceInfo$[ebp]
  00067	8d 84 0a e4 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+228]
  0006e	89 45 d4	 mov	 DWORD PTR _pModeInfo$[ebp], eax

; 1178 : 
; 1179 : 	// DM
; 1180 : 	for( DWORD m = 0 ; m < pDeviceInfo->dwNumModes ; m++ )

  00071	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _m$86014[ebp], 0
  00078	eb 09		 jmp	 SHORT $L86015
$L86016:
  0007a	8b 45 c8	 mov	 eax, DWORD PTR _m$86014[ebp]
  0007d	83 c0 01	 add	 eax, 1
  00080	89 45 c8	 mov	 DWORD PTR _m$86014[ebp], eax
$L86015:
  00083	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00086	8b 4d c8	 mov	 ecx, DWORD PTR _m$86014[ebp]
  00089	3b 88 e0 00 00
	00		 cmp	 ecx, DWORD PTR [eax+224]
  0008f	73 76		 jae	 SHORT $L86017

; 1181 : 	{
; 1182 : 		if( pDeviceInfo->modes[m].Width == m_nFullScreenWidth &&
; 1183 : 			pDeviceInfo->modes[m].Height == m_nFullScreenHeight &&
; 1184 : 			(pDeviceInfo->modes[m].Format == D3DFMT_A8R8G8B8 || 
; 1185 : 			 pDeviceInfo->modes[m].Format == D3DFMT_X8R8G8B8) )

  00091	8b 45 c8	 mov	 eax, DWORD PTR _m$86014[ebp]
  00094	6b c0 14	 imul	 eax, 20			; 00000014H
  00097	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  0009a	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0009d	8b 84 01 e4 00
	00 00		 mov	 eax, DWORD PTR [ecx+eax+228]
  000a4	3b 82 ac a6 02
	00		 cmp	 eax, DWORD PTR [edx+173740]
  000aa	75 56		 jne	 SHORT $L86018
  000ac	8b 45 c8	 mov	 eax, DWORD PTR _m$86014[ebp]
  000af	6b c0 14	 imul	 eax, 20			; 00000014H
  000b2	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000b5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b8	8b 84 01 e8 00
	00 00		 mov	 eax, DWORD PTR [ecx+eax+232]
  000bf	3b 82 b0 a6 02
	00		 cmp	 eax, DWORD PTR [edx+173744]
  000c5	75 3b		 jne	 SHORT $L86018
  000c7	8b 45 c8	 mov	 eax, DWORD PTR _m$86014[ebp]
  000ca	6b c0 14	 imul	 eax, 20			; 00000014H
  000cd	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000d0	83 bc 01 ec 00
	00 00 15	 cmp	 DWORD PTR [ecx+eax+236], 21 ; 00000015H
  000d8	74 13		 je	 SHORT $L86019
  000da	8b 45 c8	 mov	 eax, DWORD PTR _m$86014[ebp]
  000dd	6b c0 14	 imul	 eax, 20			; 00000014H
  000e0	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000e3	83 bc 01 ec 00
	00 00 16	 cmp	 DWORD PTR [ecx+eax+236], 22 ; 00000016H
  000eb	75 15		 jne	 SHORT $L86018
$L86019:

; 1186 : 		{
; 1187 : 	        pModeInfo = &pDeviceInfo->modes[m];

  000ed	8b 45 c8	 mov	 eax, DWORD PTR _m$86014[ebp]
  000f0	6b c0 14	 imul	 eax, 20			; 00000014H
  000f3	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000f6	8d 94 01 e4 00
	00 00		 lea	 edx, DWORD PTR [ecx+eax+228]
  000fd	89 55 d4	 mov	 DWORD PTR _pModeInfo$[ebp], edx

; 1188 : 			break ;

  00100	eb 05		 jmp	 SHORT $L86017
$L86018:

; 1189 : 		}
; 1190 : 	}

  00102	e9 73 ff ff ff	 jmp	 $L86016
$L86017:

; 1191 : 
; 1192 :     // Need device change if going windowed and the current device
; 1193 :     // can only be fullscreen
; 1194 :     if( !m_bWindowed && !pDeviceInfo->bCanDoWindowed )

  00107	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010a	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00111	75 19		 jne	 SHORT $L86020
  00113	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00116	83 b8 dc 00 00
	00 00		 cmp	 DWORD PTR [eax+220], 0
  0011d	75 0d		 jne	 SHORT $L86020

; 1195 :         return ForceWindowed();

  0011f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00122	e8 00 00 00 00	 call	 ?ForceWindowed@CD3DApplication@@IAEJXZ ; CD3DApplication::ForceWindowed
  00127	e9 12 02 00 00	 jmp	 $L86010
$L86020:

; 1196 : 
; 1197 :     m_bReady = FALSE;

  0012c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0012f	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 1198 : 
; 1199 :     // Toggle the windowed state
; 1200 :     m_bWindowed = !m_bWindowed;

  00139	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0013c	33 c9		 xor	 ecx, ecx
  0013e	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00145	0f 94 c1	 sete	 cl
  00148	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0014b	89 8a 4c a4 02
	00		 mov	 DWORD PTR [edx+173132], ecx

; 1201 :     pDeviceInfo->bWindowed = m_bWindowed;

  00151	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00154	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00157	8b 91 4c a4 02
	00		 mov	 edx, DWORD PTR [ecx+173132]
  0015d	89 90 a0 0c 00
	00		 mov	 DWORD PTR [eax+3232], edx

; 1202 : 
; 1203 :     // Prepare window for windowed/fullscreen change
; 1204 :     AdjustWindowForChange();

  00163	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00166	8b 10		 mov	 edx, DWORD PTR [eax]
  00168	8b f4		 mov	 esi, esp
  0016a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0016d	ff 12		 call	 DWORD PTR [edx]
  0016f	3b f4		 cmp	 esi, esp
  00171	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1205 : 
; 1206 :     // Set up the presentation parameters
; 1207 :     m_d3dpp.Windowed               = pDeviceInfo->bWindowed;

  00176	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00179	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  0017c	8b 91 a0 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3232]
  00182	89 90 80 a4 02
	00		 mov	 DWORD PTR [eax+173184], edx

; 1208 :     if( m_bWindowed )

  00188	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018b	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00192	74 14		 je	 SHORT $L86021

; 1209 :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeWindowed;

  00194	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00197	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  0019a	8b 91 a4 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3236]
  001a0	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx

; 1210 :     else

  001a6	eb 12		 jmp	 SHORT $L86022
$L86021:

; 1211 :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeFullscreen;

  001a8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ab	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  001ae	8b 91 a8 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3240]
  001b4	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx
$L86022:

; 1212 : 
; 1213 : 	// DM
; 1214 : 	if( m_nFSAA != 0 )

  001ba	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001bd	83 b8 a8 a6 02
	00 00		 cmp	 DWORD PTR [eax+173736], 0
  001c4	74 12		 je	 SHORT $L86023

; 1215 : 		m_d3dpp.MultiSampleType	   = (D3DMULTISAMPLE_TYPE)m_nFSAA ;

  001c6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001c9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001cc	8b 91 a8 a6 02
	00		 mov	 edx, DWORD PTR [ecx+173736]
  001d2	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx
$L86023:

; 1216 : 
; 1217 :     m_d3dpp.AutoDepthStencilFormat = pModeInfo->DepthStencilFormat;

  001d8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001db	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001de	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  001e1	89 90 88 a4 02
	00		 mov	 DWORD PTR [eax+173192], edx

; 1218 :     m_d3dpp.hDeviceWindow          = m_hWnd;

  001e7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001ed	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  001f3	89 90 7c a4 02
	00		 mov	 DWORD PTR [eax+173180], edx

; 1219 :     if( m_bWindowed )

  001f9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001fc	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00203	74 4a		 je	 SHORT $L86025

; 1220 :     {
; 1221 :         m_d3dpp.BackBufferWidth  = m_rcWindowClient.right - m_rcWindowClient.left;

  00205	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00208	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0020b	8b 90 c0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173504]
  00211	2b 91 b8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173496]
  00217	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0021a	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 1222 :         m_d3dpp.BackBufferHeight = m_rcWindowClient.bottom - m_rcWindowClient.top;

  00220	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00223	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00226	8b 90 c4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173508]
  0022c	2b 91 bc a5 02
	00		 sub	 edx, DWORD PTR [ecx+173500]
  00232	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00235	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 1223 :         m_d3dpp.BackBufferFormat = pAdapterInfo->d3ddmDesktop.Format;

  0023b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0023e	8b 4d ec	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  00241	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00247	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx

; 1224 :     }
; 1225 :     else

  0024d	eb 54		 jmp	 SHORT $L86026
$L86025:

; 1226 :     {
; 1227 :         m_d3dpp.BackBufferWidth  = pModeInfo->Width;

  0024f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00252	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  00255	8b 11		 mov	 edx, DWORD PTR [ecx]
  00257	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 1228 :         m_d3dpp.BackBufferHeight = pModeInfo->Height;

  0025d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00260	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  00263	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00266	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 1229 :         m_d3dpp.BackBufferFormat = pModeInfo->Format;

  0026c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0026f	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  00272	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00275	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx

; 1230 : 
; 1231 : 		// DM
; 1232 : 		if( m_bVSync )

  0027b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0027e	83 b8 a4 a6 02
	00 00		 cmp	 DWORD PTR [eax+173732], 0
  00285	74 0f		 je	 SHORT $L86027

; 1233 : 			m_d3dpp.FullScreen_PresentationInterval = D3DPRESENT_INTERVAL_DEFAULT ;

  00287	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0028a	c7 80 94 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173204], 0

; 1234 : 		else

  00294	eb 0d		 jmp	 SHORT $L86026
$L86027:

; 1235 : 			m_d3dpp.FullScreen_PresentationInterval = D3DPRESENT_INTERVAL_IMMEDIATE ;

  00296	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00299	c7 80 94 a4 02
	00 00 00 00 80	 mov	 DWORD PTR [eax+173204], -2147483648 ; 80000000H
$L86026:

; 1236 :     }
; 1237 : 
; 1238 :     // Resize the 3D device
; 1239 :     if( FAILED( Resize3DEnvironment() ) )

  002a3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002a6	e8 00 00 00 00	 call	 ?Resize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Resize3DEnvironment
  002ab	85 c0		 test	 eax, eax
  002ad	7d 1d		 jge	 SHORT $L86030

; 1240 :     {
; 1241 :         if( m_bWindowed )

  002af	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002b2	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  002b9	74 0a		 je	 SHORT $L86031

; 1242 :             return ForceWindowed();

  002bb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002be	e8 00 00 00 00	 call	 ?ForceWindowed@CD3DApplication@@IAEJXZ ; CD3DApplication::ForceWindowed
  002c3	eb 79		 jmp	 SHORT $L86010
$L86031:

; 1243 :         else
; 1244 :             return E_FAIL;

  002c5	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  002ca	eb 72		 jmp	 SHORT $L86010
$L86030:

; 1245 :     }
; 1246 : 
; 1247 :     // When moving from fullscreen to windowed mode, it is important to
; 1248 :     // adjust the window size after resetting the device rather than
; 1249 :     // beforehand to ensure that you get the window size you want.  For
; 1250 :     // example, when switching from 640x480 fullscreen to windowed with
; 1251 :     // a 1000x600 window on a 1024x768 desktop, it is impossible to set
; 1252 :     // the window size to 1000x600 until after the display mode has
; 1253 :     // changed to 1024x768, because windows cannot be larger than the
; 1254 :     // desktop.
; 1255 :     if( m_bWindowed )

  002cc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002cf	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  002d6	74 57		 je	 SHORT $L86034

; 1256 :     {
; 1257 :         SetWindowPos( m_hWnd, HWND_NOTOPMOST,
; 1258 :                       m_rcWindowBounds.left, m_rcWindowBounds.top,
; 1259 :                       ( m_rcWindowBounds.right - m_rcWindowBounds.left ),
; 1260 :                       ( m_rcWindowBounds.bottom - m_rcWindowBounds.top ),
; 1261 :                       SWP_SHOWWINDOW );

  002d8	8b f4		 mov	 esi, esp
  002da	6a 40		 push	 64			; 00000040H
  002dc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002df	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002e2	8b 90 b4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173492]
  002e8	2b 91 ac a5 02
	00		 sub	 edx, DWORD PTR [ecx+173484]
  002ee	52		 push	 edx
  002ef	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002f2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002f5	8b 90 b0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173488]
  002fb	2b 91 a8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173480]
  00301	52		 push	 edx
  00302	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00305	8b 88 ac a5 02
	00		 mov	 ecx, DWORD PTR [eax+173484]
  0030b	51		 push	 ecx
  0030c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0030f	8b 82 a8 a5 02
	00		 mov	 eax, DWORD PTR [edx+173480]
  00315	50		 push	 eax
  00316	6a fe		 push	 -2			; fffffffeH
  00318	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0031b	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00321	52		 push	 edx
  00322	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28
  00328	3b f4		 cmp	 esi, esp
  0032a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86034:

; 1262 :     }
; 1263 : 
; 1264 :     m_bReady = TRUE;

  0032f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00332	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1

; 1265 : 
; 1266 :     return S_OK;

  0033c	33 c0		 xor	 eax, eax
$L86010:

; 1267 : }

  0033e	5f		 pop	 edi
  0033f	5e		 pop	 esi
  00340	5b		 pop	 ebx
  00341	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  00347	3b ec		 cmp	 ebp, esp
  00349	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0034e	8b e5		 mov	 esp, ebp
  00350	5d		 pop	 ebp
  00351	c3		 ret	 0
?ToggleFullscreen@CD3DApplication@@IAEJXZ ENDP		; CD3DApplication::ToggleFullscreen
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?ForceWindowed@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_dwDevice$86049 = -104
_pDeviceInfo$86048 = -92
_dwAdapter$86047 = -80
_pAdapterInfo$86046 = -68
_bFoundDevice$ = -56
_pDeviceInfoCur$ = -44
_pAdapterInfoCur$ = -32
_hr$ = -20
_this$ = -8
?ForceWindowed@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::ForceWindowed, COMDAT
; _this$ = ecx

; 1278 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd d4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-300]
  00013	b9 4b 00 00 00	 mov	 ecx, 75			; 0000004bH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1279 :     HRESULT hr;
; 1280 :     D3DAdapterInfo* pAdapterInfoCur = &m_Adapters[m_dwAdapter];

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0002c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00039	89 45 e0	 mov	 DWORD PTR _pAdapterInfoCur$[ebp], eax

; 1281 :     D3DDeviceInfo*  pDeviceInfoCur  = &pAdapterInfoCur->devices[pAdapterInfoCur->dwCurrentDevice];

  0003c	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfoCur$[ebp]
  0003f	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00045	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  0004b	8b 55 e0	 mov	 edx, DWORD PTR _pAdapterInfoCur$[ebp]
  0004e	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  00055	89 45 d4	 mov	 DWORD PTR _pDeviceInfoCur$[ebp], eax

; 1282 :     BOOL bFoundDevice = FALSE;

  00058	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _bFoundDevice$[ebp], 0

; 1283 : 
; 1284 :     if( pDeviceInfoCur->bCanDoWindowed )

  0005f	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfoCur$[ebp]
  00062	83 b8 dc 00 00
	00 00		 cmp	 DWORD PTR [eax+220], 0
  00069	74 0c		 je	 SHORT $L86044

; 1285 :     {
; 1286 :         bFoundDevice = TRUE;

  0006b	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _bFoundDevice$[ebp], 1

; 1287 :     }
; 1288 :     else

  00072	e9 af 00 00 00	 jmp	 $L86045
$L86044:

; 1289 :     {
; 1290 :         // Look for a windowable device on any adapter
; 1291 :         D3DAdapterInfo* pAdapterInfo;
; 1292 :         DWORD dwAdapter;
; 1293 :         D3DDeviceInfo* pDeviceInfo;
; 1294 :         DWORD dwDevice;
; 1295 :         for( dwAdapter = 0; dwAdapter < m_dwNumAdapters; dwAdapter++ )

  00077	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _dwAdapter$86047[ebp], 0
  0007e	eb 09		 jmp	 SHORT $L86050
$L86051:
  00080	8b 45 b0	 mov	 eax, DWORD PTR _dwAdapter$86047[ebp]
  00083	83 c0 01	 add	 eax, 1
  00086	89 45 b0	 mov	 DWORD PTR _dwAdapter$86047[ebp], eax
$L86050:
  00089	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008c	8b 4d b0	 mov	 ecx, DWORD PTR _dwAdapter$86047[ebp]
  0008f	3b 88 44 a4 02
	00		 cmp	 ecx, DWORD PTR [eax+173124]
  00095	0f 83 8b 00 00
	00		 jae	 $L86045

; 1296 :         {
; 1297 :             pAdapterInfo = &m_Adapters[dwAdapter];

  0009b	8b 45 b0	 mov	 eax, DWORD PTR _dwAdapter$86047[ebp]
  0009e	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  000a4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000a7	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  000ab	89 55 bc	 mov	 DWORD PTR _pAdapterInfo$86046[ebp], edx

; 1298 :             for( dwDevice = 0; dwDevice < pAdapterInfo->dwNumDevices; dwDevice++ )

  000ae	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _dwDevice$86049[ebp], 0
  000b5	eb 09		 jmp	 SHORT $L86053
$L86054:
  000b7	8b 45 98	 mov	 eax, DWORD PTR _dwDevice$86049[ebp]
  000ba	83 c0 01	 add	 eax, 1
  000bd	89 45 98	 mov	 DWORD PTR _dwDevice$86049[ebp], eax
$L86053:
  000c0	8b 45 bc	 mov	 eax, DWORD PTR _pAdapterInfo$86046[ebp]
  000c3	8b 4d 98	 mov	 ecx, DWORD PTR _dwDevice$86049[ebp]
  000c6	3b 88 3c 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1084]
  000cc	73 4b		 jae	 SHORT $L86055

; 1299 :             {
; 1300 :                 pDeviceInfo = &pAdapterInfo->devices[dwDevice];

  000ce	8b 45 98	 mov	 eax, DWORD PTR _dwDevice$86049[ebp]
  000d1	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  000d7	8b 4d bc	 mov	 ecx, DWORD PTR _pAdapterInfo$86046[ebp]
  000da	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  000e1	89 55 a4	 mov	 DWORD PTR _pDeviceInfo$86048[ebp], edx

; 1301 :                 if( pDeviceInfo->bCanDoWindowed )

  000e4	8b 45 a4	 mov	 eax, DWORD PTR _pDeviceInfo$86048[ebp]
  000e7	83 b8 dc 00 00
	00 00		 cmp	 DWORD PTR [eax+220], 0
  000ee	74 27		 je	 SHORT $L86056

; 1302 :                 {
; 1303 :                     m_dwAdapter = dwAdapter;

  000f0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f3	8b 4d b0	 mov	 ecx, DWORD PTR _dwAdapter$86047[ebp]
  000f6	89 88 48 a4 02
	00		 mov	 DWORD PTR [eax+173128], ecx

; 1304 :                     pDeviceInfoCur = pDeviceInfo;

  000fc	8b 45 a4	 mov	 eax, DWORD PTR _pDeviceInfo$86048[ebp]
  000ff	89 45 d4	 mov	 DWORD PTR _pDeviceInfoCur$[ebp], eax

; 1305 :                     pAdapterInfo->dwCurrentDevice = dwDevice;

  00102	8b 45 bc	 mov	 eax, DWORD PTR _pAdapterInfo$86046[ebp]
  00105	8b 4d 98	 mov	 ecx, DWORD PTR _dwDevice$86049[ebp]
  00108	89 88 9c 43 00
	00		 mov	 DWORD PTR [eax+17308], ecx

; 1306 :                     bFoundDevice = TRUE;

  0010e	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _bFoundDevice$[ebp], 1

; 1307 :                     break;

  00115	eb 02		 jmp	 SHORT $L86055
$L86056:

; 1308 :                 }
; 1309 :             }

  00117	eb 9e		 jmp	 SHORT $L86054
$L86055:

; 1310 :             if( bFoundDevice )

  00119	83 7d c8 00	 cmp	 DWORD PTR _bFoundDevice$[ebp], 0
  0011d	74 02		 je	 SHORT $L86057

; 1311 :                 break;

  0011f	eb 05		 jmp	 SHORT $L86045
$L86057:

; 1312 :         }

  00121	e9 5a ff ff ff	 jmp	 $L86051
$L86045:

; 1313 :     }
; 1314 : 
; 1315 :     if( !bFoundDevice )

  00126	83 7d c8 00	 cmp	 DWORD PTR _bFoundDevice$[ebp], 0
  0012a	75 0a		 jne	 SHORT $L86058

; 1316 :         return E_FAIL;

  0012c	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  00131	e9 b5 00 00 00	 jmp	 $L86039
$L86058:

; 1317 : 
; 1318 :     pDeviceInfoCur->bWindowed = TRUE;

  00136	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfoCur$[ebp]
  00139	c7 80 a0 0c 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3232], 1

; 1319 :     m_bWindowed = TRUE;

  00143	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00146	c7 80 4c a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173132], 1

; 1320 : 
; 1321 :     // Now destroy the current 3D device objects, then reinitialize
; 1322 : 
; 1323 :     m_bReady = FALSE;

  00150	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00153	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 1324 : 
; 1325 :     // Release all scene objects that will be re-created for the new device
; 1326 :     InvalidateDeviceObjects();

  0015d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00160	8b 10		 mov	 edx, DWORD PTR [eax]
  00162	8b f4		 mov	 esi, esp
  00164	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00167	ff 52 1c	 call	 DWORD PTR [edx+28]
  0016a	3b f4		 cmp	 esi, esp
  0016c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1327 :     DeleteDeviceObjects();

  00171	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00174	8b 10		 mov	 edx, DWORD PTR [eax]
  00176	8b f4		 mov	 esi, esp
  00178	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0017b	ff 52 20	 call	 DWORD PTR [edx+32]
  0017e	3b f4		 cmp	 esi, esp
  00180	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1328 : 
; 1329 :     // Release display objects, so a new device can be created
; 1330 :     if( m_pd3dDevice->Release() > 0L )

  00185	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00188	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0018e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00191	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00197	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00199	8b f4		 mov	 esi, esp
  0019b	50		 push	 eax
  0019c	ff 51 08	 call	 DWORD PTR [ecx+8]
  0019f	3b f4		 cmp	 esi, esp
  001a1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a6	85 c0		 test	 eax, eax
  001a8	76 11		 jbe	 SHORT $L86060

; 1331 :         return DisplayErrorMsg( D3DAPPERR_NONZEROREFCOUNT, MSGERR_APPMUSTEXIT );

  001aa	6a 01		 push	 1
  001ac	68 0a 00 00 82	 push	 -2113929206		; 8200000aH
  001b1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001b4	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  001b9	eb 30		 jmp	 SHORT $L86039
$L86060:

; 1332 : 
; 1333 :     // Create the new device
; 1334 :     if( FAILED( hr = Initialize3DEnvironment() ) )

  001bb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001be	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  001c3	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  001c6	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001ca	7d 10		 jge	 SHORT $L86062

; 1335 :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  001cc	6a 01		 push	 1
  001ce	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  001d1	50		 push	 eax
  001d2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d5	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  001da	eb 0f		 jmp	 SHORT $L86039
$L86062:

; 1336 :     m_bReady = TRUE;

  001dc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001df	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1

; 1337 : 
; 1338 :     return S_OK;

  001e9	33 c0		 xor	 eax, eax
$L86039:

; 1339 : }

  001eb	5f		 pop	 edi
  001ec	5e		 pop	 esi
  001ed	5b		 pop	 ebx
  001ee	81 c4 2c 01 00
	00		 add	 esp, 300		; 0000012cH
  001f4	3b ec		 cmp	 ebp, esp
  001f6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001fb	8b e5		 mov	 esp, ebp
  001fd	5d		 pop	 ebp
  001fe	c3		 ret	 0
?ForceWindowed@CD3DApplication@@IAEJXZ ENDP		; CD3DApplication::ForceWindowed
_TEXT	ENDS
EXTRN	__imp__SetMenu@8:NEAR
EXTRN	__imp__SetWindowLongA@12:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?AdjustWindowForChange@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?AdjustWindowForChange@CD3DApplication@@MAEJXZ PROC NEAR ; CD3DApplication::AdjustWindowForChange, COMDAT
; _this$ = ecx

; 1352 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1353 :     if( m_bWindowed )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0002d	74 56		 je	 SHORT $L86067

; 1354 :     {
; 1355 :         // Set windowed-mode style
; 1356 :         SetWindowLong( m_hWnd, GWL_STYLE, m_dwWindowStyle );

  0002f	8b f4		 mov	 esi, esp
  00031	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00034	8b 88 a4 a5 02
	00		 mov	 ecx, DWORD PTR [eax+173476]
  0003a	51		 push	 ecx
  0003b	6a f0		 push	 -16			; fffffff0H
  0003d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00040	8b 82 98 a4 02
	00		 mov	 eax, DWORD PTR [edx+173208]
  00046	50		 push	 eax
  00047	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowLongA@12
  0004d	3b f4		 cmp	 esi, esp
  0004f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1357 :         if( m_hMenu != NULL )

  00054	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00057	83 b8 a0 a4 02
	00 00		 cmp	 DWORD PTR [eax+173216], 0
  0005e	74 23		 je	 SHORT $L86068

; 1358 :             SetMenu( m_hWnd, m_hMenu );

  00060	8b f4		 mov	 esi, esp
  00062	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00065	8b 88 a0 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173216]
  0006b	51		 push	 ecx
  0006c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0006f	8b 82 98 a4 02
	00		 mov	 eax, DWORD PTR [edx+173208]
  00075	50		 push	 eax
  00076	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetMenu@8
  0007c	3b f4		 cmp	 esi, esp
  0007e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86068:

; 1359 :     }
; 1360 :     else

  00083	eb 44		 jmp	 SHORT $L86069
$L86067:

; 1361 :     {
; 1362 :         // Set fullscreen-mode style
; 1363 :         SetWindowLong( m_hWnd, GWL_STYLE, WS_POPUP|WS_SYSMENU|WS_VISIBLE );

  00085	8b f4		 mov	 esi, esp
  00087	68 00 00 08 90	 push	 -1878523904		; 90080000H
  0008c	6a f0		 push	 -16			; fffffff0H
  0008e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00091	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00097	51		 push	 ecx
  00098	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowLongA@12
  0009e	3b f4		 cmp	 esi, esp
  000a0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1364 :         m_hMenu = (HMENU)SetMenu( m_hWnd, NULL );

  000a5	8b f4		 mov	 esi, esp
  000a7	6a 00		 push	 0
  000a9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ac	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  000b2	51		 push	 ecx
  000b3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetMenu@8
  000b9	3b f4		 cmp	 esi, esp
  000bb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c0	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c3	89 82 a0 a4 02
	00		 mov	 DWORD PTR [edx+173216], eax
$L86069:

; 1365 :     }
; 1366 :     return S_OK;

  000c9	33 c0		 xor	 eax, eax

; 1367 : }

  000cb	5f		 pop	 edi
  000cc	5e		 pop	 esi
  000cd	5b		 pop	 ebx
  000ce	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000d4	3b ec		 cmp	 ebp, esp
  000d6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000db	8b e5		 mov	 esp, ebp
  000dd	5d		 pop	 ebp
  000de	c3		 ret	 0
?AdjustWindowForChange@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::AdjustWindowForChange
_TEXT	ENDS
PUBLIC	?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z ; CD3DApplication::SelectDeviceProc
EXTRN	__imp__GetModuleHandleA@4:NEAR
EXTRN	__imp__DialogBoxParamA@20:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?UserSelectNewDevice@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_dwDevice$ = -32
_hr$ = -20
_this$ = -8
?UserSelectNewDevice@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::UserSelectNewDevice, COMDAT
; _this$ = ecx

; 1378 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00013	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1379 :     HRESULT hr;
; 1380 : 
; 1381 :     // Can't display dialogs in fullscreen mode
; 1382 :     if( m_bWindowed == FALSE )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0002d	75 25		 jne	 SHORT $L86076

; 1383 :     {
; 1384 :         if( FAILED( ToggleFullscreen() ) )

  0002f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00032	e8 00 00 00 00	 call	 ?ToggleFullscreen@CD3DApplication@@IAEJXZ ; CD3DApplication::ToggleFullscreen
  00037	85 c0		 test	 eax, eax
  00039	7d 19		 jge	 SHORT $L86076

; 1385 :         {
; 1386 :             DisplayErrorMsg( D3DAPPERR_RESIZEFAILED, MSGERR_APPMUSTEXIT );

  0003b	6a 01		 push	 1
  0003d	68 0c 00 00 82	 push	 -2113929204		; 8200000cH
  00042	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00045	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 1387 :             return E_FAIL;

  0004a	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  0004f	e9 3c 01 00 00	 jmp	 $L86074
$L86076:

; 1388 :         }
; 1389 :     }
; 1390 : 
; 1391 :     // Prompt the user to change the mode
; 1392 :     if( IDOK != DialogBoxParam( (HINSTANCE)GetModuleHandle(NULL),
; 1393 :                                 MAKEINTRESOURCE(IDD_SELECTDEVICE), m_hWnd,
; 1394 :                                 SelectDeviceProc, (LPARAM)this ) )

  00054	8b f4		 mov	 esi, esp
  00056	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00059	50		 push	 eax
  0005a	68 00 00 00 00	 push	 OFFSET FLAT:?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z ; CD3DApplication::SelectDeviceProc
  0005f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00062	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00068	52		 push	 edx
  00069	68 90 00 00 00	 push	 144			; 00000090H
  0006e	8b fc		 mov	 edi, esp
  00070	6a 00		 push	 0
  00072	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetModuleHandleA@4
  00078	3b fc		 cmp	 edi, esp
  0007a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0007f	50		 push	 eax
  00080	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DialogBoxParamA@20
  00086	3b f4		 cmp	 esi, esp
  00088	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008d	83 f8 01	 cmp	 eax, 1
  00090	74 07		 je	 SHORT $L86085

; 1395 :         return S_OK;

  00092	33 c0		 xor	 eax, eax
  00094	e9 f7 00 00 00	 jmp	 $L86074
$L86085:

; 1396 : 
; 1397 :     // Get access to the newly selected adapter, device, and mode
; 1398 :     DWORD dwDevice;
; 1399 :     dwDevice  = m_Adapters[m_dwAdapter].dwCurrentDevice;

  00099	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  000a2	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  000a8	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000ab	8b 84 0a a0 43
	00 00		 mov	 eax, DWORD PTR [edx+ecx+17312]
  000b2	89 45 e0	 mov	 DWORD PTR _dwDevice$[ebp], eax

; 1400 :     m_bWindowed = m_Adapters[m_dwAdapter].devices[dwDevice].bWindowed;

  000b5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b8	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  000be	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  000c4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c7	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  000cb	8b 4d e0	 mov	 ecx, DWORD PTR _dwDevice$[ebp]
  000ce	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  000d4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000d7	8b 84 08 e0 10
	00 00		 mov	 eax, DWORD PTR [eax+ecx+4320]
  000de	89 82 4c a4 02
	00		 mov	 DWORD PTR [edx+173132], eax

; 1401 : 
; 1402 :     // Release all scene objects that will be re-created for the new device
; 1403 :     InvalidateDeviceObjects();

  000e4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e7	8b 10		 mov	 edx, DWORD PTR [eax]
  000e9	8b f4		 mov	 esi, esp
  000eb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000ee	ff 52 1c	 call	 DWORD PTR [edx+28]
  000f1	3b f4		 cmp	 esi, esp
  000f3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1404 :     DeleteDeviceObjects();

  000f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fb	8b 10		 mov	 edx, DWORD PTR [eax]
  000fd	8b f4		 mov	 esi, esp
  000ff	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00102	ff 52 20	 call	 DWORD PTR [edx+32]
  00105	3b f4		 cmp	 esi, esp
  00107	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1405 : 
; 1406 :     // Release display objects, so a new device can be created
; 1407 :     if( m_pd3dDevice->Release() > 0L )

  0010c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010f	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00115	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00118	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  0011e	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00120	8b f4		 mov	 esi, esp
  00122	50		 push	 eax
  00123	ff 51 08	 call	 DWORD PTR [ecx+8]
  00126	3b f4		 cmp	 esi, esp
  00128	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0012d	85 c0		 test	 eax, eax
  0012f	76 11		 jbe	 SHORT $L86088

; 1408 :         return DisplayErrorMsg( D3DAPPERR_NONZEROREFCOUNT, MSGERR_APPMUSTEXIT );

  00131	6a 01		 push	 1
  00133	68 0a 00 00 82	 push	 -2113929206		; 8200000aH
  00138	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0013b	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00140	eb 4e		 jmp	 SHORT $L86074
$L86088:

; 1409 : 
; 1410 :     // Inform the display class of the change. It will internally
; 1411 :     // re-create valid surfaces, a d3ddevice, etc.
; 1412 :     if( FAILED( hr = Initialize3DEnvironment() ) )

  00142	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00145	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  0014a	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0014d	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00151	7d 10		 jge	 SHORT $L86090

; 1413 :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  00153	6a 01		 push	 1
  00155	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00158	50		 push	 eax
  00159	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015c	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00161	eb 2d		 jmp	 SHORT $L86074
$L86090:

; 1414 : 
; 1415 :     // If the app is paused, trigger the rendering of the current frame
; 1416 :     if( FALSE == m_bFrameMoving )

  00163	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00166	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0016d	75 1f		 jne	 SHORT $L86091

; 1417 :     {
; 1418 :         m_bSingleStep = TRUE;

  0016f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00172	c7 80 60 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173152], 1

; 1419 :         DXUtil_Timer( TIMER_START );

  0017c	6a 01		 push	 1
  0017e	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00183	dd d8		 fstp	 ST(0)

; 1420 :         DXUtil_Timer( TIMER_STOP );

  00185	6a 02		 push	 2
  00187	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0018c	dd d8		 fstp	 ST(0)
$L86091:

; 1421 :     }
; 1422 : 
; 1423 :     return S_OK;

  0018e	33 c0		 xor	 eax, eax
$L86074:

; 1424 : }

  00190	5f		 pop	 edi
  00191	5e		 pop	 esi
  00192	5b		 pop	 ebx
  00193	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  00199	3b ec		 cmp	 ebp, esp
  0019b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a0	8b e5		 mov	 esp, ebp
  001a2	5d		 pop	 ebp
  001a3	c3		 ret	 0
?UserSelectNewDevice@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::UserSelectNewDevice
_TEXT	ENDS
PUBLIC	??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@ ; `string'
PUBLIC	??_C@_04CGFJFPFD@none?$AA@			; `string'
PUBLIC	??_C@_0L@EABGANAD@?$CFd?5samples?$AA@		; `string'
EXTRN	_sprintf:NEAR
EXTRN	__imp__EndDialog@8:NEAR
EXTRN	__imp__GetDlgItem@8:NEAR
EXTRN	__imp__wsprintfA:NEAR
EXTRN	___security_cookie:DWORD
EXTRN	@__security_check_cookie@4:NEAR
EXTRN	__imp__EnableWindow@8:NEAR
_BSS	SEGMENT
?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::pd3dApp
?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwOldAdapter
?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwNewAdapter
?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwOldDevice
?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwNewDevice
?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwOldMode
?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwNewMode
?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::bOldWindowed
?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::bNewWindowed
?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::OldMultiSampleTypeWindowed
?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::NewMultiSampleTypeWindowed
?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::OldMultiSampleTypeFullscreen
?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::NewMultiSampleTypeFullscreen
_BSS	ENDS
;	COMDAT ??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@
CONST	SEGMENT
??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@ DB '%ld x %ld x %ld', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_04CGFJFPFD@none?$AA@
CONST	SEGMENT
??_C@_04CGFJFPFD@none?$AA@ DB 'none', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@EABGANAD@?$CFd?5samples?$AA@
CONST	SEGMENT
??_C@_0L@EABGANAD@?$CFd?5samples?$AA@ DB '%d samples', 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_dwItem$86301 = -388
_dwItem$86275 = -376
_fmt$86264 = -364
_strDesc$86263 = -352
_dwItem$86245 = -292
_strMode$86243 = -280
_BitDepth$86240 = -192
_m$86236 = -180
_dwItem$86221 = -168
_d$86217 = -156
_dwItem$86202 = -144
_a$86198 = -132
_dwItem$86174 = -120
_pDevice$ = -108
_pAdapter$ = -96
_bUpdateDlgControls$ = -84
_hwndMultiSampleList$ = -72
_hwndFullscreenRadio$ = -60
_hwndWindowedRadio$ = -48
_hwndFullscreenModeList$ = -36
_hwndDeviceList$ = -24
_hwndAdapterList$ = -12
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_hDlg$ = 8
_msg$ = 12
_wParam$ = 16
_lParam$ = 20
?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z PROC NEAR ; CD3DApplication::SelectDeviceProc, COMDAT

; 1435 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 48 02 00
	00		 sub	 esp, 584		; 00000248H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd b8 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-584]
  00012	b9 92 00 00 00	 mov	 ecx, 146		; 00000092H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00026	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1436 :     // Get access to the UI controls
; 1437 :     HWND hwndAdapterList        = GetDlgItem( hDlg, IDC_ADAPTER_COMBO );

  00029	8b f4		 mov	 esi, esp
  0002b	68 ea 03 00 00	 push	 1002			; 000003eaH
  00030	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00033	50		 push	 eax
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  0003a	3b f4		 cmp	 esi, esp
  0003c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00041	89 45 f4	 mov	 DWORD PTR _hwndAdapterList$[ebp], eax

; 1438 :     HWND hwndDeviceList         = GetDlgItem( hDlg, IDC_DEVICE_COMBO );

  00044	8b f4		 mov	 esi, esp
  00046	68 e8 03 00 00	 push	 1000			; 000003e8H
  0004b	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  0004e	50		 push	 eax
  0004f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  00055	3b f4		 cmp	 esi, esp
  00057	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0005c	89 45 e8	 mov	 DWORD PTR _hwndDeviceList$[ebp], eax

; 1439 :     HWND hwndFullscreenModeList = GetDlgItem( hDlg, IDC_FULLSCREENMODES_COMBO );

  0005f	8b f4		 mov	 esi, esp
  00061	68 eb 03 00 00	 push	 1003			; 000003ebH
  00066	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00069	50		 push	 eax
  0006a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  00070	3b f4		 cmp	 esi, esp
  00072	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00077	89 45 dc	 mov	 DWORD PTR _hwndFullscreenModeList$[ebp], eax

; 1440 :     HWND hwndWindowedRadio      = GetDlgItem( hDlg, IDC_WINDOW );

  0007a	8b f4		 mov	 esi, esp
  0007c	68 f8 03 00 00	 push	 1016			; 000003f8H
  00081	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00084	50		 push	 eax
  00085	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  0008b	3b f4		 cmp	 esi, esp
  0008d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00092	89 45 d0	 mov	 DWORD PTR _hwndWindowedRadio$[ebp], eax

; 1441 :     HWND hwndFullscreenRadio    = GetDlgItem( hDlg, IDC_FULLSCREEN );

  00095	8b f4		 mov	 esi, esp
  00097	68 fa 03 00 00	 push	 1018			; 000003faH
  0009c	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  0009f	50		 push	 eax
  000a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  000a6	3b f4		 cmp	 esi, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	89 45 c4	 mov	 DWORD PTR _hwndFullscreenRadio$[ebp], eax

; 1442 :     HWND hwndMultiSampleList    = GetDlgItem( hDlg, IDC_MULTISAMPLE_COMBO );

  000b0	8b f4		 mov	 esi, esp
  000b2	68 ed 03 00 00	 push	 1005			; 000003edH
  000b7	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  000ba	50		 push	 eax
  000bb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  000c1	3b f4		 cmp	 esi, esp
  000c3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c8	89 45 b8	 mov	 DWORD PTR _hwndMultiSampleList$[ebp], eax

; 1443 :     BOOL bUpdateDlgControls     = FALSE;

  000cb	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _bUpdateDlgControls$[ebp], 0

; 1444 : 
; 1445 :     // Static state for adapter/device/mode selection
; 1446 :     static CD3DApplication* pd3dApp;
; 1447 :     static DWORD  dwOldAdapter, dwNewAdapter;
; 1448 :     static DWORD  dwOldDevice,  dwNewDevice;
; 1449 :     static DWORD  dwOldMode,    dwNewMode;
; 1450 :     static BOOL   bOldWindowed, bNewWindowed;
; 1451 :     static D3DMULTISAMPLE_TYPE OldMultiSampleTypeWindowed, NewMultiSampleTypeWindowed;
; 1452 :     static D3DMULTISAMPLE_TYPE OldMultiSampleTypeFullscreen, NewMultiSampleTypeFullscreen;
; 1453 : 
; 1454 :     // Working variables
; 1455 :     D3DAdapterInfo* pAdapter;
; 1456 :     D3DDeviceInfo*  pDevice;
; 1457 : 
; 1458 :     // Handle the initialization message
; 1459 :     if( WM_INITDIALOG == msg )

  000d2	81 7d 0c 10 01
	00 00		 cmp	 DWORD PTR _msg$[ebp], 272 ; 00000110H
  000d9	0f 85 d7 00 00
	00		 jne	 $L86134

; 1460 :     {
; 1461 :         // Old state
; 1462 :         pd3dApp      = (CD3DApplication*)lParam;

  000df	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  000e2	a3 00 00 00 00	 mov	 DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A, eax

; 1463 :         dwOldAdapter = pd3dApp->m_dwAdapter;

  000e7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  000ec	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  000f2	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1464 :         pAdapter     = &pd3dApp->m_Adapters[dwOldAdapter];

  000f8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  000fd	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00103	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00109	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  0010d	89 55 a0	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1465 : 
; 1466 :         dwOldDevice  = pAdapter->dwCurrentDevice;

  00110	8b 45 a0	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  00113	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00119	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1467 :         pDevice      = &pAdapter->devices[dwOldDevice];

  0011f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00124	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  0012a	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  0012d	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  00134	89 55 94	 mov	 DWORD PTR _pDevice$[ebp], edx

; 1468 : 
; 1469 :         dwOldMode    = pDevice->dwCurrentMode;

  00137	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  0013a	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  00140	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1470 :         bOldWindowed = pDevice->bWindowed;

  00146	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00149	8b 88 a0 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3232]
  0014f	89 0d 00 00 00
	00		 mov	 DWORD PTR ?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, ecx

; 1471 :         OldMultiSampleTypeWindowed = pDevice->MultiSampleTypeWindowed;

  00155	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00158	8b 88 a4 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3236]
  0015e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, ecx

; 1472 :         OldMultiSampleTypeFullscreen = pDevice->MultiSampleTypeFullscreen;

  00164	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00167	8b 88 a8 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3240]
  0016d	89 0d 00 00 00
	00		 mov	 DWORD PTR ?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, ecx

; 1473 : 
; 1474 :         // New state is initially the same as the old state
; 1475 :         dwNewAdapter = dwOldAdapter;

  00173	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00178	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1476 :         dwNewDevice  = dwOldDevice;

  0017d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00182	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1477 :         dwNewMode    = dwOldMode;

  00187	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0018c	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1478 :         bNewWindowed = bOldWindowed;

  00191	a1 00 00 00 00	 mov	 eax, DWORD PTR ?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  00196	a3 00 00 00 00	 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, eax

; 1479 :         NewMultiSampleTypeWindowed = OldMultiSampleTypeWindowed;

  0019b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  001a0	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1480 :         NewMultiSampleTypeFullscreen = OldMultiSampleTypeFullscreen;

  001a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  001aa	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1481 : 
; 1482 :         // Set flag to update dialog controls below
; 1483 :         bUpdateDlgControls = TRUE;

  001af	c7 45 ac 01 00
	00 00		 mov	 DWORD PTR _bUpdateDlgControls$[ebp], 1
$L86134:

; 1484 :     }
; 1485 : 
; 1486 :     if( WM_COMMAND == msg )

  001b6	81 7d 0c 11 01
	00 00		 cmp	 DWORD PTR _msg$[ebp], 273 ; 00000111H
  001bd	0f 85 86 03 00
	00		 jne	 $L86136

; 1487 :     {
; 1488 :         // Get current UI state
; 1489 :         bNewWindowed  = Button_GetCheck( hwndWindowedRadio );

  001c3	8b f4		 mov	 esi, esp
  001c5	6a 00		 push	 0
  001c7	6a 00		 push	 0
  001c9	68 f0 00 00 00	 push	 240			; 000000f0H
  001ce	8b 45 d0	 mov	 eax, DWORD PTR _hwndWindowedRadio$[ebp]
  001d1	50		 push	 eax
  001d2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  001d8	3b f4		 cmp	 esi, esp
  001da	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001df	a3 00 00 00 00	 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, eax

; 1490 : 
; 1491 :         if( IDOK == LOWORD(wParam) )

  001e4	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  001e7	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  001ec	0f b7 c8	 movzx	 ecx, ax
  001ef	83 f9 01	 cmp	 ecx, 1
  001f2	0f 85 2c 01 00
	00		 jne	 $L86141

; 1492 :         {
; 1493 :             // Handle the case when the user hits the OK button. Check if any
; 1494 :             // of the options were changed
; 1495 :             if( dwNewAdapter != dwOldAdapter || dwNewDevice  != dwOldDevice  ||
; 1496 :                 dwNewMode    != dwOldMode    || bNewWindowed != bOldWindowed ||
; 1497 :                 NewMultiSampleTypeWindowed != OldMultiSampleTypeWindowed ||
; 1498 :                 NewMultiSampleTypeFullscreen != OldMultiSampleTypeFullscreen )

  001f8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  001fd	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00203	75 45		 jne	 SHORT $L86143
  00205	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0020a	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00210	75 38		 jne	 SHORT $L86143
  00212	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00217	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0021d	75 2b		 jne	 SHORT $L86143
  0021f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  00224	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  0022a	75 1e		 jne	 SHORT $L86143
  0022c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00231	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00237	75 11		 jne	 SHORT $L86143
  00239	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  0023e	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00244	0f 84 bb 00 00
	00		 je	 $L86142
$L86143:

; 1499 :             {
; 1500 :                 pd3dApp->m_dwAdapter = dwNewAdapter;

  0024a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  0024f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00255	89 88 48 a4 02
	00		 mov	 DWORD PTR [eax+173128], ecx

; 1501 : 
; 1502 :                 pAdapter = &pd3dApp->m_Adapters[dwNewAdapter];

  0025b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00260	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00266	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  0026c	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00270	89 55 a0	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1503 :                 pAdapter->dwCurrentDevice = dwNewDevice;

  00273	8b 45 a0	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  00276	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0027c	89 88 9c 43 00
	00		 mov	 DWORD PTR [eax+17308], ecx

; 1504 : 
; 1505 :                 pAdapter->devices[dwNewDevice].dwCurrentMode = dwNewMode;

  00282	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00287	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  0028d	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  00290	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00296	89 94 01 dc 10
	00 00		 mov	 DWORD PTR [ecx+eax+4316], edx

; 1506 :                 pAdapter->devices[dwNewDevice].bWindowed     = bNewWindowed;

  0029d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  002a2	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  002a8	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  002ab	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  002b1	89 94 01 e0 10
	00 00		 mov	 DWORD PTR [ecx+eax+4320], edx

; 1507 :                 pAdapter->devices[dwNewDevice].MultiSampleTypeWindowed = NewMultiSampleTypeWindowed;

  002b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  002bd	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  002c3	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  002c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  002cc	89 94 01 e4 10
	00 00		 mov	 DWORD PTR [ecx+eax+4324], edx

; 1508 :                 pAdapter->devices[dwNewDevice].MultiSampleTypeFullscreen = NewMultiSampleTypeFullscreen;

  002d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  002d8	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  002de	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  002e1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  002e7	89 94 01 e8 10
	00 00		 mov	 DWORD PTR [ecx+eax+4328], edx

; 1509 : 
; 1510 :                 EndDialog( hDlg, IDOK );

  002ee	8b f4		 mov	 esi, esp
  002f0	6a 01		 push	 1
  002f2	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  002f5	50		 push	 eax
  002f6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8
  002fc	3b f4		 cmp	 esi, esp
  002fe	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1511 :             }
; 1512 :             else

  00303	eb 15		 jmp	 SHORT $L86144
$L86142:

; 1513 :                 EndDialog( hDlg, IDCANCEL );

  00305	8b f4		 mov	 esi, esp
  00307	6a 02		 push	 2
  00309	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  0030c	50		 push	 eax
  0030d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8
  00313	3b f4		 cmp	 esi, esp
  00315	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86144:

; 1514 : 
; 1515 :             return TRUE;

  0031a	b8 01 00 00 00	 mov	 eax, 1
  0031f	e9 f8 08 00 00	 jmp	 $L86098
$L86141:

; 1516 :         }
; 1517 :         else if( IDCANCEL == LOWORD(wParam) )

  00324	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00327	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0032c	0f b7 c8	 movzx	 ecx, ax
  0032f	83 f9 02	 cmp	 ecx, 2
  00332	75 1f		 jne	 SHORT $L86148

; 1518 :         {
; 1519 :             // Handle the case when the user hits the Cancel button
; 1520 :             EndDialog( hDlg, IDCANCEL );

  00334	8b f4		 mov	 esi, esp
  00336	6a 02		 push	 2
  00338	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  0033b	50		 push	 eax
  0033c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8
  00342	3b f4		 cmp	 esi, esp
  00344	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1521 :             return TRUE;

  00349	b8 01 00 00 00	 mov	 eax, 1
  0034e	e9 c9 08 00 00	 jmp	 $L86098
$L86148:

; 1522 :         }
; 1523 :         else if( CBN_SELENDOK == HIWORD(wParam) )

  00353	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00356	c1 e8 10	 shr	 eax, 16			; 00000010H
  00359	0f b7 c8	 movzx	 ecx, ax
  0035c	83 f9 09	 cmp	 ecx, 9
  0035f	0f 85 dd 01 00
	00		 jne	 $L86145

; 1524 :         {
; 1525 :             if( LOWORD(wParam) == IDC_ADAPTER_COMBO )

  00365	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00368	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0036d	0f b7 c8	 movzx	 ecx, ax
  00370	81 f9 ea 03 00
	00		 cmp	 ecx, 1002		; 000003eaH
  00376	0f 85 83 00 00
	00		 jne	 $L86155

; 1526 :             {
; 1527 :                 dwNewAdapter = ComboBox_GetCurSel( hwndAdapterList );

  0037c	8b f4		 mov	 esi, esp
  0037e	6a 00		 push	 0
  00380	6a 00		 push	 0
  00382	68 47 01 00 00	 push	 327			; 00000147H
  00387	8b 45 f4	 mov	 eax, DWORD PTR _hwndAdapterList$[ebp]
  0038a	50		 push	 eax
  0038b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00391	3b f4		 cmp	 esi, esp
  00393	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00398	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1528 :                 pAdapter     = &pd3dApp->m_Adapters[dwNewAdapter];

  0039d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  003a2	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  003a8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  003ae	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  003b2	89 55 a0	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1529 : 
; 1530 :                 dwNewDevice  = pAdapter->dwCurrentDevice;

  003b5	8b 45 a0	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  003b8	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  003be	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1531 :                 dwNewMode    = pAdapter->devices[dwNewDevice].dwCurrentMode;

  003c4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  003c9	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  003cf	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  003d2	8b 94 01 dc 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4316]
  003d9	89 15 00 00 00
	00		 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, edx

; 1532 :                 bNewWindowed = pAdapter->devices[dwNewDevice].bWindowed;

  003df	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  003e4	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  003ea	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  003ed	8b 94 01 e0 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4320]
  003f4	89 15 00 00 00
	00		 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, edx

; 1533 :             }
; 1534 :             else if( LOWORD(wParam) == IDC_DEVICE_COMBO )

  003fa	e9 43 01 00 00	 jmp	 $L86145
$L86155:
  003ff	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00402	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00407	0f b7 c8	 movzx	 ecx, ax
  0040a	81 f9 e8 03 00
	00		 cmp	 ecx, 1000		; 000003e8H
  00410	75 74		 jne	 SHORT $L86161

; 1535 :             {
; 1536 :                 pAdapter     = &pd3dApp->m_Adapters[dwNewAdapter];

  00412	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00417	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  0041d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00423	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00427	89 55 a0	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1537 : 
; 1538 :                 dwNewDevice  = ComboBox_GetCurSel( hwndDeviceList );

  0042a	8b f4		 mov	 esi, esp
  0042c	6a 00		 push	 0
  0042e	6a 00		 push	 0
  00430	68 47 01 00 00	 push	 327			; 00000147H
  00435	8b 45 e8	 mov	 eax, DWORD PTR _hwndDeviceList$[ebp]
  00438	50		 push	 eax
  00439	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0043f	3b f4		 cmp	 esi, esp
  00441	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00446	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1539 :                 dwNewMode    = pAdapter->devices[dwNewDevice].dwCurrentMode;

  0044b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00450	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00456	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  00459	8b 94 01 dc 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4316]
  00460	89 15 00 00 00
	00		 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, edx

; 1540 :                 bNewWindowed = pAdapter->devices[dwNewDevice].bWindowed;

  00466	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0046b	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00471	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  00474	8b 94 01 e0 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4320]
  0047b	89 15 00 00 00
	00		 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, edx

; 1541 :             }
; 1542 :             else if( LOWORD(wParam) == IDC_FULLSCREENMODES_COMBO )

  00481	e9 bc 00 00 00	 jmp	 $L86145
$L86161:
  00486	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00489	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0048e	0f b7 c8	 movzx	 ecx, ax
  00491	81 f9 eb 03 00
	00		 cmp	 ecx, 1003		; 000003ebH
  00497	75 26		 jne	 SHORT $L86167

; 1543 :             {
; 1544 :                 dwNewMode = ComboBox_GetCurSel( hwndFullscreenModeList );

  00499	8b f4		 mov	 esi, esp
  0049b	6a 00		 push	 0
  0049d	6a 00		 push	 0
  0049f	68 47 01 00 00	 push	 327			; 00000147H
  004a4	8b 45 dc	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  004a7	50		 push	 eax
  004a8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  004ae	3b f4		 cmp	 esi, esp
  004b0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004b5	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1545 :             }
; 1546 :             else if( LOWORD(wParam) == IDC_MULTISAMPLE_COMBO )

  004ba	e9 83 00 00 00	 jmp	 $L86145
$L86167:
  004bf	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  004c2	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  004c7	0f b7 c8	 movzx	 ecx, ax
  004ca	81 f9 ed 03 00
	00		 cmp	 ecx, 1005		; 000003edH
  004d0	75 70		 jne	 SHORT $L86145

; 1547 :             {
; 1548 :                 DWORD dwItem = ComboBox_GetCurSel( hwndMultiSampleList );

  004d2	8b f4		 mov	 esi, esp
  004d4	6a 00		 push	 0
  004d6	6a 00		 push	 0
  004d8	68 47 01 00 00	 push	 327			; 00000147H
  004dd	8b 45 b8	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  004e0	50		 push	 eax
  004e1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  004e7	3b f4		 cmp	 esi, esp
  004e9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004ee	89 45 88	 mov	 DWORD PTR _dwItem$86174[ebp], eax

; 1549 :                 if( bNewWindowed )

  004f1	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  004f8	74 25		 je	 SHORT $L86177

; 1550 :                     NewMultiSampleTypeWindowed = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  004fa	8b f4		 mov	 esi, esp
  004fc	6a 00		 push	 0
  004fe	8b 45 88	 mov	 eax, DWORD PTR _dwItem$86174[ebp]
  00501	50		 push	 eax
  00502	68 50 01 00 00	 push	 336			; 00000150H
  00507	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  0050a	51		 push	 ecx
  0050b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00511	3b f4		 cmp	 esi, esp
  00513	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00518	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1551 :                 else

  0051d	eb 23		 jmp	 SHORT $L86145
$L86177:

; 1552 :                     NewMultiSampleTypeFullscreen = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  0051f	8b f4		 mov	 esi, esp
  00521	6a 00		 push	 0
  00523	8b 45 88	 mov	 eax, DWORD PTR _dwItem$86174[ebp]
  00526	50		 push	 eax
  00527	68 50 01 00 00	 push	 336			; 00000150H
  0052c	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  0052f	51		 push	 ecx
  00530	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00536	3b f4		 cmp	 esi, esp
  00538	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0053d	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax
$L86145:

; 1553 :             }
; 1554 :         }
; 1555 :         // Keep the UI current
; 1556 :         bUpdateDlgControls = TRUE;

  00542	c7 45 ac 01 00
	00 00		 mov	 DWORD PTR _bUpdateDlgControls$[ebp], 1
$L86136:

; 1557 :     }
; 1558 : 
; 1559 :     // Update the dialog controls
; 1560 :     if( bUpdateDlgControls )

  00549	83 7d ac 00	 cmp	 DWORD PTR _bUpdateDlgControls$[ebp], 0
  0054d	0f 84 c7 06 00
	00		 je	 $L86189

; 1561 :     {
; 1562 :         // Reset the content in each of the combo boxes
; 1563 :         ComboBox_ResetContent( hwndAdapterList );

  00553	8b f4		 mov	 esi, esp
  00555	6a 00		 push	 0
  00557	6a 00		 push	 0
  00559	68 4b 01 00 00	 push	 331			; 0000014bH
  0055e	8b 45 f4	 mov	 eax, DWORD PTR _hwndAdapterList$[ebp]
  00561	50		 push	 eax
  00562	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00568	3b f4		 cmp	 esi, esp
  0056a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1564 :         ComboBox_ResetContent( hwndDeviceList );

  0056f	8b f4		 mov	 esi, esp
  00571	6a 00		 push	 0
  00573	6a 00		 push	 0
  00575	68 4b 01 00 00	 push	 331			; 0000014bH
  0057a	8b 45 e8	 mov	 eax, DWORD PTR _hwndDeviceList$[ebp]
  0057d	50		 push	 eax
  0057e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00584	3b f4		 cmp	 esi, esp
  00586	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1565 :         ComboBox_ResetContent( hwndFullscreenModeList );

  0058b	8b f4		 mov	 esi, esp
  0058d	6a 00		 push	 0
  0058f	6a 00		 push	 0
  00591	68 4b 01 00 00	 push	 331			; 0000014bH
  00596	8b 45 dc	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  00599	50		 push	 eax
  0059a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  005a0	3b f4		 cmp	 esi, esp
  005a2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1566 :         ComboBox_ResetContent( hwndMultiSampleList );

  005a7	8b f4		 mov	 esi, esp
  005a9	6a 00		 push	 0
  005ab	6a 00		 push	 0
  005ad	68 4b 01 00 00	 push	 331			; 0000014bH
  005b2	8b 45 b8	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  005b5	50		 push	 eax
  005b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  005bc	3b f4		 cmp	 esi, esp
  005be	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1567 : 
; 1568 :         pAdapter = &pd3dApp->m_Adapters[dwNewAdapter];

  005c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  005c8	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  005ce	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  005d4	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  005d8	89 55 a0	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1569 :         pDevice  = &pAdapter->devices[dwNewDevice];

  005db	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  005e0	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  005e6	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  005e9	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  005f0	89 55 94	 mov	 DWORD PTR _pDevice$[ebp], edx

; 1570 : 
; 1571 :         // Add a list of adapters to the adapter combo box
; 1572 :         for( DWORD a=0; a < pd3dApp->m_dwNumAdapters; a++ )

  005f3	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _a$86198[ebp], 0
  005fd	eb 0f		 jmp	 SHORT $L86199
$L86200:
  005ff	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _a$86198[ebp]
  00605	83 c0 01	 add	 eax, 1
  00608	89 85 7c ff ff
	ff		 mov	 DWORD PTR _a$86198[ebp], eax
$L86199:
  0060e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00613	8b 8d 7c ff ff
	ff		 mov	 ecx, DWORD PTR _a$86198[ebp]
  00619	3b 88 44 a4 02
	00		 cmp	 ecx, DWORD PTR [eax+173124]
  0061f	0f 83 94 00 00
	00		 jae	 $L86201

; 1573 :         {
; 1574 :             // Add device name to the combo box
; 1575 :             DWORD dwItem = ComboBox_AddString( hwndAdapterList,
; 1576 :                              pd3dApp->m_Adapters[a].d3dAdapterIdentifier.Description );

  00625	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _a$86198[ebp]
  0062b	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00631	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00637	8d 94 01 04 02
	00 00		 lea	 edx, DWORD PTR [ecx+eax+516]
  0063e	8b f4		 mov	 esi, esp
  00640	52		 push	 edx
  00641	6a 00		 push	 0
  00643	68 43 01 00 00	 push	 323			; 00000143H
  00648	8b 45 f4	 mov	 eax, DWORD PTR _hwndAdapterList$[ebp]
  0064b	50		 push	 eax
  0064c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00652	3b f4		 cmp	 esi, esp
  00654	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00659	89 85 70 ff ff
	ff		 mov	 DWORD PTR _dwItem$86202[ebp], eax

; 1577 : 
; 1578 :             // Set the item data to identify this adapter
; 1579 :             ComboBox_SetItemData( hwndAdapterList, dwItem, a );

  0065f	8b f4		 mov	 esi, esp
  00661	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _a$86198[ebp]
  00667	50		 push	 eax
  00668	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _dwItem$86202[ebp]
  0066e	51		 push	 ecx
  0066f	68 51 01 00 00	 push	 337			; 00000151H
  00674	8b 55 f4	 mov	 edx, DWORD PTR _hwndAdapterList$[ebp]
  00677	52		 push	 edx
  00678	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0067e	3b f4		 cmp	 esi, esp
  00680	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1580 : 
; 1581 :             // Set the combobox selection on the current adapater
; 1582 :             if( a == dwNewAdapter )

  00685	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _a$86198[ebp]
  0068b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00691	75 21		 jne	 SHORT $L86212

; 1583 :                 ComboBox_SetCurSel( hwndAdapterList, dwItem );

  00693	8b f4		 mov	 esi, esp
  00695	6a 00		 push	 0
  00697	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwItem$86202[ebp]
  0069d	50		 push	 eax
  0069e	68 4e 01 00 00	 push	 334			; 0000014eH
  006a3	8b 4d f4	 mov	 ecx, DWORD PTR _hwndAdapterList$[ebp]
  006a6	51		 push	 ecx
  006a7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  006ad	3b f4		 cmp	 esi, esp
  006af	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86212:

; 1584 :         }

  006b4	e9 46 ff ff ff	 jmp	 $L86200
$L86201:

; 1585 : 
; 1586 :         // Add a list of devices to the device combo box
; 1587 :         for( DWORD d=0; d < pAdapter->dwNumDevices; d++ )

  006b9	c7 85 64 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _d$86217[ebp], 0
  006c3	eb 0f		 jmp	 SHORT $L86218
$L86219:
  006c5	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _d$86217[ebp]
  006cb	83 c0 01	 add	 eax, 1
  006ce	89 85 64 ff ff
	ff		 mov	 DWORD PTR _d$86217[ebp], eax
$L86218:
  006d4	8b 45 a0	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  006d7	8b 8d 64 ff ff
	ff		 mov	 ecx, DWORD PTR _d$86217[ebp]
  006dd	3b 88 3c 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1084]
  006e3	0f 83 91 00 00
	00		 jae	 $L86220

; 1588 :         {
; 1589 :             // Add device name to the combo box
; 1590 :             DWORD dwItem = ComboBox_AddString( hwndDeviceList,
; 1591 :                                                pAdapter->devices[d].strDesc );

  006e9	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _d$86217[ebp]
  006ef	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  006f5	8b f4		 mov	 esi, esp
  006f7	8b 4d a0	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  006fa	8b 94 01 18 05
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1304]
  00701	52		 push	 edx
  00702	6a 00		 push	 0
  00704	68 43 01 00 00	 push	 323			; 00000143H
  00709	8b 45 e8	 mov	 eax, DWORD PTR _hwndDeviceList$[ebp]
  0070c	50		 push	 eax
  0070d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00713	3b f4		 cmp	 esi, esp
  00715	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0071a	89 85 58 ff ff
	ff		 mov	 DWORD PTR _dwItem$86221[ebp], eax

; 1592 : 
; 1593 :             // Set the item data to identify this device
; 1594 :             ComboBox_SetItemData( hwndDeviceList, dwItem, d );

  00720	8b f4		 mov	 esi, esp
  00722	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _d$86217[ebp]
  00728	50		 push	 eax
  00729	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _dwItem$86221[ebp]
  0072f	51		 push	 ecx
  00730	68 51 01 00 00	 push	 337			; 00000151H
  00735	8b 55 e8	 mov	 edx, DWORD PTR _hwndDeviceList$[ebp]
  00738	52		 push	 edx
  00739	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0073f	3b f4		 cmp	 esi, esp
  00741	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1595 : 
; 1596 :             // Set the combobox selection on the current device
; 1597 :             if( d == dwNewDevice )

  00746	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _d$86217[ebp]
  0074c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00752	75 21		 jne	 SHORT $L86231

; 1598 :                 ComboBox_SetCurSel( hwndDeviceList, dwItem );

  00754	8b f4		 mov	 esi, esp
  00756	6a 00		 push	 0
  00758	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _dwItem$86221[ebp]
  0075e	50		 push	 eax
  0075f	68 4e 01 00 00	 push	 334			; 0000014eH
  00764	8b 4d e8	 mov	 ecx, DWORD PTR _hwndDeviceList$[ebp]
  00767	51		 push	 ecx
  00768	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0076e	3b f4		 cmp	 esi, esp
  00770	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86231:

; 1599 :         }

  00775	e9 4b ff ff ff	 jmp	 $L86219
$L86220:

; 1600 : 
; 1601 :         // Add a list of modes to the mode combo box
; 1602 :         for( DWORD m=0; m < pDevice->dwNumModes; m++ )

  0077a	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$86236[ebp], 0
  00784	eb 0f		 jmp	 SHORT $L86237
$L86238:
  00786	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  0078c	83 c0 01	 add	 eax, 1
  0078f	89 85 4c ff ff
	ff		 mov	 DWORD PTR _m$86236[ebp], eax
$L86237:
  00795	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00798	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _m$86236[ebp]
  0079e	3b 88 e0 00 00
	00		 cmp	 ecx, DWORD PTR [eax+224]
  007a4	0f 83 1a 01 00
	00		 jae	 $L86239

; 1603 :         {
; 1604 :             DWORD BitDepth = 16;

  007aa	c7 85 40 ff ff
	ff 10 00 00 00	 mov	 DWORD PTR _BitDepth$86240[ebp], 16 ; 00000010H

; 1605 :             if( pDevice->modes[m].Format == D3DFMT_X8R8G8B8 ||
; 1606 :                 pDevice->modes[m].Format == D3DFMT_A8R8G8B8 ||
; 1607 :                 pDevice->modes[m].Format == D3DFMT_R8G8B8 )

  007b4	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  007ba	6b c0 14	 imul	 eax, 20			; 00000014H
  007bd	8b 4d 94	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  007c0	83 bc 01 ec 00
	00 00 16	 cmp	 DWORD PTR [ecx+eax+236], 22 ; 00000016H
  007c8	74 2c		 je	 SHORT $L86242
  007ca	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  007d0	6b c0 14	 imul	 eax, 20			; 00000014H
  007d3	8b 4d 94	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  007d6	83 bc 01 ec 00
	00 00 15	 cmp	 DWORD PTR [ecx+eax+236], 21 ; 00000015H
  007de	74 16		 je	 SHORT $L86242
  007e0	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  007e6	6b c0 14	 imul	 eax, 20			; 00000014H
  007e9	8b 4d 94	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  007ec	83 bc 01 ec 00
	00 00 14	 cmp	 DWORD PTR [ecx+eax+236], 20 ; 00000014H
  007f4	75 0a		 jne	 SHORT $L86241
$L86242:

; 1608 :             {
; 1609 :                 BitDepth = 32;

  007f6	c7 85 40 ff ff
	ff 20 00 00 00	 mov	 DWORD PTR _BitDepth$86240[ebp], 32 ; 00000020H
$L86241:

; 1610 :             }
; 1611 : 
; 1612 :             // Add mode desc to the combo box
; 1613 :             TCHAR strMode[80];
; 1614 :             _stprintf( strMode, _T("%ld x %ld x %ld"), pDevice->modes[m].Width,
; 1615 :                                                        pDevice->modes[m].Height,
; 1616 :                                                        BitDepth );

  00800	8b 85 40 ff ff
	ff		 mov	 eax, DWORD PTR _BitDepth$86240[ebp]
  00806	50		 push	 eax
  00807	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _m$86236[ebp]
  0080d	6b c9 14	 imul	 ecx, 20			; 00000014H
  00810	8b 55 94	 mov	 edx, DWORD PTR _pDevice$[ebp]
  00813	8b 84 0a e8 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+232]
  0081a	50		 push	 eax
  0081b	8b 8d 4c ff ff
	ff		 mov	 ecx, DWORD PTR _m$86236[ebp]
  00821	6b c9 14	 imul	 ecx, 20			; 00000014H
  00824	8b 55 94	 mov	 edx, DWORD PTR _pDevice$[ebp]
  00827	8b 84 0a e4 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+228]
  0082e	50		 push	 eax
  0082f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@
  00834	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _strMode$86243[ebp]
  0083a	51		 push	 ecx
  0083b	e8 00 00 00 00	 call	 _sprintf
  00840	83 c4 14	 add	 esp, 20			; 00000014H

; 1617 :             DWORD dwItem = ComboBox_AddString( hwndFullscreenModeList, strMode );

  00843	8b f4		 mov	 esi, esp
  00845	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _strMode$86243[ebp]
  0084b	50		 push	 eax
  0084c	6a 00		 push	 0
  0084e	68 43 01 00 00	 push	 323			; 00000143H
  00853	8b 4d dc	 mov	 ecx, DWORD PTR _hwndFullscreenModeList$[ebp]
  00856	51		 push	 ecx
  00857	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0085d	3b f4		 cmp	 esi, esp
  0085f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00864	89 85 dc fe ff
	ff		 mov	 DWORD PTR _dwItem$86245[ebp], eax

; 1618 : 
; 1619 :             // Set the item data to identify this mode
; 1620 :             ComboBox_SetItemData( hwndFullscreenModeList, dwItem, m );

  0086a	8b f4		 mov	 esi, esp
  0086c	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  00872	50		 push	 eax
  00873	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _dwItem$86245[ebp]
  00879	51		 push	 ecx
  0087a	68 51 01 00 00	 push	 337			; 00000151H
  0087f	8b 55 dc	 mov	 edx, DWORD PTR _hwndFullscreenModeList$[ebp]
  00882	52		 push	 edx
  00883	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00889	3b f4		 cmp	 esi, esp
  0088b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1621 : 
; 1622 :             // Set the combobox selection on the current mode
; 1623 :             if( m == dwNewMode )

  00890	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  00896	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0089c	75 21		 jne	 SHORT $L86255

; 1624 :                 ComboBox_SetCurSel( hwndFullscreenModeList, dwItem );

  0089e	8b f4		 mov	 esi, esp
  008a0	6a 00		 push	 0
  008a2	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$86245[ebp]
  008a8	50		 push	 eax
  008a9	68 4e 01 00 00	 push	 334			; 0000014eH
  008ae	8b 4d dc	 mov	 ecx, DWORD PTR _hwndFullscreenModeList$[ebp]
  008b1	51		 push	 ecx
  008b2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  008b8	3b f4		 cmp	 esi, esp
  008ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86255:

; 1625 :         }

  008bf	e9 c2 fe ff ff	 jmp	 $L86238
$L86239:

; 1626 : 
; 1627 :         // Add a list of multisample modes to the multisample combo box
; 1628 :         for( m=0; m <= 16; m++ )

  008c4	c7 85 4c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$86236[ebp], 0
  008ce	eb 0f		 jmp	 SHORT $L86260
$L86261:
  008d0	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  008d6	83 c0 01	 add	 eax, 1
  008d9	89 85 4c ff ff
	ff		 mov	 DWORD PTR _m$86236[ebp], eax
$L86260:
  008df	83 bd 4c ff ff
	ff 10		 cmp	 DWORD PTR _m$86236[ebp], 16 ; 00000010H
  008e6	0f 87 b4 01 00
	00		 ja	 $L86262

; 1629 :         {
; 1630 :             TCHAR strDesc[50];
; 1631 : 
; 1632 :             D3DFORMAT fmt;
; 1633 :             if( bNewWindowed )

  008ec	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  008f3	74 20		 je	 SHORT $L86265

; 1634 :                 fmt = pd3dApp->m_Adapters[dwNewAdapter].d3ddmDesktop.Format;

  008f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  008fa	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00900	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00906	8b 94 01 3c 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1084]
  0090d	89 95 94 fe ff
	ff		 mov	 DWORD PTR _fmt$86264[ebp], edx

; 1635 :             else

  00913	eb 18		 jmp	 SHORT $L86266
$L86265:

; 1636 :                 fmt = pDevice->modes[dwNewMode].Format;

  00915	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0091a	6b c0 14	 imul	 eax, 20			; 00000014H
  0091d	8b 4d 94	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  00920	8b 94 01 ec 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+236]
  00927	89 95 94 fe ff
	ff		 mov	 DWORD PTR _fmt$86264[ebp], edx
$L86266:

; 1637 : 
; 1638 :             if ( m == 1 ) // 1 is not a valid multisample type

  0092d	83 bd 4c ff ff
	ff 01		 cmp	 DWORD PTR _m$86236[ebp], 1
  00934	75 02		 jne	 SHORT $L86267

; 1639 :                 continue;

  00936	eb 98		 jmp	 SHORT $L86261
$L86267:

; 1640 : 
; 1641 :             if( SUCCEEDED( pd3dApp->m_pD3D->CheckDeviceMultiSampleType( dwNewAdapter,
; 1642 :                 pDevice->DeviceType, fmt, bNewWindowed, (D3DMULTISAMPLE_TYPE)m ) ) )

  00938	8b f4		 mov	 esi, esp
  0093a	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  00940	50		 push	 eax
  00941	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  00947	51		 push	 ecx
  00948	8b 95 94 fe ff
	ff		 mov	 edx, DWORD PTR _fmt$86264[ebp]
  0094e	52		 push	 edx
  0094f	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00952	8b 08		 mov	 ecx, DWORD PTR [eax]
  00954	51		 push	 ecx
  00955	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0095b	52		 push	 edx
  0095c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00961	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00967	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  0096d	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00973	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00975	50		 push	 eax
  00976	ff 51 2c	 call	 DWORD PTR [ecx+44]
  00979	3b f4		 cmp	 esi, esp
  0097b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00980	85 c0		 test	 eax, eax
  00982	0f 8c 13 01 00
	00		 jl	 $L86270

; 1643 :             {
; 1644 :                 if( m == 0 )

  00988	83 bd 4c ff ff
	ff 00		 cmp	 DWORD PTR _m$86236[ebp], 0
  0098f	75 1d		 jne	 SHORT $L86271

; 1645 :                     lstrcpy( strDesc, _T("none") );

  00991	8b f4		 mov	 esi, esp
  00993	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_04CGFJFPFD@none?$AA@
  00998	8d 85 a0 fe ff
	ff		 lea	 eax, DWORD PTR _strDesc$86263[ebp]
  0099e	50		 push	 eax
  0099f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  009a5	3b f4		 cmp	 esi, esp
  009a7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1646 :                 else

  009ac	eb 25		 jmp	 SHORT $L86273
$L86271:

; 1647 :                     wsprintf( strDesc, _T("%d samples"), m );

  009ae	8b f4		 mov	 esi, esp
  009b0	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  009b6	50		 push	 eax
  009b7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@EABGANAD@?$CFd?5samples?$AA@
  009bc	8d 8d a0 fe ff
	ff		 lea	 ecx, DWORD PTR _strDesc$86263[ebp]
  009c2	51		 push	 ecx
  009c3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  009c9	83 c4 0c	 add	 esp, 12			; 0000000cH
  009cc	3b f4		 cmp	 esi, esp
  009ce	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86273:

; 1648 : 
; 1649 :                 // Add device name to the combo box
; 1650 :                 DWORD dwItem = ComboBox_AddString( hwndMultiSampleList, strDesc );

  009d3	8b f4		 mov	 esi, esp
  009d5	8d 85 a0 fe ff
	ff		 lea	 eax, DWORD PTR _strDesc$86263[ebp]
  009db	50		 push	 eax
  009dc	6a 00		 push	 0
  009de	68 43 01 00 00	 push	 323			; 00000143H
  009e3	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  009e6	51		 push	 ecx
  009e7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  009ed	3b f4		 cmp	 esi, esp
  009ef	e8 00 00 00 00	 call	 __RTC_CheckEsp
  009f4	89 85 88 fe ff
	ff		 mov	 DWORD PTR _dwItem$86275[ebp], eax

; 1651 : 
; 1652 :                 // Set the item data to identify this multisample type
; 1653 :                 ComboBox_SetItemData( hwndMultiSampleList, dwItem, m );

  009fa	8b f4		 mov	 esi, esp
  009fc	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  00a02	50		 push	 eax
  00a03	8b 8d 88 fe ff
	ff		 mov	 ecx, DWORD PTR _dwItem$86275[ebp]
  00a09	51		 push	 ecx
  00a0a	68 51 01 00 00	 push	 337			; 00000151H
  00a0f	8b 55 b8	 mov	 edx, DWORD PTR _hwndMultiSampleList$[ebp]
  00a12	52		 push	 edx
  00a13	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00a19	3b f4		 cmp	 esi, esp
  00a1b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1654 : 
; 1655 :                 // Set the combobox selection on the current multisample type
; 1656 :                 if( bNewWindowed )

  00a20	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  00a27	74 3a		 je	 SHORT $L86285

; 1657 :                 {
; 1658 :                     if( (D3DMULTISAMPLE_TYPE)m == NewMultiSampleTypeWindowed || m == 0 )

  00a29	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  00a2f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00a35	74 09		 je	 SHORT $L86288
  00a37	83 bd 4c ff ff
	ff 00		 cmp	 DWORD PTR _m$86236[ebp], 0
  00a3e	75 21		 jne	 SHORT $L86287
$L86288:

; 1659 :                         ComboBox_SetCurSel( hwndMultiSampleList, dwItem );

  00a40	8b f4		 mov	 esi, esp
  00a42	6a 00		 push	 0
  00a44	8b 85 88 fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$86275[ebp]
  00a4a	50		 push	 eax
  00a4b	68 4e 01 00 00	 push	 334			; 0000014eH
  00a50	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00a53	51		 push	 ecx
  00a54	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00a5a	3b f4		 cmp	 esi, esp
  00a5c	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86287:

; 1660 :                 }
; 1661 :                 else

  00a61	eb 38		 jmp	 SHORT $L86270
$L86285:

; 1662 :                 {
; 1663 :                     if( (D3DMULTISAMPLE_TYPE)m == NewMultiSampleTypeFullscreen || m == 0 )

  00a63	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _m$86236[ebp]
  00a69	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00a6f	74 09		 je	 SHORT $L86296
  00a71	83 bd 4c ff ff
	ff 00		 cmp	 DWORD PTR _m$86236[ebp], 0
  00a78	75 21		 jne	 SHORT $L86270
$L86296:

; 1664 :                         ComboBox_SetCurSel( hwndMultiSampleList, dwItem );

  00a7a	8b f4		 mov	 esi, esp
  00a7c	6a 00		 push	 0
  00a7e	8b 85 88 fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$86275[ebp]
  00a84	50		 push	 eax
  00a85	68 4e 01 00 00	 push	 334			; 0000014eH
  00a8a	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00a8d	51		 push	 ecx
  00a8e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00a94	3b f4		 cmp	 esi, esp
  00a96	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86270:

; 1665 :                 }
; 1666 :             }
; 1667 :         }

  00a9b	e9 30 fe ff ff	 jmp	 $L86261
$L86262:

; 1668 :         DWORD dwItem = ComboBox_GetCurSel( hwndMultiSampleList );

  00aa0	8b f4		 mov	 esi, esp
  00aa2	6a 00		 push	 0
  00aa4	6a 00		 push	 0
  00aa6	68 47 01 00 00	 push	 327			; 00000147H
  00aab	8b 45 b8	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  00aae	50		 push	 eax
  00aaf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00ab5	3b f4		 cmp	 esi, esp
  00ab7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00abc	89 85 7c fe ff
	ff		 mov	 DWORD PTR _dwItem$86301[ebp], eax

; 1669 :         if( bNewWindowed )

  00ac2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  00ac9	74 28		 je	 SHORT $L86304

; 1670 :             NewMultiSampleTypeWindowed = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  00acb	8b f4		 mov	 esi, esp
  00acd	6a 00		 push	 0
  00acf	8b 85 7c fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$86301[ebp]
  00ad5	50		 push	 eax
  00ad6	68 50 01 00 00	 push	 336			; 00000150H
  00adb	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00ade	51		 push	 ecx
  00adf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00ae5	3b f4		 cmp	 esi, esp
  00ae7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00aec	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1671 :         else

  00af1	eb 26		 jmp	 SHORT $L86310
$L86304:

; 1672 :             NewMultiSampleTypeFullscreen = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  00af3	8b f4		 mov	 esi, esp
  00af5	6a 00		 push	 0
  00af7	8b 85 7c fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$86301[ebp]
  00afd	50		 push	 eax
  00afe	68 50 01 00 00	 push	 336			; 00000150H
  00b03	8b 4d b8	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00b06	51		 push	 ecx
  00b07	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00b0d	3b f4		 cmp	 esi, esp
  00b0f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00b14	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax
$L86310:

; 1673 :         EnableWindow( hwndMultiSampleList, ComboBox_GetCount( hwndMultiSampleList ) > 1);

  00b19	8b f4		 mov	 esi, esp
  00b1b	6a 00		 push	 0
  00b1d	6a 00		 push	 0
  00b1f	68 46 01 00 00	 push	 326			; 00000146H
  00b24	8b 45 b8	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  00b27	50		 push	 eax
  00b28	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00b2e	3b f4		 cmp	 esi, esp
  00b30	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00b35	33 c9		 xor	 ecx, ecx
  00b37	83 f8 01	 cmp	 eax, 1
  00b3a	0f 9f c1	 setg	 cl
  00b3d	8b f4		 mov	 esi, esp
  00b3f	51		 push	 ecx
  00b40	8b 55 b8	 mov	 edx, DWORD PTR _hwndMultiSampleList$[ebp]
  00b43	52		 push	 edx
  00b44	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00b4a	3b f4		 cmp	 esi, esp
  00b4c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1674 :         EnableWindow( hwndWindowedRadio, pDevice->bCanDoWindowed );

  00b51	8b f4		 mov	 esi, esp
  00b53	8b 45 94	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00b56	8b 88 dc 00 00
	00		 mov	 ecx, DWORD PTR [eax+220]
  00b5c	51		 push	 ecx
  00b5d	8b 55 d0	 mov	 edx, DWORD PTR _hwndWindowedRadio$[ebp]
  00b60	52		 push	 edx
  00b61	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00b67	3b f4		 cmp	 esi, esp
  00b69	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1675 : 
; 1676 :         if( bNewWindowed )

  00b6e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  00b75	74 4f		 je	 SHORT $L86318

; 1677 :         {
; 1678 :             Button_SetCheck( hwndWindowedRadio,   TRUE );

  00b77	8b f4		 mov	 esi, esp
  00b79	6a 00		 push	 0
  00b7b	6a 01		 push	 1
  00b7d	68 f1 00 00 00	 push	 241			; 000000f1H
  00b82	8b 45 d0	 mov	 eax, DWORD PTR _hwndWindowedRadio$[ebp]
  00b85	50		 push	 eax
  00b86	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00b8c	3b f4		 cmp	 esi, esp
  00b8e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1679 :             Button_SetCheck( hwndFullscreenRadio, FALSE );

  00b93	8b f4		 mov	 esi, esp
  00b95	6a 00		 push	 0
  00b97	6a 00		 push	 0
  00b99	68 f1 00 00 00	 push	 241			; 000000f1H
  00b9e	8b 45 c4	 mov	 eax, DWORD PTR _hwndFullscreenRadio$[ebp]
  00ba1	50		 push	 eax
  00ba2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00ba8	3b f4		 cmp	 esi, esp
  00baa	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1680 :             EnableWindow( hwndFullscreenModeList, FALSE );

  00baf	8b f4		 mov	 esi, esp
  00bb1	6a 00		 push	 0
  00bb3	8b 45 dc	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  00bb6	50		 push	 eax
  00bb7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00bbd	3b f4		 cmp	 esi, esp
  00bbf	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1681 :         }
; 1682 :         else

  00bc4	eb 4d		 jmp	 SHORT $L86325
$L86318:

; 1683 :         {
; 1684 :             Button_SetCheck( hwndWindowedRadio,   FALSE );

  00bc6	8b f4		 mov	 esi, esp
  00bc8	6a 00		 push	 0
  00bca	6a 00		 push	 0
  00bcc	68 f1 00 00 00	 push	 241			; 000000f1H
  00bd1	8b 45 d0	 mov	 eax, DWORD PTR _hwndWindowedRadio$[ebp]
  00bd4	50		 push	 eax
  00bd5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00bdb	3b f4		 cmp	 esi, esp
  00bdd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1685 :             Button_SetCheck( hwndFullscreenRadio, TRUE );

  00be2	8b f4		 mov	 esi, esp
  00be4	6a 00		 push	 0
  00be6	6a 01		 push	 1
  00be8	68 f1 00 00 00	 push	 241			; 000000f1H
  00bed	8b 45 c4	 mov	 eax, DWORD PTR _hwndFullscreenRadio$[ebp]
  00bf0	50		 push	 eax
  00bf1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00bf7	3b f4		 cmp	 esi, esp
  00bf9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1686 :             EnableWindow( hwndFullscreenModeList, TRUE );

  00bfe	8b f4		 mov	 esi, esp
  00c00	6a 01		 push	 1
  00c02	8b 45 dc	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  00c05	50		 push	 eax
  00c06	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00c0c	3b f4		 cmp	 esi, esp
  00c0e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86325:

; 1687 :         }
; 1688 :         return TRUE;

  00c13	b8 01 00 00 00	 mov	 eax, 1
  00c18	eb 02		 jmp	 SHORT $L86098
$L86189:

; 1689 :     }
; 1690 : 
; 1691 :     return FALSE;

  00c1a	33 c0		 xor	 eax, eax
$L86098:

; 1692 : }

  00c1c	52		 push	 edx
  00c1d	8b cd		 mov	 ecx, ebp
  00c1f	50		 push	 eax
  00c20	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86757
  00c26	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00c2b	58		 pop	 eax
  00c2c	5a		 pop	 edx
  00c2d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00c30	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00c33	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00c38	5f		 pop	 edi
  00c39	5e		 pop	 esi
  00c3a	5b		 pop	 ebx
  00c3b	81 c4 48 02 00
	00		 add	 esp, 584		; 00000248H
  00c41	3b ec		 cmp	 ebp, esp
  00c43	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00c48	8b e5		 mov	 esp, ebp
  00c4a	5d		 pop	 ebp
  00c4b	c2 10 00	 ret	 16			; 00000010H
$L86757:
  00c4e	02 00 00 00	 DD	 2
  00c52	00 00 00 00	 DD	 $L86756
$L86756:
  00c56	e8 fe ff ff	 DD	 -280			; fffffee8H
  00c5a	50 00 00 00	 DD	 80			; 00000050H
  00c5e	00 00 00 00	 DD	 $L86752
  00c62	a0 fe ff ff	 DD	 -352			; fffffea0H
  00c66	32 00 00 00	 DD	 50			; 00000032H
  00c6a	00 00 00 00	 DD	 $L86753
$L86753:
  00c6e	73		 DB	 115			; 00000073H
  00c6f	74		 DB	 116			; 00000074H
  00c70	72		 DB	 114			; 00000072H
  00c71	44		 DB	 68			; 00000044H
  00c72	65		 DB	 101			; 00000065H
  00c73	73		 DB	 115			; 00000073H
  00c74	63		 DB	 99			; 00000063H
  00c75	00		 DB	 0
$L86752:
  00c76	73		 DB	 115			; 00000073H
  00c77	74		 DB	 116			; 00000074H
  00c78	72		 DB	 114			; 00000072H
  00c79	4d		 DB	 77			; 0000004dH
  00c7a	6f		 DB	 111			; 0000006fH
  00c7b	64		 DB	 100			; 00000064H
  00c7c	65		 DB	 101			; 00000065H
  00c7d	00		 DB	 0
?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z ENDP ; CD3DApplication::SelectDeviceProc
_TEXT	ENDS
PUBLIC	?Render3DEnvironment@CD3DApplication@@IAEJXZ	; CD3DApplication::Render3DEnvironment
EXTRN	__imp__GetMessageA@16:NEAR
EXTRN	__imp__TranslateMessage@4:NEAR
EXTRN	__imp__DispatchMessageA@4:NEAR
EXTRN	__imp__PeekMessageA@20:NEAR
EXTRN	__imp__LoadAcceleratorsA@8:NEAR
EXTRN	__imp__TranslateAcceleratorA@12:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?Run@CD3DApplication@@UAEHXZ
_TEXT	SEGMENT
_msg$ = -68
_bGotMsg$ = -32
_hAccel$ = -20
_this$ = -8
?Run@CD3DApplication@@UAEHXZ PROC NEAR			; CD3DApplication::Run, COMDAT
; _this$ = ecx

; 1702 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd f8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-264]
  00013	b9 42 00 00 00	 mov	 ecx, 66			; 00000042H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1703 :     // Load keyboard accelerators
; 1704 :     HACCEL hAccel = LoadAccelerators( NULL, MAKEINTRESOURCE(IDR_MAIN_ACCEL) );

  00023	8b f4		 mov	 esi, esp
  00025	6a 71		 push	 113			; 00000071H
  00027	6a 00		 push	 0
  00029	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadAcceleratorsA@8
  0002f	3b f4		 cmp	 esi, esp
  00031	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00036	89 45 ec	 mov	 DWORD PTR _hAccel$[ebp], eax

; 1705 : 
; 1706 :     // Now we're ready to recieve and process Windows messages.
; 1707 :     BOOL bGotMsg;
; 1708 :     MSG  msg;
; 1709 :     msg.message = WM_NULL;

  00039	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _msg$[ebp+4], 0

; 1710 :     PeekMessage( &msg, NULL, 0U, 0U, PM_NOREMOVE );

  00040	8b f4		 mov	 esi, esp
  00042	6a 00		 push	 0
  00044	6a 00		 push	 0
  00046	6a 00		 push	 0
  00048	6a 00		 push	 0
  0004a	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  0004d	50		 push	 eax
  0004e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PeekMessageA@20
  00054	3b f4		 cmp	 esi, esp
  00056	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86342:

; 1711 : 
; 1712 :     while( WM_QUIT != msg.message  )

  0005b	83 7d c0 12	 cmp	 DWORD PTR _msg$[ebp+4], 18 ; 00000012H
  0005f	0f 84 e3 00 00
	00		 je	 $L86343

; 1713 :     {
; 1714 :         // Use PeekMessage() if the app is active, so we can use idle time to
; 1715 :         // render the scene. Else, use GetMessage() to avoid eating CPU time.
; 1716 :         if( m_bActive )

  00065	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00068	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0006f	74 20		 je	 SHORT $L86344

; 1717 :             bGotMsg = PeekMessage( &msg, NULL, 0U, 0U, PM_REMOVE );

  00071	8b f4		 mov	 esi, esp
  00073	6a 01		 push	 1
  00075	6a 00		 push	 0
  00077	6a 00		 push	 0
  00079	6a 00		 push	 0
  0007b	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  0007e	50		 push	 eax
  0007f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PeekMessageA@20
  00085	3b f4		 cmp	 esi, esp
  00087	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008c	89 45 e0	 mov	 DWORD PTR _bGotMsg$[ebp], eax

; 1718 :         else

  0008f	eb 1c		 jmp	 SHORT $L86345
$L86344:

; 1719 :             bGotMsg = GetMessage( &msg, NULL, 0U, 0U );

  00091	8b f4		 mov	 esi, esp
  00093	6a 00		 push	 0
  00095	6a 00		 push	 0
  00097	6a 00		 push	 0
  00099	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  0009c	50		 push	 eax
  0009d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetMessageA@16
  000a3	3b f4		 cmp	 esi, esp
  000a5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000aa	89 45 e0	 mov	 DWORD PTR _bGotMsg$[ebp], eax
$L86345:

; 1720 : 
; 1721 :         if( bGotMsg )

  000ad	83 7d e0 00	 cmp	 DWORD PTR _bGotMsg$[ebp], 0
  000b1	74 4d		 je	 SHORT $L86346

; 1722 :         {
; 1723 :             // Translate and dispatch the message
; 1724 :             if( 0 == TranslateAccelerator( m_hWnd, hAccel, &msg ) )

  000b3	8b f4		 mov	 esi, esp
  000b5	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d ec	 mov	 ecx, DWORD PTR _hAccel$[ebp]
  000bc	51		 push	 ecx
  000bd	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c0	8b 82 98 a4 02
	00		 mov	 eax, DWORD PTR [edx+173208]
  000c6	50		 push	 eax
  000c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TranslateAcceleratorA@12
  000cd	3b f4		 cmp	 esi, esp
  000cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d4	85 c0		 test	 eax, eax
  000d6	75 26		 jne	 SHORT $L86347

; 1725 :             {
; 1726 :                 TranslateMessage( &msg );

  000d8	8b f4		 mov	 esi, esp
  000da	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  000dd	50		 push	 eax
  000de	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TranslateMessage@4
  000e4	3b f4		 cmp	 esi, esp
  000e6	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1727 :                 DispatchMessage( &msg );

  000eb	8b f4		 mov	 esi, esp
  000ed	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  000f0	50		 push	 eax
  000f1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DispatchMessageA@4
  000f7	3b f4		 cmp	 esi, esp
  000f9	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86347:

; 1728 :             }
; 1729 :         }
; 1730 :         else

  000fe	eb 43		 jmp	 SHORT $L86348
$L86346:

; 1731 :         {
; 1732 :             // Render a frame during idle time (no messages are waiting)
; 1733 :             if( m_bActive && m_bReady )

  00100	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00103	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0010a	74 37		 je	 SHORT $L86348
  0010c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010f	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00116	74 2b		 je	 SHORT $L86348

; 1734 :             {
; 1735 :                 if( FAILED( Render3DEnvironment() ) )

  00118	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011b	e8 00 00 00 00	 call	 ?Render3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Render3DEnvironment
  00120	85 c0		 test	 eax, eax
  00122	7d 1f		 jge	 SHORT $L86348

; 1736 :                     SendMessage( m_hWnd, WM_CLOSE, 0, 0 );

  00124	8b f4		 mov	 esi, esp
  00126	6a 00		 push	 0
  00128	6a 00		 push	 0
  0012a	6a 10		 push	 16			; 00000010H
  0012c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0012f	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00135	51		 push	 ecx
  00136	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0013c	3b f4		 cmp	 esi, esp
  0013e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86348:

; 1737 :             }
; 1738 :         }
; 1739 :     }

  00143	e9 13 ff ff ff	 jmp	 $L86342
$L86343:

; 1740 : 
; 1741 :     return (INT)msg.wParam;

  00148	8b 45 c4	 mov	 eax, DWORD PTR _msg$[ebp+8]

; 1742 : }

  0014b	52		 push	 edx
  0014c	8b cd		 mov	 ecx, ebp
  0014e	50		 push	 eax
  0014f	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86763
  00155	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0015a	58		 pop	 eax
  0015b	5a		 pop	 edx
  0015c	5f		 pop	 edi
  0015d	5e		 pop	 esi
  0015e	5b		 pop	 ebx
  0015f	81 c4 08 01 00
	00		 add	 esp, 264		; 00000108H
  00165	3b ec		 cmp	 ebp, esp
  00167	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0016c	8b e5		 mov	 esp, ebp
  0016e	5d		 pop	 ebp
  0016f	c3		 ret	 0
$L86763:
  00170	01 00 00 00	 DD	 1
  00174	00 00 00 00	 DD	 $L86762
$L86762:
  00178	bc ff ff ff	 DD	 -68			; ffffffbcH
  0017c	1c 00 00 00	 DD	 28			; 0000001cH
  00180	00 00 00 00	 DD	 $L86761
$L86761:
  00184	6d		 DB	 109			; 0000006dH
  00185	73		 DB	 115			; 00000073H
  00186	67		 DB	 103			; 00000067H
  00187	00		 DB	 0
?Run@CD3DApplication@@UAEHXZ ENDP			; CD3DApplication::Run
_TEXT	ENDS
PUBLIC	??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@ ; `string'
PUBLIC	??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@		; `string'
PUBLIC	??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@		; `string'
PUBLIC	??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@		; `string'
PUBLIC	??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@		; `string'
PUBLIC	??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@	; `string'
PUBLIC	??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@		; `string'
PUBLIC	??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	__real@00000000
PUBLIC	__real@3d4ccccd
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@3d4ccccd
CONST	SEGMENT
__real@3d4ccccd DD 03d4ccccdr			; 0.05
CONST	ENDS
;	COMDAT ??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@ DB '%.02'
	DB	'f fps (%dx%dx%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@
CONST	SEGMENT
??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@ DB ' (D16)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@
CONST	SEGMENT
??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@ DB ' (D15S1)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@
CONST	SEGMENT
??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@ DB ' (D24X8)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@
CONST	SEGMENT
??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@ DB ' (D24S8)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@
CONST	SEGMENT
??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@ DB ' (D24X4S4)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@
CONST	SEGMENT
??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@ DB ' (D32)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@ DB ' (2x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@ DB ' (3x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@ DB ' (4x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@ DB ' (5x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@ DB ' (6x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@ DB ' (7x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@ DB ' (8x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@ DB ' (9x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@ DB ' (10x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@ DB ' (11x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@ DB ' (12x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@ DB ' (13x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@ DB ' (14x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@ DB ' (15x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@ DB ' (16x Multisample)'
	DB	00H						; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Render3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
tv345 = -344
tv228 = -340
tv205 = -340
_MultiSampleType$86412 = -140
_pModeInfo$86394 = -128
_pDeviceInfo$86393 = -116
_pAdapterInfo$86392 = -104
_mode$86390 = -92
_fTime$86388 = -68
_fElapsedAppTime$ = -56
_fAppTime$ = -44
_pAdapterInfo$86371 = -32
_hr$ = -20
_this$ = -8
?Render3DEnvironment@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::Render3DEnvironment, COMDAT
; _this$ = ecx

; 1752 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 58 01 00
	00		 sub	 esp, 344		; 00000158H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd a8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-344]
  00013	b9 56 00 00 00	 mov	 ecx, 86			; 00000056H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1753 :     HRESULT hr;
; 1754 : 
; 1755 :     // Test the cooperative level to see if it's okay to render
; 1756 :     if( FAILED( hr = m_pd3dDevice->TestCooperativeLevel() ) )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0002c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0002f	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00035	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00037	8b f4		 mov	 esi, esp
  00039	50		 push	 eax
  0003a	ff 51 0c	 call	 DWORD PTR [ecx+12]
  0003d	3b f4		 cmp	 esi, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00047	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0004b	0f 8d a9 00 00
	00		 jge	 $L86358

; 1757 :     {
; 1758 :         // If the device was lost, do not render until we get it back
; 1759 :         if( D3DERR_DEVICELOST == hr )

  00051	81 7d ec 68 08
	76 88		 cmp	 DWORD PTR _hr$[ebp], -2005530520 ; 88760868H
  00058	75 07		 jne	 SHORT $L86363

; 1760 :             return S_OK;

  0005a	33 c0		 xor	 eax, eax
  0005c	e9 ec 05 00 00	 jmp	 $L86355
$L86363:

; 1761 : 
; 1762 :         // Check if the device needs to be resized.
; 1763 :         if( D3DERR_DEVICENOTRESET == hr )

  00061	81 7d ec 69 08
	76 88		 cmp	 DWORD PTR _hr$[ebp], -2005530519 ; 88760869H
  00068	0f 85 84 00 00
	00		 jne	 $L86369

; 1764 :         {
; 1765 :             // If we are windowed, read the desktop mode and use the same format for
; 1766 :             // the back buffer
; 1767 :             if( m_bWindowed )

  0006e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00071	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00078	74 5f		 je	 SHORT $L86370

; 1768 :             {
; 1769 :                 D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  0007a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007d	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  00083	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00089	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0008c	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00090	89 45 e0	 mov	 DWORD PTR _pAdapterInfo$86371[ebp], eax

; 1770 :                 m_pD3D->GetAdapterDisplayMode( m_dwAdapter, &pAdapterInfo->d3ddmDesktop );

  00093	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$86371[ebp]
  00096	05 2c 04 00 00	 add	 eax, 1068		; 0000042cH
  0009b	8b f4		 mov	 esi, esp
  0009d	50		 push	 eax
  0009e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000a1	8b 91 48 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173128]
  000a7	52		 push	 edx
  000a8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ab	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  000b1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b4	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000ba	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000bc	50		 push	 eax
  000bd	ff 51 20	 call	 DWORD PTR [ecx+32]
  000c0	3b f4		 cmp	 esi, esp
  000c2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1771 :                 m_d3dpp.BackBufferFormat = pAdapterInfo->d3ddmDesktop.Format;

  000c7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ca	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$86371[ebp]
  000cd	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  000d3	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx
$L86370:

; 1772 :             }
; 1773 : 
; 1774 :             if( FAILED( hr = Resize3DEnvironment() ) )

  000d9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000dc	e8 00 00 00 00	 call	 ?Resize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Resize3DEnvironment
  000e1	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  000e4	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  000e8	7d 08		 jge	 SHORT $L86369

; 1775 :                 return hr;

  000ea	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  000ed	e9 5b 05 00 00	 jmp	 $L86355
$L86369:

; 1776 :         }
; 1777 :         return hr;

  000f2	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  000f5	e9 53 05 00 00	 jmp	 $L86355
$L86358:

; 1778 :     }
; 1779 : 
; 1780 :     // Get the app's time, in seconds. Skip rendering if no time elapsed
; 1781 :     FLOAT fAppTime        = DXUtil_Timer( TIMER_GETAPPTIME );

  000fa	6a 05		 push	 5
  000fc	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00101	d9 5d d4	 fstp	 DWORD PTR _fAppTime$[ebp]

; 1782 :     FLOAT fElapsedAppTime = DXUtil_Timer( TIMER_GETELAPSEDTIME );

  00104	6a 06		 push	 6
  00106	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0010b	d9 5d c8	 fstp	 DWORD PTR _fElapsedAppTime$[ebp]

; 1783 :     if( ( 0.0f == fElapsedAppTime ) && m_bFrameMoving )

  0010e	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000
  00114	d8 5d c8	 fcomp	 DWORD PTR _fElapsedAppTime$[ebp]
  00117	df e0		 fnstsw	 ax
  00119	f6 c4 44	 test	 ah, 68			; 00000044H
  0011c	7a 13		 jp	 SHORT $L86376
  0011e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00121	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  00128	74 07		 je	 SHORT $L86376

; 1784 :         return S_OK;

  0012a	33 c0		 xor	 eax, eax
  0012c	e9 1c 05 00 00	 jmp	 $L86355
$L86376:

; 1785 : 
; 1786 :     // FrameMove (animate) the scene
; 1787 :     if( m_bFrameMoving || m_bSingleStep )

  00131	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00134	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0013b	75 0c		 jne	 SHORT $L86379
  0013d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00140	83 b8 60 a4 02
	00 00		 cmp	 DWORD PTR [eax+173152], 0
  00147	74 4a		 je	 SHORT $L86378
$L86379:

; 1788 :     {
; 1789 :         // Store the time for the app
; 1790 :         m_fTime        = fAppTime;

  00149	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014c	8b 4d d4	 mov	 ecx, DWORD PTR _fAppTime$[ebp]
  0014f	89 88 c4 a7 02
	00		 mov	 DWORD PTR [eax+174020], ecx

; 1791 :         m_fElapsedTime = fElapsedAppTime;

  00155	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00158	8b 4d c8	 mov	 ecx, DWORD PTR _fElapsedAppTime$[ebp]
  0015b	89 88 c8 a5 02
	00		 mov	 DWORD PTR [eax+173512], ecx

; 1792 : 
; 1793 : 		// Frame move the scene
; 1794 : 		if( FAILED( hr = FrameMove() ) )

  00161	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00164	8b 10		 mov	 edx, DWORD PTR [eax]
  00166	8b f4		 mov	 esi, esp
  00168	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0016b	ff 52 14	 call	 DWORD PTR [edx+20]
  0016e	3b f4		 cmp	 esi, esp
  00170	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00175	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00178	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0017c	7d 08		 jge	 SHORT $L86381

; 1795 : 			return hr;

  0017e	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00181	e9 c7 04 00 00	 jmp	 $L86355
$L86381:

; 1796 : 
; 1797 :         m_bSingleStep = FALSE;

  00186	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00189	c7 80 60 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173152], 0
$L86378:

; 1798 :     }
; 1799 : 
; 1800 :     // Render the scene as normal
; 1801 :     if( FAILED( hr = Render() ) )

  00193	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00196	8b 10		 mov	 edx, DWORD PTR [eax]
  00198	8b f4		 mov	 esi, esp
  0019a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0019d	ff 52 18	 call	 DWORD PTR [edx+24]
  001a0	3b f4		 cmp	 esi, esp
  001a2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a7	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  001aa	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001ae	7d 08		 jge	 SHORT $L86383

; 1802 :         return hr;

  001b0	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  001b3	e9 95 04 00 00	 jmp	 $L86355
$L86383:

; 1803 : 
; 1804 :     // Keep track of the frame count
; 1805 :     {
; 1806 :         static FLOAT fLastTime = 0.0f;
; 1807 :         static DWORD dwFrames  = 0L;
; 1808 :         FLOAT fTime = DXUtil_Timer( TIMER_GETABSOLUTETIME );

  001b8	6a 04		 push	 4
  001ba	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  001bf	d9 5d bc	 fstp	 DWORD PTR _fTime$86388[ebp]

; 1809 :         ++dwFrames;

  001c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA
  001c7	83 c0 01	 add	 eax, 1
  001ca	a3 00 00 00 00	 mov	 DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA, eax

; 1810 : 
; 1811 :         // Update the scene stats
; 1812 : 		
; 1813 : 		// DM
; 1814 :         if( fTime - fLastTime > 0.05f )	// twenty times per second!

  001cf	d9 45 bc	 fld	 DWORD PTR _fTime$86388[ebp]
  001d2	d8 25 00 00 00
	00		 fsub	 DWORD PTR ?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA
  001d8	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3d4ccccd
  001de	df e0		 fnstsw	 ax
  001e0	f6 c4 41	 test	 ah, 65			; 00000041H
  001e3	0f 85 39 04 00
	00		 jne	 $L86389

; 1815 :         {
; 1816 :             m_fFPS    = dwFrames / (fTime - fLastTime);

  001e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA
  001ee	89 85 a8 fe ff
	ff		 mov	 DWORD PTR tv345[ebp], eax
  001f4	c7 85 ac fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv345[ebp+4], 0
  001fe	df ad a8 fe ff
	ff		 fild	 QWORD PTR tv345[ebp]
  00204	d9 45 bc	 fld	 DWORD PTR _fTime$86388[ebp]
  00207	d8 25 00 00 00
	00		 fsub	 DWORD PTR ?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA
  0020d	de f9		 fdivp	 ST(1), ST(0)
  0020f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00212	d9 99 cc a5 02
	00		 fstp	 DWORD PTR [ecx+173516]

; 1817 :             fLastTime = fTime;

  00218	8b 45 bc	 mov	 eax, DWORD PTR _fTime$86388[ebp]
  0021b	a3 00 00 00 00	 mov	 DWORD PTR ?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA, eax

; 1818 :             dwFrames  = 0L;

  00220	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA, 0

; 1819 : 
; 1820 :             // Get adapter's current mode so we can report
; 1821 :             // bit depth (back buffer depth may be unknown)
; 1822 :             D3DDISPLAYMODE mode;
; 1823 :             m_pD3D->GetAdapterDisplayMode(m_dwAdapter, &mode);

  0022a	8b f4		 mov	 esi, esp
  0022c	8d 45 a4	 lea	 eax, DWORD PTR _mode$86390[ebp]
  0022f	50		 push	 eax
  00230	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00233	8b 91 48 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173128]
  00239	52		 push	 edx
  0023a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0023d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00243	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00246	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0024c	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0024e	50		 push	 eax
  0024f	ff 51 20	 call	 DWORD PTR [ecx+32]
  00252	3b f4		 cmp	 esi, esp
  00254	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1824 : 
; 1825 :             _stprintf( m_strFrameStats, _T("%.02f fps (%dx%dx%d)"), m_fFPS,
; 1826 :                        m_d3dsdBackBuffer.Width, m_d3dsdBackBuffer.Height,
; 1827 :                        mode.Format==D3DFMT_X8R8G8B8?32:16 );

  00259	33 c0		 xor	 eax, eax
  0025b	83 7d b0 16	 cmp	 DWORD PTR _mode$86390[ebp+12], 22 ; 00000016H
  0025f	0f 95 c0	 setne	 al
  00262	48		 dec	 eax
  00263	83 e0 10	 and	 eax, 16			; 00000010H
  00266	83 c0 10	 add	 eax, 16			; 00000010H
  00269	50		 push	 eax
  0026a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0026d	8b 91 9c a5 02
	00		 mov	 edx, DWORD PTR [ecx+173468]
  00273	52		 push	 edx
  00274	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00277	8b 88 98 a5 02
	00		 mov	 ecx, DWORD PTR [eax+173464]
  0027d	51		 push	 ecx
  0027e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00281	d9 82 cc a5 02
	00		 fld	 DWORD PTR [edx+173516]
  00287	83 ec 08	 sub	 esp, 8
  0028a	dd 1c 24	 fstp	 QWORD PTR [esp]
  0028d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@
  00292	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00295	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  0029a	50		 push	 eax
  0029b	e8 00 00 00 00	 call	 _sprintf
  002a0	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1828 :             D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  002a3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a6	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  002ac	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  002b2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002b5	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  002b9	89 45 98	 mov	 DWORD PTR _pAdapterInfo$86392[ebp], eax

; 1829 :             D3DDeviceInfo*  pDeviceInfo  = &pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice];

  002bc	8b 45 98	 mov	 eax, DWORD PTR _pAdapterInfo$86392[ebp]
  002bf	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  002c5	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  002cb	8b 55 98	 mov	 edx, DWORD PTR _pAdapterInfo$86392[ebp]
  002ce	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  002d5	89 45 8c	 mov	 DWORD PTR _pDeviceInfo$86393[ebp], eax

; 1830 :             D3DModeInfo*    pModeInfo    = &pDeviceInfo->modes[pDeviceInfo->dwCurrentMode];

  002d8	8b 45 8c	 mov	 eax, DWORD PTR _pDeviceInfo$86393[ebp]
  002db	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  002e1	6b c9 14	 imul	 ecx, 20			; 00000014H
  002e4	8b 55 8c	 mov	 edx, DWORD PTR _pDeviceInfo$86393[ebp]
  002e7	8d 84 0a e4 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+228]
  002ee	89 45 80	 mov	 DWORD PTR _pModeInfo$86394[ebp], eax

; 1831 :             if( m_bUseDepthBuffer )

  002f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002f4	83 b8 88 a6 02
	00 00		 cmp	 DWORD PTR [eax+173704], 0
  002fb	0f 84 f0 00 00
	00		 je	 $L86395

; 1832 :             {
; 1833 : 
; 1834 :                 switch( pModeInfo->DepthStencilFormat )
; 1835 :                 {

  00301	8b 45 80	 mov	 eax, DWORD PTR _pModeInfo$86394[ebp]
  00304	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00307	89 8d ac fe ff
	ff		 mov	 DWORD PTR tv205[ebp], ecx
  0030d	8b 95 ac fe ff
	ff		 mov	 edx, DWORD PTR tv205[ebp]
  00313	83 ea 47	 sub	 edx, 71			; 00000047H
  00316	89 95 ac fe ff
	ff		 mov	 DWORD PTR tv205[ebp], edx
  0031c	83 bd ac fe ff
	ff 09		 cmp	 DWORD PTR tv205[ebp], 9
  00323	0f 87 c8 00 00
	00		 ja	 $L86395
  00329	8b 85 ac fe ff
	ff		 mov	 eax, DWORD PTR tv205[ebp]
  0032f	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $L86773[eax*4]
$L86400:

; 1836 :                 case D3DFMT_D16:
; 1837 :                     lstrcat( m_strFrameStats, _T(" (D16)") );

  00336	8b f4		 mov	 esi, esp
  00338	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@
  0033d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00340	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00345	50		 push	 eax
  00346	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0034c	3b f4		 cmp	 esi, esp
  0034e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1838 :                     break;

  00353	e9 99 00 00 00	 jmp	 $L86395
$L86402:

; 1839 :                 case D3DFMT_D15S1:
; 1840 :                     lstrcat( m_strFrameStats, _T(" (D15S1)") );

  00358	8b f4		 mov	 esi, esp
  0035a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@
  0035f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00362	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00367	50		 push	 eax
  00368	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0036e	3b f4		 cmp	 esi, esp
  00370	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1841 :                     break;

  00375	eb 7a		 jmp	 SHORT $L86395
$L86404:

; 1842 :                 case D3DFMT_D24X8:
; 1843 :                     lstrcat( m_strFrameStats, _T(" (D24X8)") );

  00377	8b f4		 mov	 esi, esp
  00379	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@
  0037e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00381	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00386	50		 push	 eax
  00387	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0038d	3b f4		 cmp	 esi, esp
  0038f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1844 :                     break;

  00394	eb 5b		 jmp	 SHORT $L86395
$L86406:

; 1845 :                 case D3DFMT_D24S8:
; 1846 :                     lstrcat( m_strFrameStats, _T(" (D24S8)") );

  00396	8b f4		 mov	 esi, esp
  00398	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@
  0039d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003a0	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  003a5	50		 push	 eax
  003a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003ac	3b f4		 cmp	 esi, esp
  003ae	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1847 :                     break;

  003b3	eb 3c		 jmp	 SHORT $L86395
$L86408:

; 1848 :                 case D3DFMT_D24X4S4:
; 1849 :                     lstrcat( m_strFrameStats, _T(" (D24X4S4)") );

  003b5	8b f4		 mov	 esi, esp
  003b7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@
  003bc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003bf	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  003c4	50		 push	 eax
  003c5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003cb	3b f4		 cmp	 esi, esp
  003cd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1850 :                     break;

  003d2	eb 1d		 jmp	 SHORT $L86395
$L86410:

; 1851 :                 case D3DFMT_D32:
; 1852 :                     lstrcat( m_strFrameStats, _T(" (D32)") );

  003d4	8b f4		 mov	 esi, esp
  003d6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@
  003db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003de	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  003e3	50		 push	 eax
  003e4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003ea	3b f4		 cmp	 esi, esp
  003ec	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86395:

; 1853 :                     break;
; 1854 :                 }
; 1855 :             }
; 1856 : 
; 1857 :             D3DMULTISAMPLE_TYPE MultiSampleType;
; 1858 :             /*if( m_bWindowed )
; 1859 :                 MultiSampleType = pDeviceInfo->MultiSampleTypeWindowed;
; 1860 :             else
; 1861 :                 MultiSampleType = pDeviceInfo->MultiSampleTypeFullscreen;*/
; 1862 : 			// DM
; 1863 : 			MultiSampleType = m_d3dpp.MultiSampleType ;

  003f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003f4	8b 88 74 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173172]
  003fa	89 8d 74 ff ff
	ff		 mov	 DWORD PTR _MultiSampleType$86412[ebp], ecx

; 1864 :             switch( MultiSampleType )
; 1865 :             {

  00400	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _MultiSampleType$86412[ebp]
  00406	89 85 ac fe ff
	ff		 mov	 DWORD PTR tv228[ebp], eax
  0040c	8b 8d ac fe ff
	ff		 mov	 ecx, DWORD PTR tv228[ebp]
  00412	83 e9 02	 sub	 ecx, 2
  00415	89 8d ac fe ff
	ff		 mov	 DWORD PTR tv228[ebp], ecx
  0041b	83 bd ac fe ff
	ff 0e		 cmp	 DWORD PTR tv228[ebp], 14 ; 0000000eH
  00422	0f 87 fa 01 00
	00		 ja	 $L86389
  00428	8b 95 ac fe ff
	ff		 mov	 edx, DWORD PTR tv228[ebp]
  0042e	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L86774[edx*4]
$L86417:

; 1866 :             case D3DMULTISAMPLE_2_SAMPLES:
; 1867 :                 lstrcat( m_strFrameStats, _T(" (2x Multisample)") );

  00435	8b f4		 mov	 esi, esp
  00437	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@
  0043c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0043f	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00444	50		 push	 eax
  00445	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0044b	3b f4		 cmp	 esi, esp
  0044d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1868 :                 break;

  00452	e9 cb 01 00 00	 jmp	 $L86389
$L86419:

; 1869 :             case D3DMULTISAMPLE_3_SAMPLES:
; 1870 :                 lstrcat( m_strFrameStats, _T(" (3x Multisample)") );

  00457	8b f4		 mov	 esi, esp
  00459	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@
  0045e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00461	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00466	50		 push	 eax
  00467	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0046d	3b f4		 cmp	 esi, esp
  0046f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1871 :                 break;

  00474	e9 a9 01 00 00	 jmp	 $L86389
$L86421:

; 1872 :             case D3DMULTISAMPLE_4_SAMPLES:
; 1873 :                 lstrcat( m_strFrameStats, _T(" (4x Multisample)") );

  00479	8b f4		 mov	 esi, esp
  0047b	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@
  00480	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00483	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00488	50		 push	 eax
  00489	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0048f	3b f4		 cmp	 esi, esp
  00491	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1874 :                 break;

  00496	e9 87 01 00 00	 jmp	 $L86389
$L86423:

; 1875 :             case D3DMULTISAMPLE_5_SAMPLES:
; 1876 :                 lstrcat( m_strFrameStats, _T(" (5x Multisample)") );

  0049b	8b f4		 mov	 esi, esp
  0049d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@
  004a2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004a5	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  004aa	50		 push	 eax
  004ab	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004b1	3b f4		 cmp	 esi, esp
  004b3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1877 :                 break;

  004b8	e9 65 01 00 00	 jmp	 $L86389
$L86425:

; 1878 :             case D3DMULTISAMPLE_6_SAMPLES:
; 1879 :                 lstrcat( m_strFrameStats, _T(" (6x Multisample)") );

  004bd	8b f4		 mov	 esi, esp
  004bf	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@
  004c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004c7	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  004cc	50		 push	 eax
  004cd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004d3	3b f4		 cmp	 esi, esp
  004d5	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1880 :                 break;

  004da	e9 43 01 00 00	 jmp	 $L86389
$L86427:

; 1881 :             case D3DMULTISAMPLE_7_SAMPLES:
; 1882 :                 lstrcat( m_strFrameStats, _T(" (7x Multisample)") );

  004df	8b f4		 mov	 esi, esp
  004e1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@
  004e6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004e9	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  004ee	50		 push	 eax
  004ef	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004f5	3b f4		 cmp	 esi, esp
  004f7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1883 :                 break;

  004fc	e9 21 01 00 00	 jmp	 $L86389
$L86429:

; 1884 :             case D3DMULTISAMPLE_8_SAMPLES:
; 1885 :                 lstrcat( m_strFrameStats, _T(" (8x Multisample)") );

  00501	8b f4		 mov	 esi, esp
  00503	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@
  00508	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0050b	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00510	50		 push	 eax
  00511	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00517	3b f4		 cmp	 esi, esp
  00519	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1886 :                 break;

  0051e	e9 ff 00 00 00	 jmp	 $L86389
$L86431:

; 1887 :             case D3DMULTISAMPLE_9_SAMPLES:
; 1888 :                 lstrcat( m_strFrameStats, _T(" (9x Multisample)") );

  00523	8b f4		 mov	 esi, esp
  00525	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@
  0052a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0052d	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00532	50		 push	 eax
  00533	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00539	3b f4		 cmp	 esi, esp
  0053b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1889 :                 break;

  00540	e9 dd 00 00 00	 jmp	 $L86389
$L86433:

; 1890 :             case D3DMULTISAMPLE_10_SAMPLES:
; 1891 :                 lstrcat( m_strFrameStats, _T(" (10x Multisample)") );

  00545	8b f4		 mov	 esi, esp
  00547	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@
  0054c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0054f	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00554	50		 push	 eax
  00555	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0055b	3b f4		 cmp	 esi, esp
  0055d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1892 :                 break;

  00562	e9 bb 00 00 00	 jmp	 $L86389
$L86435:

; 1893 :             case D3DMULTISAMPLE_11_SAMPLES:
; 1894 :                 lstrcat( m_strFrameStats, _T(" (11x Multisample)") );

  00567	8b f4		 mov	 esi, esp
  00569	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@
  0056e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00571	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00576	50		 push	 eax
  00577	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0057d	3b f4		 cmp	 esi, esp
  0057f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1895 :                 break;

  00584	e9 99 00 00 00	 jmp	 $L86389
$L86437:

; 1896 :             case D3DMULTISAMPLE_12_SAMPLES:
; 1897 :                 lstrcat( m_strFrameStats, _T(" (12x Multisample)") );

  00589	8b f4		 mov	 esi, esp
  0058b	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@
  00590	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00593	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00598	50		 push	 eax
  00599	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0059f	3b f4		 cmp	 esi, esp
  005a1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1898 :                 break;

  005a6	eb 7a		 jmp	 SHORT $L86389
$L86439:

; 1899 :             case D3DMULTISAMPLE_13_SAMPLES:
; 1900 :                 lstrcat( m_strFrameStats, _T(" (13x Multisample)") );

  005a8	8b f4		 mov	 esi, esp
  005aa	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@
  005af	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005b2	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  005b7	50		 push	 eax
  005b8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  005be	3b f4		 cmp	 esi, esp
  005c0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1901 :                 break;

  005c5	eb 5b		 jmp	 SHORT $L86389
$L86441:

; 1902 :             case D3DMULTISAMPLE_14_SAMPLES:
; 1903 :                 lstrcat( m_strFrameStats, _T(" (14x Multisample)") );

  005c7	8b f4		 mov	 esi, esp
  005c9	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@
  005ce	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005d1	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  005d6	50		 push	 eax
  005d7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  005dd	3b f4		 cmp	 esi, esp
  005df	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1904 :                 break;

  005e4	eb 3c		 jmp	 SHORT $L86389
$L86443:

; 1905 :             case D3DMULTISAMPLE_15_SAMPLES:
; 1906 :                 lstrcat( m_strFrameStats, _T(" (15x Multisample)") );

  005e6	8b f4		 mov	 esi, esp
  005e8	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@
  005ed	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005f0	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  005f5	50		 push	 eax
  005f6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  005fc	3b f4		 cmp	 esi, esp
  005fe	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1907 :                 break;

  00603	eb 1d		 jmp	 SHORT $L86389
$L86445:

; 1908 :             case D3DMULTISAMPLE_16_SAMPLES:
; 1909 :                 lstrcat( m_strFrameStats, _T(" (16x Multisample)") );

  00605	8b f4		 mov	 esi, esp
  00607	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@
  0060c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0060f	05 2a a6 02 00	 add	 eax, 173610		; 0002a62aH
  00614	50		 push	 eax
  00615	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0061b	3b f4		 cmp	 esi, esp
  0061d	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86389:

; 1910 :                 break;
; 1911 :             }
; 1912 :         }
; 1913 :     }
; 1914 : 
; 1915 :     // Show the frame on the primary surface.
; 1916 :     m_pd3dDevice->Present( NULL, NULL, NULL, NULL );

  00622	8b f4		 mov	 esi, esp
  00624	6a 00		 push	 0
  00626	6a 00		 push	 0
  00628	6a 00		 push	 0
  0062a	6a 00		 push	 0
  0062c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0062f	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00635	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00638	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  0063e	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00640	50		 push	 eax
  00641	ff 51 3c	 call	 DWORD PTR [ecx+60]
  00644	3b f4		 cmp	 esi, esp
  00646	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1917 : 
; 1918 :     return S_OK;

  0064b	33 c0		 xor	 eax, eax
$L86355:

; 1919 : }

  0064d	52		 push	 edx
  0064e	8b cd		 mov	 ecx, ebp
  00650	50		 push	 eax
  00651	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86772
  00657	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0065c	58		 pop	 eax
  0065d	5a		 pop	 edx
  0065e	5f		 pop	 edi
  0065f	5e		 pop	 esi
  00660	5b		 pop	 ebx
  00661	81 c4 58 01 00
	00		 add	 esp, 344		; 00000158H
  00667	3b ec		 cmp	 ebp, esp
  00669	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0066e	8b e5		 mov	 esp, ebp
  00670	5d		 pop	 ebp
  00671	c3		 ret	 0
$L86772:
  00672	01 00 00 00	 DD	 1
  00676	00 00 00 00	 DD	 $L86771
$L86771:
  0067a	a4 ff ff ff	 DD	 -92			; ffffffa4H
  0067e	10 00 00 00	 DD	 16			; 00000010H
  00682	00 00 00 00	 DD	 $L86770
$L86770:
  00686	6d		 DB	 109			; 0000006dH
  00687	6f		 DB	 111			; 0000006fH
  00688	64		 DB	 100			; 00000064H
  00689	65		 DB	 101			; 00000065H
  0068a	00		 DB	 0
$L86773:
  0068b	00 00 00 00	 DD	 $L86410
  0068f	00 00 00 00	 DD	 $L86395
  00693	00 00 00 00	 DD	 $L86402
  00697	00 00 00 00	 DD	 $L86395
  0069b	00 00 00 00	 DD	 $L86406
  0069f	00 00 00 00	 DD	 $L86395
  006a3	00 00 00 00	 DD	 $L86404
  006a7	00 00 00 00	 DD	 $L86395
  006ab	00 00 00 00	 DD	 $L86408
  006af	00 00 00 00	 DD	 $L86400
$L86774:
  006b3	00 00 00 00	 DD	 $L86417
  006b7	00 00 00 00	 DD	 $L86419
  006bb	00 00 00 00	 DD	 $L86421
  006bf	00 00 00 00	 DD	 $L86423
  006c3	00 00 00 00	 DD	 $L86425
  006c7	00 00 00 00	 DD	 $L86427
  006cb	00 00 00 00	 DD	 $L86429
  006cf	00 00 00 00	 DD	 $L86431
  006d3	00 00 00 00	 DD	 $L86433
  006d7	00 00 00 00	 DD	 $L86435
  006db	00 00 00 00	 DD	 $L86437
  006df	00 00 00 00	 DD	 $L86439
  006e3	00 00 00 00	 DD	 $L86441
  006e7	00 00 00 00	 DD	 $L86443
  006eb	00 00 00 00	 DD	 $L86445
?Render3DEnvironment@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::Render3DEnvironment
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Pause@CD3DApplication@@UAEXH@Z
_TEXT	SEGMENT
_this$ = -8
_bPause$ = 8
?Pause@CD3DApplication@@UAEXH@Z PROC NEAR		; CD3DApplication::Pause, COMDAT
; _this$ = ecx

; 1929 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1930 :     static DWORD dwAppPausedCount = 0L;
; 1931 : 
; 1932 :     dwAppPausedCount += ( bPause ? +1 : -1 );

  00023	33 c0		 xor	 eax, eax
  00025	83 7d 08 00	 cmp	 DWORD PTR _bPause$[ebp], 0
  00029	0f 95 c0	 setne	 al
  0002c	8d 44 00 ff	 lea	 eax, DWORD PTR [eax+eax-1]
  00030	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA
  00036	03 c8		 add	 ecx, eax
  00038	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, ecx

; 1933 :     m_bReady          = ( dwAppPausedCount ? FALSE : TRUE );

  0003e	33 c0		 xor	 eax, eax
  00040	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, 0
  00047	0f 94 c0	 sete	 al
  0004a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004d	89 81 54 a4 02
	00		 mov	 DWORD PTR [ecx+173140], eax

; 1934 : 
; 1935 :     // Handle the first pause request (of many, nestable pause requests)
; 1936 :     if( bPause && ( 1 == dwAppPausedCount ) )

  00053	83 7d 08 00	 cmp	 DWORD PTR _bPause$[ebp], 0
  00057	74 1e		 je	 SHORT $L86454
  00059	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, 1
  00060	75 15		 jne	 SHORT $L86454

; 1937 :     {
; 1938 :         // Stop the scene from animating
; 1939 :         if( m_bFrameMoving )

  00062	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00065	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0006c	74 09		 je	 SHORT $L86454

; 1940 :             DXUtil_Timer( TIMER_STOP );

  0006e	6a 02		 push	 2
  00070	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00075	dd d8		 fstp	 ST(0)
$L86454:

; 1941 :     }
; 1942 : 
; 1943 :     if( 0 == dwAppPausedCount )

  00077	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, 0
  0007e	75 15		 jne	 SHORT $L86451

; 1944 :     {
; 1945 :         // Restart the timers
; 1946 :         if( m_bFrameMoving )

  00080	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00083	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0008a	74 09		 je	 SHORT $L86451

; 1947 :             DXUtil_Timer( TIMER_START );

  0008c	6a 01		 push	 1
  0008e	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00093	dd d8		 fstp	 ST(0)
$L86451:

; 1948 :     }
; 1949 : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0009e	3b ec		 cmp	 ebp, esp
  000a0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a5	8b e5		 mov	 esp, ebp
  000a7	5d		 pop	 ebp
  000a8	c2 04 00	 ret	 4
?Pause@CD3DApplication@@UAEXH@Z ENDP			; CD3DApplication::Pause
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ
_TEXT	SEGMENT
_this$ = -8
?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ PROC NEAR	; CD3DApplication::Cleanup3DEnvironment, COMDAT
; _this$ = ecx

; 1959 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1960 :     m_bActive = FALSE;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c7 80 50 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173136], 0

; 1961 :     m_bReady  = FALSE;

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 1962 : 
; 1963 :     if( m_pd3dDevice )

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  00047	0f 84 84 00 00
	00		 je	 $L86461

; 1964 :     {
; 1965 :         InvalidateDeviceObjects();

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00050	8b 10		 mov	 edx, DWORD PTR [eax]
  00052	8b f4		 mov	 esi, esp
  00054	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00057	ff 52 1c	 call	 DWORD PTR [edx+28]
  0005a	3b f4		 cmp	 esi, esp
  0005c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1966 :         DeleteDeviceObjects();

  00061	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00064	8b 10		 mov	 edx, DWORD PTR [eax]
  00066	8b f4		 mov	 esi, esp
  00068	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0006b	ff 52 20	 call	 DWORD PTR [edx+32]
  0006e	3b f4		 cmp	 esi, esp
  00070	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1967 : 
; 1968 :         m_pd3dDevice->Release();

  00075	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00078	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0007e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00081	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00087	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00089	8b f4		 mov	 esi, esp
  0008b	50		 push	 eax
  0008c	ff 51 08	 call	 DWORD PTR [ecx+8]
  0008f	3b f4		 cmp	 esi, esp
  00091	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1969 :         m_pD3D->Release();

  00096	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00099	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0009f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000a2	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000a8	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000aa	8b f4		 mov	 esi, esp
  000ac	50		 push	 eax
  000ad	ff 51 08	 call	 DWORD PTR [ecx+8]
  000b0	3b f4		 cmp	 esi, esp
  000b2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1970 : 
; 1971 :         m_pd3dDevice = NULL;

  000b7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ba	c7 80 a8 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173224], 0

; 1972 :         m_pD3D       = NULL;

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L86461:

; 1973 :     }
; 1974 : 
; 1975 :     FinalCleanup();

  000d1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d4	8b 10		 mov	 edx, DWORD PTR [eax]
  000d6	8b f4		 mov	 esi, esp
  000d8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000db	ff 52 24	 call	 DWORD PTR [edx+36]
  000de	3b f4		 cmp	 esi, esp
  000e0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1976 : }

  000e5	5f		 pop	 edi
  000e6	5e		 pop	 esi
  000e7	5b		 pop	 ebx
  000e8	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000ee	3b ec		 cmp	 ebp, esp
  000f0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000f5	8b e5		 mov	 esp, ebp
  000f7	5d		 pop	 ebp
  000f8	c3		 ret	 0
?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ ENDP	; CD3DApplication::Cleanup3DEnvironment
_TEXT	ENDS
PUBLIC	??_C@_0HP@PGABGOGP@Could?5not?5initialize?5Direct3D?4?5Y@ ; `string'
PUBLIC	??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@ ; `string'
PUBLIC	??_C@_0LE@ELBEEABE@This?5application?5cannot?5run?5in?5a@ ; `string'
PUBLIC	??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@ ; `string'
PUBLIC	??_C@_0GF@DKNPBPKA@This?5application?5requires?5functi@ ; `string'
PUBLIC	??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@ ; `string'
PUBLIC	??_C@_0GK@MAFJOLND@Your?5Direct3D?5hardware?5accelerat@ ; `string'
PUBLIC	??_C@_0IP@GFMOIPJ@This?5application?5requires?5functi@ ; `string'
PUBLIC	??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@ ; `string'
PUBLIC	??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@ ; `string'
PUBLIC	??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@ ; `string'
PUBLIC	??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@ ; `string'
PUBLIC	??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@	; `string'
PUBLIC	??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@ ; `string'
PUBLIC	??_C@_0BL@JANOMFPB@Generic?5application?5error?4?$AA@ ; `string'
PUBLIC	??_C@_0CC@LHIDCKOG@?6?6This?5application?5will?5now?5exit@ ; `string'
PUBLIC	??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@ ; `string'
EXTRN	__imp__MessageBoxA@16:NEAR
EXTRN	_strcpy:NEAR
EXTRN	_strcat:NEAR
;	COMDAT ??_C@_0HP@PGABGOGP@Could?5not?5initialize?5Direct3D?4?5Y@
CONST	SEGMENT
??_C@_0HP@PGABGOGP@Could?5not?5initialize?5Direct3D?4?5Y@ DB 'Could not i'
	DB	'nitialize Direct3D. You may', 0aH, 'want to check that the la'
	DB	'test version of', 0aH, 'DirectX is correctly installed on you'
	DB	'r', 0aH, 'system.', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@
CONST	SEGMENT
??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@ DB 'Could not f'
	DB	'ind any compatible Direct3D', 0aH, 'devices.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0LE@ELBEEABE@This?5application?5cannot?5run?5in?5a@
CONST	SEGMENT
??_C@_0LE@ELBEEABE@This?5application?5cannot?5run?5in?5a@ DB 'This applic'
	DB	'ation cannot run in a desktop', 0aH, 'window with the current'
	DB	' display settings.', 0aH, 'Please change your desktop setting'
	DB	's to a', 0aH, '16- or 32-bit display mode and re-run this', 0aH
	DB	'application.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@
CONST	SEGMENT
??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@ DB 'No hardware-a'
	DB	'ccelerated Direct3D devices', 0aH, 'were found.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0GF@DKNPBPKA@This?5application?5requires?5functi@
CONST	SEGMENT
??_C@_0GF@DKNPBPKA@This?5application?5requires?5functi@ DB 'This applicat'
	DB	'ion requires functionality that is', 0aH, 'not available on y'
	DB	'our Direct3D hardware', 0aH, 'accelerator.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT
??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@ DB 'Your Direct3D'
	DB	' hardware accelerator cannot', 0aH, 'render into a window.', 0aH
	DB	'Press F2 while the app is running to see a', 0aH, 'list of av'
	DB	'ailable devices and modes.', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0GK@MAFJOLND@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT
??_C@_0GK@MAFJOLND@Your?5Direct3D?5hardware?5accelerat@ DB 'Your Direct3D'
	DB	' hardware accelerator cannot', 0aH, 'render into a window wit'
	DB	'h the current', 0aH, 'desktop display settings.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0IP@GFMOIPJ@This?5application?5requires?5functi@
CONST	SEGMENT
??_C@_0IP@GFMOIPJ@This?5application?5requires?5functi@ DB 'This applicati'
	DB	'on requires functionality that is', 0aH, 'not available on yo'
	DB	'ur Direct3D hardware', 0aH, 'accelerator with the current des'
	DB	'ktop display', 0aH, 'settings.', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@
CONST	SEGMENT
??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@ DB 'Could not'
	DB	' load required media.', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@
CONST	SEGMENT
??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@ DB 'Could not r'
	DB	'eset the Direct3D device.', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@
CONST	SEGMENT
??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@ DB 'A D3D obj'
	DB	'ect has a non-zero reference', 0aH, 'count (meaning things we'
	DB	're not properly', 0aH, 'cleaned up).', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@
CONST	SEGMENT
??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@ DB 'Warning: No'
	DB	'thing will be rendered.', 0aH, 'The reference rendering devic'
	DB	'e was selected, but your', 0aH, 'computer only has a reduced-'
	DB	'functionality reference device', 0aH, 'installed.  Install th'
	DB	'e DirectX SDK to get the full', 0aH, 'reference device.', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@
CONST	SEGMENT
??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@ DB 'Not enough memory.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@
CONST	SEGMENT
??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@ DB 'Not enough video'
	DB	' memory.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@JANOMFPB@Generic?5application?5error?4?$AA@
CONST	SEGMENT
??_C@_0BL@JANOMFPB@Generic?5application?5error?4?$AA@ DB 'Generic applica'
	DB	'tion error.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@LHIDCKOG@?6?6This?5application?5will?5now?5exit@
CONST	SEGMENT
??_C@_0CC@LHIDCKOG@?6?6This?5application?5will?5now?5exit@ DB 0aH, 0aH, 'T'
	DB	'his application will now exit.', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@
CONST	SEGMENT
??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@ DB 0aH, 0aH, 'S'
	DB	'witching to the reference rasterizer,', 0aH, 'a software devi'
	DB	'ce that implements the entire', 0aH, 'Direct3D feature set, b'
	DB	'ut runs very slowly.', 00H			; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z
_TEXT	SEGMENT
tv64 = -736
_strMsg$ = -536
_this$ = -12
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_hr$ = 8
_dwType$ = 12
?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z PROC NEAR	; CD3DApplication::DisplayErrorMsg, COMDAT
; _this$ = ecx

; 1986 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e0 02 00
	00		 sub	 esp, 736		; 000002e0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 20 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-736]
  00013	b9 b8 00 00 00	 mov	 ecx, 184		; 000000b8H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00025	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00028	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002b	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx

; 1987 :     TCHAR strMsg[512];
; 1988 : 
; 1989 :     switch( hr )
; 1990 :     {

  0002e	8b 45 08	 mov	 eax, DWORD PTR _hr$[ebp]
  00031	89 85 20 fd ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  00037	81 bd 20 fd ff
	ff 08 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929208 ; 82000008H
  00041	0f 8f 96 00 00
	00		 jg	 $L86782
  00047	81 bd 20 fd ff
	ff 08 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929208 ; 82000008H
  00051	0f 84 69 01 00
	00		 je	 $L86484
  00057	81 bd 20 fd ff
	ff 04 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929212 ; 82000004H
  00061	7f 45		 jg	 SHORT $L86783
  00063	81 bd 20 fd ff
	ff 04 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929212 ; 82000004H
  0006d	0f 84 e9 00 00
	00		 je	 $L86476
  00073	81 bd 20 fd ff
	ff 0e 00 07 80	 cmp	 DWORD PTR tv64[ebp], -2147024882 ; 8007000eH
  0007d	0f 84 ca 01 00
	00		 je	 $L86497
  00083	81 bd 20 fd ff
	ff 01 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929215 ; 82000001H
  0008d	0f 84 97 00 00
	00		 je	 $L86472
  00093	81 bd 20 fd ff
	ff 03 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929213 ; 82000003H
  0009d	0f 84 a0 00 00
	00		 je	 $L86474
  000a3	e9 d1 01 00 00	 jmp	 $L86505
$L86783:
  000a8	81 bd 20 fd ff
	ff 05 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929211 ; 82000005H
  000b2	0f 84 bd 00 00
	00		 je	 $L86478
  000b8	81 bd 20 fd ff
	ff 06 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929210 ; 82000006H
  000c2	0f 84 c6 00 00
	00		 je	 $L86480
  000c8	81 bd 20 fd ff
	ff 07 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929209 ; 82000007H
  000d2	0f 84 cf 00 00
	00		 je	 $L86482
  000d8	e9 9c 01 00 00	 jmp	 $L86505
$L86782:
  000dd	81 bd 20 fd ff
	ff 7c 01 76 88	 cmp	 DWORD PTR tv64[ebp], -2005532292 ; 8876017cH
  000e7	7f 3c		 jg	 SHORT $L86784
  000e9	81 bd 20 fd ff
	ff 7c 01 76 88	 cmp	 DWORD PTR tv64[ebp], -2005532292 ; 8876017cH
  000f3	0f 84 6a 01 00
	00		 je	 $L86503
  000f9	8b 8d 20 fd ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  000ff	81 c1 f7 ff ff
	7d		 add	 ecx, 2113929207		; 7dfffff7H
  00105	89 8d 20 fd ff
	ff		 mov	 DWORD PTR tv64[ebp], ecx
  0010b	83 bd 20 fd ff
	ff 04		 cmp	 DWORD PTR tv64[ebp], 4
  00112	0f 87 61 01 00
	00		 ja	 $L86505
  00118	8b 95 20 fd ff
	ff		 mov	 edx, DWORD PTR tv64[ebp]
  0011e	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L86789[edx*4]
$L86784:
  00125	e9 4f 01 00 00	 jmp	 $L86505
$L86472:

; 1991 :         case D3DAPPERR_NODIRECT3D:
; 1992 :             _tcscpy( strMsg, _T("Could not initialize Direct3D. You may\n")
; 1993 :                              _T("want to check that the latest version of\n")
; 1994 :                              _T("DirectX is correctly installed on your\n")
; 1995 :                              _T("system.") );

  0012a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0HP@PGABGOGP@Could?5not?5initialize?5Direct3D?4?5Y@
  0012f	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00135	50		 push	 eax
  00136	e8 00 00 00 00	 call	 _strcpy
  0013b	83 c4 08	 add	 esp, 8

; 1996 :             break;

  0013e	e9 4a 01 00 00	 jmp	 $L86469
$L86474:

; 1997 : 
; 1998 :         case D3DAPPERR_NOCOMPATIBLEDEVICES:
; 1999 :             _tcscpy( strMsg, _T("Could not find any compatible Direct3D\n")
; 2000 :                              _T("devices.") );

  00143	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@
  00148	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0014e	50		 push	 eax
  0014f	e8 00 00 00 00	 call	 _strcpy
  00154	83 c4 08	 add	 esp, 8

; 2001 :             break;

  00157	e9 31 01 00 00	 jmp	 $L86469
$L86476:

; 2002 : 
; 2003 :         case D3DAPPERR_NOWINDOWABLEDEVICES:
; 2004 :             _tcscpy( strMsg, _T("This application cannot run in a desktop\n")
; 2005 :                              _T("window with the current display settings.\n")
; 2006 :                              _T("Please change your desktop settings to a\n")
; 2007 :                              _T("16- or 32-bit display mode and re-run this\n")
; 2008 :                              _T("application.") );

  0015c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0LE@ELBEEABE@This?5application?5cannot?5run?5in?5a@
  00161	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00167	50		 push	 eax
  00168	e8 00 00 00 00	 call	 _strcpy
  0016d	83 c4 08	 add	 esp, 8

; 2009 :             break;

  00170	e9 18 01 00 00	 jmp	 $L86469
$L86478:

; 2010 : 
; 2011 :         case D3DAPPERR_NOHARDWAREDEVICE:
; 2012 :             _tcscpy( strMsg, _T("No hardware-accelerated Direct3D devices\n")
; 2013 :                              _T("were found.") );

  00175	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@
  0017a	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00180	50		 push	 eax
  00181	e8 00 00 00 00	 call	 _strcpy
  00186	83 c4 08	 add	 esp, 8

; 2014 :             break;

  00189	e9 ff 00 00 00	 jmp	 $L86469
$L86480:

; 2015 : 
; 2016 :         case D3DAPPERR_HALNOTCOMPATIBLE:
; 2017 :             _tcscpy( strMsg, _T("This application requires functionality that is\n")
; 2018 :                              _T("not available on your Direct3D hardware\n")
; 2019 :                              _T("accelerator.") );

  0018e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0GF@DKNPBPKA@This?5application?5requires?5functi@
  00193	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00199	50		 push	 eax
  0019a	e8 00 00 00 00	 call	 _strcpy
  0019f	83 c4 08	 add	 esp, 8

; 2020 :             break;

  001a2	e9 e6 00 00 00	 jmp	 $L86469
$L86482:

; 2021 : 
; 2022 :         case D3DAPPERR_NOWINDOWEDHAL:
; 2023 :             _tcscpy( strMsg, _T("Your Direct3D hardware accelerator cannot\n")
; 2024 :                              _T("render into a window.\n")
; 2025 :                              _T("Press F2 while the app is running to see a\n")
; 2026 :                              _T("list of available devices and modes.") );

  001a7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@
  001ac	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001b2	50		 push	 eax
  001b3	e8 00 00 00 00	 call	 _strcpy
  001b8	83 c4 08	 add	 esp, 8

; 2027 :             break;

  001bb	e9 cd 00 00 00	 jmp	 $L86469
$L86484:

; 2028 : 
; 2029 :         case D3DAPPERR_NODESKTOPHAL:
; 2030 :             _tcscpy( strMsg, _T("Your Direct3D hardware accelerator cannot\n")
; 2031 :                              _T("render into a window with the current\n")
; 2032 :                              _T("desktop display settings.") );

  001c0	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0GK@MAFJOLND@Your?5Direct3D?5hardware?5accelerat@
  001c5	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001cb	50		 push	 eax
  001cc	e8 00 00 00 00	 call	 _strcpy
  001d1	83 c4 08	 add	 esp, 8

; 2033 :             break;

  001d4	e9 b4 00 00 00	 jmp	 $L86469
$L86486:

; 2034 : 
; 2035 :         case D3DAPPERR_NOHALTHISMODE:
; 2036 :             _tcscpy( strMsg, _T("This application requires functionality that is\n")
; 2037 :                              _T("not available on your Direct3D hardware\n")
; 2038 :                              _T("accelerator with the current desktop display\n")
; 2039 :                              _T("settings.") );

  001d9	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0IP@GFMOIPJ@This?5application?5requires?5functi@
  001de	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001e4	50		 push	 eax
  001e5	e8 00 00 00 00	 call	 _strcpy
  001ea	83 c4 08	 add	 esp, 8

; 2040 :             break;

  001ed	e9 9b 00 00 00	 jmp	 $L86469
$L86488:

; 2041 : 
; 2042 :         case D3DAPPERR_MEDIANOTFOUND:
; 2043 :             _tcscpy( strMsg, _T("Could not load required media." ) );

  001f2	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@
  001f7	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001fd	50		 push	 eax
  001fe	e8 00 00 00 00	 call	 _strcpy
  00203	83 c4 08	 add	 esp, 8

; 2044 :             break;

  00206	e9 82 00 00 00	 jmp	 $L86469
$L86490:

; 2045 : 
; 2046 :         case D3DAPPERR_RESIZEFAILED:
; 2047 :             _tcscpy( strMsg, _T("Could not reset the Direct3D device." ) );

  0020b	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@
  00210	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00216	50		 push	 eax
  00217	e8 00 00 00 00	 call	 _strcpy
  0021c	83 c4 08	 add	 esp, 8

; 2048 :             break;

  0021f	eb 6c		 jmp	 SHORT $L86469
$L86492:

; 2049 : 
; 2050 :         case D3DAPPERR_NONZEROREFCOUNT:
; 2051 :             _tcscpy( strMsg, _T("A D3D object has a non-zero reference\n")
; 2052 :                              _T("count (meaning things were not properly\n")
; 2053 :                              _T("cleaned up).") );

  00221	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@
  00226	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0022c	50		 push	 eax
  0022d	e8 00 00 00 00	 call	 _strcpy
  00232	83 c4 08	 add	 esp, 8

; 2054 :             break;

  00235	eb 56		 jmp	 SHORT $L86469
$L86494:

; 2055 : 
; 2056 :         case D3DAPPERR_NULLREFDEVICE:
; 2057 :             _tcscpy( strMsg, _T("Warning: Nothing will be rendered.\n")
; 2058 :                              _T("The reference rendering device was selected, but your\n")
; 2059 :                              _T("computer only has a reduced-functionality reference device\n")
; 2060 :                              _T("installed.  Install the DirectX SDK to get the full\n")
; 2061 :                              _T("reference device.\n") );

  00237	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@
  0023c	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00242	50		 push	 eax
  00243	e8 00 00 00 00	 call	 _strcpy
  00248	83 c4 08	 add	 esp, 8

; 2062 :             break;

  0024b	eb 40		 jmp	 SHORT $L86469
$L86497:

; 2063 : 
; 2064 :         case E_OUTOFMEMORY:
; 2065 :             _tcscpy( strMsg, _T("Not enough memory.") );

  0024d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@
  00252	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00258	50		 push	 eax
  00259	e8 00 00 00 00	 call	 _strcpy
  0025e	83 c4 08	 add	 esp, 8

; 2066 :             break;

  00261	eb 2a		 jmp	 SHORT $L86469
$L86503:

; 2067 : 
; 2068 :         case D3DERR_OUTOFVIDEOMEMORY:
; 2069 :             _tcscpy( strMsg, _T("Not enough video memory.") );

  00263	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@
  00268	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0026e	50		 push	 eax
  0026f	e8 00 00 00 00	 call	 _strcpy
  00274	83 c4 08	 add	 esp, 8

; 2070 :             break;

  00277	eb 14		 jmp	 SHORT $L86469
$L86505:

; 2071 : 
; 2072 :         default:
; 2073 :             _tcscpy( strMsg, _T("Generic application error.") );

  00279	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@JANOMFPB@Generic?5application?5error?4?$AA@
  0027e	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00284	50		 push	 eax
  00285	e8 00 00 00 00	 call	 _strcpy
  0028a	83 c4 08	 add	 esp, 8
$L86469:

; 2074 :     }
; 2075 : 
; 2076 :     if( MSGERR_APPMUSTEXIT == dwType )

  0028d	83 7d 0c 01	 cmp	 DWORD PTR _dwType$[ebp], 1
  00291	75 65		 jne	 SHORT $L86507

; 2077 :     {
; 2078 :         _tcscat( strMsg, _T("\n\nThis application will now exit.") );

  00293	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CC@LHIDCKOG@?6?6This?5application?5will?5now?5exit@
  00298	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0029e	50		 push	 eax
  0029f	e8 00 00 00 00	 call	 _strcat
  002a4	83 c4 08	 add	 esp, 8

; 2079 :         MessageBox( NULL, strMsg, m_strWindowTitle, MB_ICONERROR|MB_OK );

  002a7	8b f4		 mov	 esi, esp
  002a9	6a 10		 push	 16			; 00000010H
  002ab	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  002ae	8b 88 84 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173700]
  002b4	51		 push	 ecx
  002b5	8d 95 e8 fd ff
	ff		 lea	 edx, DWORD PTR _strMsg$[ebp]
  002bb	52		 push	 edx
  002bc	6a 00		 push	 0
  002be	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
  002c4	3b f4		 cmp	 esi, esp
  002c6	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 2080 : 
; 2081 :         // Close the window, which shuts down the app
; 2082 :         if( m_hWnd )

  002cb	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  002ce	83 b8 98 a4 02
	00 00		 cmp	 DWORD PTR [eax+173208], 0
  002d5	74 1f		 je	 SHORT $L86509

; 2083 :             SendMessage( m_hWnd, WM_CLOSE, 0, 0 );

  002d7	8b f4		 mov	 esi, esp
  002d9	6a 00		 push	 0
  002db	6a 00		 push	 0
  002dd	6a 10		 push	 16			; 00000010H
  002df	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  002e2	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  002e8	51		 push	 ecx
  002e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  002ef	3b f4		 cmp	 esi, esp
  002f1	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86509:

; 2084 :     }
; 2085 :     else

  002f6	eb 3e		 jmp	 SHORT $L86510
$L86507:

; 2086 :     {
; 2087 :         if( MSGWARN_SWITCHEDTOREF == dwType )

  002f8	83 7d 0c 02	 cmp	 DWORD PTR _dwType$[ebp], 2
  002fc	75 14		 jne	 SHORT $L86511

; 2088 :             _tcscat( strMsg, _T("\n\nSwitching to the reference rasterizer,\n")
; 2089 :                              _T("a software device that implements the entire\n")
; 2090 :                              _T("Direct3D feature set, but runs very slowly.") );

  002fe	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@
  00303	8d 85 e8 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00309	50		 push	 eax
  0030a	e8 00 00 00 00	 call	 _strcat
  0030f	83 c4 08	 add	 esp, 8
$L86511:

; 2091 :         MessageBox( NULL, strMsg, m_strWindowTitle, MB_ICONWARNING|MB_OK );

  00312	8b f4		 mov	 esi, esp
  00314	6a 30		 push	 48			; 00000030H
  00316	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00319	8b 88 84 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173700]
  0031f	51		 push	 ecx
  00320	8d 95 e8 fd ff
	ff		 lea	 edx, DWORD PTR _strMsg$[ebp]
  00326	52		 push	 edx
  00327	6a 00		 push	 0
  00329	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
  0032f	3b f4		 cmp	 esi, esp
  00331	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L86510:

; 2092 :     }
; 2093 : 
; 2094 :     return hr;

  00336	8b 45 08	 mov	 eax, DWORD PTR _hr$[ebp]

; 2095 : }

  00339	52		 push	 edx
  0033a	8b cd		 mov	 ecx, ebp
  0033c	50		 push	 eax
  0033d	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L86788
  00343	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00348	58		 pop	 eax
  00349	5a		 pop	 edx
  0034a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0034d	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00350	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00355	5f		 pop	 edi
  00356	5e		 pop	 esi
  00357	5b		 pop	 ebx
  00358	81 c4 e0 02 00
	00		 add	 esp, 736		; 000002e0H
  0035e	3b ec		 cmp	 ebp, esp
  00360	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00365	8b e5		 mov	 esp, ebp
  00367	5d		 pop	 ebp
  00368	c2 08 00	 ret	 8
$L86788:
  0036b	01 00 00 00	 DD	 1
  0036f	00 00 00 00	 DD	 $L86787
$L86787:
  00373	e8 fd ff ff	 DD	 -536			; fffffde8H
  00377	00 02 00 00	 DD	 512			; 00000200H
  0037b	00 00 00 00	 DD	 $L86785
$L86785:
  0037f	73		 DB	 115			; 00000073H
  00380	74		 DB	 116			; 00000074H
  00381	72		 DB	 114			; 00000072H
  00382	4d		 DB	 77			; 0000004dH
  00383	73		 DB	 115			; 00000073H
  00384	67		 DB	 103			; 00000067H
  00385	00		 DB	 0
$L86789:
  00386	00 00 00 00	 DD	 $L86486
  0038a	00 00 00 00	 DD	 $L86492
  0038e	00 00 00 00	 DD	 $L86488
  00392	00 00 00 00	 DD	 $L86490
  00396	00 00 00 00	 DD	 $L86494
?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ENDP		; CD3DApplication::DisplayErrorMsg
_TEXT	ENDS
END
