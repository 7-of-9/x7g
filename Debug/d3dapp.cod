; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9254 

	TITLE	D3DFrame8.1 Custom\src\d3dapp.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@HDBPGOOH@D3D?5Window?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03KNIPLHMP@HAL?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_03GPMNEAGC@REF?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02JLLOHNJH@SW?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_02LMMGGCAJ@?3?5?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_04CGFJFPFD@none?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@EABGANAD@?$CFd?5samples?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0OH@MILJLCEI@Could?5not?5initialize?5Direct3D?4?5Y@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0KK@JFIPNOIF@This?5sample?5cannot?5run?5in?5a?5desk@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0GA@ECMGHJPC@This?5sample?5requires?5functionali@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0LK@LADJGJGC@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0NK@NAGIAHJH@This?5sample?5requires?5functionali@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0EJ@NBPBFOLL@Generic?5application?5error?4?5Enabl@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BN@OAKIKKMM@?6?6This?5sample?5will?5now?5exit?4?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?OneTimeSceneInit@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?InitDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?RestoreDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FrameMove@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DeleteDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FinalCleanup@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@PBM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@ABU_D3DMATRIX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0CD3DApplication@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?WndProc@@YGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SortModesCallback@@YAHPBX0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?BuildDeviceList@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Resize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ToggleFullscreen@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ForceWindowed@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?AdjustWindowForChange@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?UserSelectNewDevice@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Run@CD3DApplication@@UAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Pause@CD3DApplication@@UAEXH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7CD3DApplication@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

_BSS	SEGMENT
?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA DD 01H DUP (?) ; `CD3DApplication::Pause'::`2'::dwAppPausedCount
_g_pD3DApp DD	01H DUP (?)
?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA DD 01H DUP (?) ; `CD3DApplication::Render3DEnvironment'::`25'::fLastTime
?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA DD 01H DUP (?) ; `CD3DApplication::Render3DEnvironment'::`25'::dwFrames
_BSS	ENDS
PUBLIC	??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@	; `string'
PUBLIC	?AdjustWindowForChange@CD3DApplication@@MAEJXZ	; CD3DApplication::AdjustWindowForChange
PUBLIC	?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z ; CD3DApplication::ConfirmDevice
PUBLIC	?OneTimeSceneInit@CD3DApplication@@MAEJXZ	; CD3DApplication::OneTimeSceneInit
PUBLIC	?InitDeviceObjects@CD3DApplication@@MAEJXZ	; CD3DApplication::InitDeviceObjects
PUBLIC	?RestoreDeviceObjects@CD3DApplication@@MAEJXZ	; CD3DApplication::RestoreDeviceObjects
PUBLIC	?FrameMove@CD3DApplication@@MAEJXZ		; CD3DApplication::FrameMove
PUBLIC	?Render@CD3DApplication@@MAEJXZ			; CD3DApplication::Render
PUBLIC	?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ ; CD3DApplication::InvalidateDeviceObjects
PUBLIC	?DeleteDeviceObjects@CD3DApplication@@MAEJXZ	; CD3DApplication::DeleteDeviceObjects
PUBLIC	?FinalCleanup@CD3DApplication@@MAEJXZ		; CD3DApplication::FinalCleanup
PUBLIC	?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z	; CD3DApplication::Create
PUBLIC	?Run@CD3DApplication@@UAEHXZ			; CD3DApplication::Run
PUBLIC	?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z	; CD3DApplication::MsgProc
PUBLIC	?Pause@CD3DApplication@@UAEXH@Z			; CD3DApplication::Pause
PUBLIC	??0CD3DApplication@@QAE@XZ			; CD3DApplication::CD3DApplication
PUBLIC	??_7CD3DApplication@@6B@			; CD3DApplication::`vftable'
EXTRN	__RTC_InitBase:NEAR
EXTRN	__RTC_Shutdown:NEAR
EXTRN	__fltused:NEAR
;	COMDAT rtc$IMZ
; File c:\dev\x7g\d3dframe8.1 custom\src\d3dapp.cpp
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT ??_7CD3DApplication@@6B@
CONST	SEGMENT
??_7CD3DApplication@@6B@ DD FLAT:?AdjustWindowForChange@CD3DApplication@@MAEJXZ ; CD3DApplication::`vftable'
	DD	FLAT:?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z
	DD	FLAT:?OneTimeSceneInit@CD3DApplication@@MAEJXZ
	DD	FLAT:?InitDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?RestoreDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?FrameMove@CD3DApplication@@MAEJXZ
	DD	FLAT:?Render@CD3DApplication@@MAEJXZ
	DD	FLAT:?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?DeleteDeviceObjects@CD3DApplication@@MAEJXZ
	DD	FLAT:?FinalCleanup@CD3DApplication@@MAEJXZ
	DD	FLAT:?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z
	DD	FLAT:?Run@CD3DApplication@@UAEHXZ
	DD	FLAT:?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z
	DD	FLAT:?Pause@CD3DApplication@@UAEXH@Z
CONST	ENDS
;	COMDAT ??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@
CONST	SEGMENT
??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@ DB 'D3D8 Application', 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ??0CD3DApplication@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0CD3DApplication@@QAE@XZ PROC NEAR			; CD3DApplication::CD3DApplication, COMDAT
; _this$ = ecx

; 37   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET FLAT:??_7CD3DApplication@@6B@

; 38   :     g_pD3DApp           = this;

  0002c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	a3 00 00 00 00	 mov	 DWORD PTR _g_pD3DApp, eax

; 39   : 
; 40   :     m_dwNumAdapters     = 0;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	c7 80 44 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173124], 0

; 41   :     m_dwAdapter         = 0L;

  00041	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00044	c7 80 48 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173128], 0

; 42   :     m_pD3D              = NULL;

  0004e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00051	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0

; 43   :     m_pd3dDevice        = NULL;

  0005b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005e	c7 80 a8 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173224], 0

; 44   :     m_hWnd              = NULL;

  00068	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006b	c7 80 98 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173208], 0

; 45   :     m_hWndFocus         = NULL;

  00075	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00078	c7 80 9c a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173212], 0

; 46   :     m_hMenu             = NULL;

  00082	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00085	c7 80 a0 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173216], 0

; 47   :     m_bActive           = FALSE;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00092	c7 80 50 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173136], 0

; 48   :     m_bReady            = FALSE;

  0009c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009f	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 49   :     m_bHasFocus		= FALSE;

  000a9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ac	c7 80 58 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173144], 0

; 50   :     m_dwCreateFlags     = 0L;

  000b6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b9	c7 80 a0 a5 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173472], 0

; 51   : 
; 52   :     m_bFrameMoving      = TRUE;

  000c3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c6	c7 80 5c a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173148], 1

; 53   :     m_bSingleStep       = FALSE;

  000d0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d3	c7 80 60 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173152], 0

; 54   :     m_fFPS              = 0.0f;

  000dd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e0	c7 80 d0 a5 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173520], 0

; 55   :     m_strDeviceStats[0] = _T('\0');

  000ea	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ed	c6 80 d4 a5 02
	00 00		 mov	 BYTE PTR [eax+173524], 0

; 56   :     m_strFrameStats[0]  = _T('\0');

  000f4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f7	c6 80 2e a6 02
	00 00		 mov	 BYTE PTR [eax+173614], 0

; 57   : 
; 58   :     m_strWindowTitle    = _T("D3D8 Application");

  000fe	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00101	c7 80 88 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173704], OFFSET FLAT:??_C@_0BB@PGNJOJOA@D3D8?5Application?$AA@

; 59   :     m_dwCreationWidth   = 400;

  0010b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010e	c7 80 98 a6 02
	00 90 01 00 00	 mov	 DWORD PTR [eax+173720], 400 ; 00000190H

; 60   :     m_dwCreationHeight  = 300;

  00118	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0011b	c7 80 9c a6 02
	00 2c 01 00 00	 mov	 DWORD PTR [eax+173724], 300 ; 0000012cH

; 61   :     m_bUseDepthBuffer   = FALSE;

  00125	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00128	c7 80 8c a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173708], 0

; 62   :     m_dwMinDepthBits    = 16;

  00132	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00135	c7 80 90 a6 02
	00 10 00 00 00	 mov	 DWORD PTR [eax+173712], 16 ; 00000010H

; 63   :     m_dwMinStencilBits  = 0;

  0013f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00142	c7 80 94 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173716], 0

; 64   :     m_bShowCursorWhenFullscreen = FALSE;

  0014c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014f	c7 80 a0 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173728], 0

; 65   : 
; 66   :     // When m_bClipCursorWhenFullscreen is TRUE, the cursor is limited to
; 67   :     // the device window when the app goes fullscreen.  This prevents users
; 68   :     // from accidentally clicking outside the app window on a multimon system.
; 69   :     // This flag is turned off by default for debug builds, since it makes 
; 70   :     // multimon debugging difficult.
; 71   : #if defined(_DEBUG) || defined(DEBUG)
; 72   :     m_bClipCursorWhenFullscreen = FALSE;

  00159	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0015c	c7 80 a4 a6 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173732], 0

; 73   : #else
; 74   :     m_bClipCursorWhenFullscreen = TRUE;
; 75   : #endif
; 76   : }

  00166	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00169	5f		 pop	 edi
  0016a	5e		 pop	 esi
  0016b	5b		 pop	 ebx
  0016c	8b e5		 mov	 esp, ebp
  0016e	5d		 pop	 ebp
  0016f	c3		 ret	 0
??0CD3DApplication@@QAE@XZ ENDP				; CD3DApplication::CD3DApplication
_TEXT	ENDS
PUBLIC	?WndProc@@YGJPAUHWND__@@IIJ@Z			; WndProc
EXTRN	__RTC_CheckEsp:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?WndProc@@YGJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_hWnd$ = 8
_uMsg$ = 12
_wParam$ = 16
_lParam$ = 20
?WndProc@@YGJPAUHWND__@@IIJ@Z PROC NEAR			; WndProc, COMDAT

; 86   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 87   :     return g_pD3DApp->MsgProc( hWnd, uMsg, wParam, lParam );

  0001e	8b f4		 mov	 esi, esp
  00020	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00023	50		 push	 eax
  00024	8b 4d 10	 mov	 ecx, DWORD PTR _wParam$[ebp]
  00027	51		 push	 ecx
  00028	8b 55 0c	 mov	 edx, DWORD PTR _uMsg$[ebp]
  0002b	52		 push	 edx
  0002c	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0002f	50		 push	 eax
  00030	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR _g_pD3DApp
  00036	8b 11		 mov	 edx, DWORD PTR [ecx]
  00038	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR _g_pD3DApp
  0003e	ff 52 30	 call	 DWORD PTR [edx+48]
  00041	3b f4		 cmp	 esi, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 88   : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00051	3b ec		 cmp	 ebp, esp
  00053	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00058	8b e5		 mov	 esp, ebp
  0005a	5d		 pop	 ebp
  0005b	c2 10 00	 ret	 16			; 00000010H
?WndProc@@YGJPAUHWND__@@IIJ@Z ENDP			; WndProc
_TEXT	ENDS
PUBLIC	??_C@_0L@HDBPGOOH@D3D?5Window?$AA@		; `string'
PUBLIC	?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z	; CD3DApplication::DisplayErrorMsg
PUBLIC	?BuildDeviceList@CD3DApplication@@IAEJXZ	; CD3DApplication::BuildDeviceList
PUBLIC	?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
EXTRN	_Direct3DCreate8@4:NEAR
EXTRN	?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z:NEAR	; DXUtil_Timer
EXTRN	__imp__GetClientRect@8:NEAR
EXTRN	__imp__GetWindowRect@8:NEAR
EXTRN	__imp__AdjustWindowRect@12:NEAR
EXTRN	@_RTC_CheckStackVars@8:NEAR
EXTRN	__imp__GetStockObject@4:NEAR
EXTRN	__imp__LoadMenuA@8:NEAR
EXTRN	__imp__SetRect@20:NEAR
EXTRN	__imp__GetWindowLongA@8:NEAR
EXTRN	__imp__RegisterClassA@4:NEAR
EXTRN	__imp__CreateWindowExA@48:NEAR
EXTRN	__imp__LoadCursorA@8:NEAR
EXTRN	__imp__LoadIconA@8:NEAR
;	COMDAT ??_C@_0L@HDBPGOOH@D3D?5Window?$AA@
CONST	SEGMENT
??_C@_0L@HDBPGOOH@D3D?5Window?$AA@ DB 'D3D Window', 00H	; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z
_TEXT	SEGMENT
_rc$80125 = -92
_wndClass$80116 = -68
_hr$ = -20
_this$ = -8
_hInstance$ = 8
?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z PROC NEAR ; CD3DApplication::Create, COMDAT
; _this$ = ecx

; 98   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd e0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-288]
  00013	b9 48 00 00 00	 mov	 ecx, 72			; 00000048H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 99   :     HRESULT hr;
; 100  : 
; 101  :     // Create the Direct3D object
; 102  :     m_pD3D = Direct3DCreate8( D3D_SDK_VERSION );

  00023	68 dc 00 00 00	 push	 220			; 000000dcH
  00028	e8 00 00 00 00	 call	 _Direct3DCreate8@4
  0002d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00030	89 81 a4 a4 02
	00		 mov	 DWORD PTR [ecx+173220], eax

; 103  :     if( m_pD3D == NULL )

  00036	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00039	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  00040	75 14		 jne	 SHORT $L80111

; 104  :         return DisplayErrorMsg( D3DAPPERR_NODIRECT3D, MSGERR_APPMUSTEXIT );

  00042	6a 01		 push	 1
  00044	68 01 00 00 82	 push	 -2113929215		; 82000001H
  00049	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004c	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00051	e9 19 03 00 00	 jmp	 $L80109
$L80111:

; 105  : 
; 106  :     // Build a list of Direct3D adapters, modes and devices. The
; 107  :     // ConfirmDevice() callback is used to confirm that only devices that
; 108  :     // meet the app's requirements are considered.
; 109  :     if( FAILED( hr = BuildDeviceList() ) )

  00056	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00059	e8 00 00 00 00	 call	 ?BuildDeviceList@CD3DApplication@@IAEJXZ ; CD3DApplication::BuildDeviceList
  0005e	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00061	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00065	7d 4d		 jge	 SHORT $L80113

; 110  :     {
; 111  :         SAFE_RELEASE( m_pD3D );

  00067	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006a	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  00071	74 2e		 je	 SHORT $L80114
  00073	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00076	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0007c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0007f	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00085	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00087	8b f4		 mov	 esi, esp
  00089	50		 push	 eax
  0008a	ff 51 08	 call	 DWORD PTR [ecx+8]
  0008d	3b f4		 cmp	 esi, esp
  0008f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00094	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00097	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L80114:

; 112  :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  000a1	6a 01		 push	 1
  000a3	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  000a6	50		 push	 eax
  000a7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000aa	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  000af	e9 bb 02 00 00	 jmp	 $L80109
$L80113:

; 113  :     }
; 114  : 
; 115  :     // Unless a substitute hWnd has been specified, create a window to
; 116  :     // render into
; 117  :     if( m_hWnd == NULL)

  000b4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b7	83 b8 98 a4 02
	00 00		 cmp	 DWORD PTR [eax+173208], 0
  000be	0f 85 4b 01 00
	00		 jne	 $L80115

; 118  :     {
; 119  :         // Register the windows class
; 120  :         WNDCLASS wndClass = { 0, WndProc, 0, 0, hInstance,

  000c4	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _wndClass$80116[ebp], 0
  000cb	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _wndClass$80116[ebp+4], OFFSET FLAT:?WndProc@@YGJPAUHWND__@@IIJ@Z ; WndProc
  000d2	c7 45 c4 00 00
	00 00		 mov	 DWORD PTR _wndClass$80116[ebp+8], 0
  000d9	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _wndClass$80116[ebp+12], 0
  000e0	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  000e3	89 45 cc	 mov	 DWORD PTR _wndClass$80116[ebp+16], eax

; 121  :                               LoadIcon( hInstance, MAKEINTRESOURCE(IDI_MAIN_ICON) ),

  000e6	8b f4		 mov	 esi, esp
  000e8	6a 65		 push	 101			; 00000065H
  000ea	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  000ed	50		 push	 eax
  000ee	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadIconA@8
  000f4	3b f4		 cmp	 esi, esp
  000f6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000fb	89 45 d0	 mov	 DWORD PTR _wndClass$80116[ebp+20], eax

; 122  :                               LoadCursor( NULL, IDC_ARROW ),

  000fe	8b f4		 mov	 esi, esp
  00100	68 00 7f 00 00	 push	 32512			; 00007f00H
  00105	6a 00		 push	 0
  00107	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadCursorA@8
  0010d	3b f4		 cmp	 esi, esp
  0010f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00114	89 45 d4	 mov	 DWORD PTR _wndClass$80116[ebp+24], eax

; 123  :                               (HBRUSH)GetStockObject(WHITE_BRUSH),

  00117	8b f4		 mov	 esi, esp
  00119	6a 00		 push	 0
  0011b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetStockObject@4
  00121	3b f4		 cmp	 esi, esp
  00123	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00128	89 45 d8	 mov	 DWORD PTR _wndClass$80116[ebp+28], eax

; 124  :                               NULL, _T("D3D Window") };

  0012b	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _wndClass$80116[ebp+32], 0
  00132	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _wndClass$80116[ebp+36], OFFSET FLAT:??_C@_0L@HDBPGOOH@D3D?5Window?$AA@

; 125  :         RegisterClass( &wndClass );

  00139	8b f4		 mov	 esi, esp
  0013b	8d 45 bc	 lea	 eax, DWORD PTR _wndClass$80116[ebp]
  0013e	50		 push	 eax
  0013f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__RegisterClassA@4
  00145	3b f4		 cmp	 esi, esp
  00147	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 126  : 
; 127  :         // Set the window's initial style
; 128  :         m_dwWindowStyle = WS_OVERLAPPED|WS_CAPTION|WS_SYSMENU|WS_THICKFRAME|
; 129  :                           WS_MINIMIZEBOX|WS_VISIBLE;

  0014c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014f	c7 80 a4 a5 02
	00 00 00 ce 10	 mov	 DWORD PTR [eax+173476], 281935872 ; 10ce0000H

; 130  : 
; 131  :         // Set the window's initial width
; 132  :         RECT rc;
; 133  :         SetRect( &rc, 0, 0, m_dwCreationWidth, m_dwCreationHeight );

  00159	8b f4		 mov	 esi, esp
  0015b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0015e	8b 88 9c a6 02
	00		 mov	 ecx, DWORD PTR [eax+173724]
  00164	51		 push	 ecx
  00165	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00168	8b 82 98 a6 02
	00		 mov	 eax, DWORD PTR [edx+173720]
  0016e	50		 push	 eax
  0016f	6a 00		 push	 0
  00171	6a 00		 push	 0
  00173	8d 4d a4	 lea	 ecx, DWORD PTR _rc$80125[ebp]
  00176	51		 push	 ecx
  00177	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetRect@20
  0017d	3b f4		 cmp	 esi, esp
  0017f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 134  :         AdjustWindowRect( &rc, m_dwWindowStyle, TRUE );

  00184	8b f4		 mov	 esi, esp
  00186	6a 01		 push	 1
  00188	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018b	8b 88 a4 a5 02
	00		 mov	 ecx, DWORD PTR [eax+173476]
  00191	51		 push	 ecx
  00192	8d 55 a4	 lea	 edx, DWORD PTR _rc$80125[ebp]
  00195	52		 push	 edx
  00196	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__AdjustWindowRect@12
  0019c	3b f4		 cmp	 esi, esp
  0019e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 135  : 
; 136  :         // Create the render window
; 137  :         m_hWnd = CreateWindow( _T("D3D Window"), m_strWindowTitle, m_dwWindowStyle,
; 138  :                                CW_USEDEFAULT, CW_USEDEFAULT,
; 139  :                                (rc.right-rc.left), (rc.bottom-rc.top), 0L,
; 140  :                                LoadMenu( hInstance, MAKEINTRESOURCE(IDR_MENU) ),
; 141  :                                hInstance, 0L );

  001a3	8b f4		 mov	 esi, esp
  001a5	6a 00		 push	 0
  001a7	8b 45 08	 mov	 eax, DWORD PTR _hInstance$[ebp]
  001aa	50		 push	 eax
  001ab	8b fc		 mov	 edi, esp
  001ad	68 8d 00 00 00	 push	 141			; 0000008dH
  001b2	8b 4d 08	 mov	 ecx, DWORD PTR _hInstance$[ebp]
  001b5	51		 push	 ecx
  001b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadMenuA@8
  001bc	3b fc		 cmp	 edi, esp
  001be	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001c3	50		 push	 eax
  001c4	6a 00		 push	 0
  001c6	8b 55 b0	 mov	 edx, DWORD PTR _rc$80125[ebp+12]
  001c9	2b 55 a8	 sub	 edx, DWORD PTR _rc$80125[ebp+4]
  001cc	52		 push	 edx
  001cd	8b 45 ac	 mov	 eax, DWORD PTR _rc$80125[ebp+8]
  001d0	2b 45 a4	 sub	 eax, DWORD PTR _rc$80125[ebp]
  001d3	50		 push	 eax
  001d4	68 00 00 00 80	 push	 -2147483648		; 80000000H
  001d9	68 00 00 00 80	 push	 -2147483648		; 80000000H
  001de	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001e1	8b 91 a4 a5 02
	00		 mov	 edx, DWORD PTR [ecx+173476]
  001e7	52		 push	 edx
  001e8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001eb	8b 88 88 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173704]
  001f1	51		 push	 ecx
  001f2	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@HDBPGOOH@D3D?5Window?$AA@
  001f7	6a 00		 push	 0
  001f9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateWindowExA@48
  001ff	3b f4		 cmp	 esi, esp
  00201	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00206	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00209	89 82 98 a4 02
	00		 mov	 DWORD PTR [edx+173208], eax
$L80115:

; 142  :     }
; 143  : 
; 144  :     // The focus window can be a specified to be a different window than the
; 145  :     // device window.  If not, use the device window as the focus window.
; 146  :     if( m_hWndFocus == NULL )

  0020f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00212	83 b8 9c a4 02
	00 00		 cmp	 DWORD PTR [eax+173212], 0
  00219	75 12		 jne	 SHORT $L80131

; 147  :         m_hWndFocus = m_hWnd;

  0021b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0021e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00221	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00227	89 90 9c a4 02
	00		 mov	 DWORD PTR [eax+173212], edx
$L80131:

; 148  : 
; 149  :     // Save window properties
; 150  :     m_dwWindowStyle = GetWindowLong( m_hWnd, GWL_STYLE );

  0022d	8b f4		 mov	 esi, esp
  0022f	6a f0		 push	 -16			; fffffff0H
  00231	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00234	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  0023a	51		 push	 ecx
  0023b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowLongA@8
  00241	3b f4		 cmp	 esi, esp
  00243	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00248	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0024b	89 82 a4 a5 02
	00		 mov	 DWORD PTR [edx+173476], eax

; 151  :     GetWindowRect( m_hWnd, &m_rcWindowBounds );

  00251	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00254	05 a8 a5 02 00	 add	 eax, 173480		; 0002a5a8H
  00259	8b f4		 mov	 esi, esp
  0025b	50		 push	 eax
  0025c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0025f	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00265	52		 push	 edx
  00266	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  0026c	3b f4		 cmp	 esi, esp
  0026e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 152  :     GetClientRect( m_hWnd, &m_rcWindowClient );

  00273	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00276	05 b8 a5 02 00	 add	 eax, 173496		; 0002a5b8H
  0027b	8b f4		 mov	 esi, esp
  0027d	50		 push	 eax
  0027e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00281	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00287	52		 push	 edx
  00288	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8
  0028e	3b f4		 cmp	 esi, esp
  00290	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 153  : 
; 154  :     // Initialize the application timer
; 155  :     DXUtil_Timer( TIMER_START );

  00295	6a 01		 push	 1
  00297	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0029c	dd d8		 fstp	 ST(0)

; 156  : 
; 157  :     // Initialize the app's custom scene stuff
; 158  :     if( FAILED( hr = OneTimeSceneInit() ) )

  0029e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a1	8b 10		 mov	 edx, DWORD PTR [eax]
  002a3	8b f4		 mov	 esi, esp
  002a5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002a8	ff 52 08	 call	 DWORD PTR [edx+8]
  002ab	3b f4		 cmp	 esi, esp
  002ad	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002b2	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  002b5	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  002b9	7d 4a		 jge	 SHORT $L80133

; 159  :     {
; 160  :         SAFE_RELEASE( m_pD3D );

  002bb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002be	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  002c5	74 2e		 je	 SHORT $L80134
  002c7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002ca	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  002d0	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002d3	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  002d9	8b 09		 mov	 ecx, DWORD PTR [ecx]
  002db	8b f4		 mov	 esi, esp
  002dd	50		 push	 eax
  002de	ff 51 08	 call	 DWORD PTR [ecx+8]
  002e1	3b f4		 cmp	 esi, esp
  002e3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002e8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002eb	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L80134:

; 161  :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  002f5	6a 01		 push	 1
  002f7	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  002fa	50		 push	 eax
  002fb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002fe	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00303	eb 6a		 jmp	 SHORT $L80109
$L80133:

; 162  :     }
; 163  : 
; 164  :     // Initialize the 3D environment for the app
; 165  :     if( FAILED( hr = Initialize3DEnvironment() ) )

  00305	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00308	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  0030d	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00310	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00314	7d 4a		 jge	 SHORT $L80136

; 166  :     {
; 167  :         SAFE_RELEASE( m_pD3D );

  00316	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00319	83 b8 a4 a4 02
	00 00		 cmp	 DWORD PTR [eax+173220], 0
  00320	74 2e		 je	 SHORT $L80137
  00322	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00325	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0032b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0032e	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00334	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00336	8b f4		 mov	 esi, esp
  00338	50		 push	 eax
  00339	ff 51 08	 call	 DWORD PTR [ecx+8]
  0033c	3b f4		 cmp	 esi, esp
  0033e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00343	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00346	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L80137:

; 168  :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  00350	6a 01		 push	 1
  00352	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00355	50		 push	 eax
  00356	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00359	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  0035e	eb 0f		 jmp	 SHORT $L80109
$L80136:

; 169  :     }
; 170  : 
; 171  :     // The app is ready to go
; 172  :     m_bReady = TRUE;

  00360	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00363	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1

; 173  : 
; 174  :     return S_OK;

  0036d	33 c0		 xor	 eax, eax
$L80109:

; 175  : }

  0036f	52		 push	 edx
  00370	8b cd		 mov	 ecx, ebp
  00372	50		 push	 eax
  00373	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81139
  00379	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0037e	58		 pop	 eax
  0037f	5a		 pop	 edx
  00380	5f		 pop	 edi
  00381	5e		 pop	 esi
  00382	5b		 pop	 ebx
  00383	81 c4 20 01 00
	00		 add	 esp, 288		; 00000120H
  00389	3b ec		 cmp	 ebp, esp
  0038b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00390	8b e5		 mov	 esp, ebp
  00392	5d		 pop	 ebp
  00393	c2 04 00	 ret	 4
$L81139:
  00396	02 00 00 00	 DD	 2
  0039a	00 00 00 00	 DD	 $L81138
$L81138:
  0039e	bc ff ff ff	 DD	 -68			; ffffffbcH
  003a2	28 00 00 00	 DD	 40			; 00000028H
  003a6	00 00 00 00	 DD	 $L81136
  003aa	a4 ff ff ff	 DD	 -92			; ffffffa4H
  003ae	10 00 00 00	 DD	 16			; 00000010H
  003b2	00 00 00 00	 DD	 $L81137
$L81137:
  003b6	72		 DB	 114			; 00000072H
  003b7	63		 DB	 99			; 00000063H
  003b8	00		 DB	 0
$L81136:
  003b9	77		 DB	 119			; 00000077H
  003ba	6e		 DB	 110			; 0000006eH
  003bb	64		 DB	 100			; 00000064H
  003bc	43		 DB	 67			; 00000043H
  003bd	6c		 DB	 108			; 0000006cH
  003be	61		 DB	 97			; 00000061H
  003bf	73		 DB	 115			; 00000073H
  003c0	73		 DB	 115			; 00000073H
  003c1	00		 DB	 0
?Create@CD3DApplication@@UAEJPAUHINSTANCE__@@@Z ENDP	; CD3DApplication::Create
_TEXT	ENDS
PUBLIC	??_C@_03KNIPLHMP@HAL?$AA@			; `string'
PUBLIC	??_C@_03GPMNEAGC@REF?$AA@			; `string'
PUBLIC	?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z ; CD3DApplication::FindDepthStencilFormat
EXTRN	__RTC_UninitUse:NEAR
EXTRN	_qsort:NEAR
;	COMDAT ??_C@_03KNIPLHMP@HAL?$AA@
CONST	SEGMENT
??_C@_03KNIPLHMP@HAL?$AA@ DB 'HAL', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_03GPMNEAGC@REF?$AA@
CONST	SEGMENT
??_C@_03GPMNEAGC@REF?$AA@ DB 'REF', 00H			; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?BuildDeviceList@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
$T81143 = -2469
_d$80252 = -2268
_a$80248 = -2256
_f$80231 = -2244
_m$80227 = -2232
_f$80203 = -2220
_fmtDepthStencil$80202 = -2208
_dwBehavior$80201 = -2120
_bFormatConfirmed$80200 = -2032
_pDevice$80199 = -1944
_iDevice$80195 = -1932
_f$80188 = -1920
_m$80182 = -1908
_DisplayMode$80179 = -1896
_iMode$80175 = -1872
_dwNumAdapterModes$80174 = -1860
_dwNumModes$80173 = -1848
_dwNumFormats$80172 = -1836
_formats$80171 = -1824
_modes$80170 = -1736
_pAdapter$80169 = -124
_iAdapter$80165 = -112
_bHALIsSampleCompatible$ = -100
_bHALIsDesktopCompatible$ = -88
_bHALIsWindowedCompatible$ = -76
_bHALExists$ = -64
_DeviceTypes$ = -52
_strDeviceDescs$ = -36
_dwNumDeviceTypes$ = -20
_this$ = -8
?BuildDeviceList@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::BuildDeviceList, COMDAT
; _this$ = ecx

; 207  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec ac 09 00
	00		 sub	 esp, 2476		; 000009acH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 54 f6 ff
	ff		 lea	 edi, DWORD PTR [ebp-2476]
  00013	b9 6b 02 00 00	 mov	 ecx, 619		; 0000026bH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 208  :     const DWORD dwNumDeviceTypes = 2;

  00023	c7 45 ec 02 00
	00 00		 mov	 DWORD PTR _dwNumDeviceTypes$[ebp], 2

; 209  :     const TCHAR* strDeviceDescs[] = { _T("HAL"), _T("REF") };

  0002a	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _strDeviceDescs$[ebp], OFFSET FLAT:??_C@_03KNIPLHMP@HAL?$AA@
  00031	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _strDeviceDescs$[ebp+4], OFFSET FLAT:??_C@_03GPMNEAGC@REF?$AA@

; 210  :     const D3DDEVTYPE DeviceTypes[] = { D3DDEVTYPE_HAL, D3DDEVTYPE_REF };

  00038	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _DeviceTypes$[ebp], 1
  0003f	c7 45 d0 02 00
	00 00		 mov	 DWORD PTR _DeviceTypes$[ebp+4], 2

; 211  : 
; 212  :     BOOL bHALExists = FALSE;

  00046	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _bHALExists$[ebp], 0

; 213  :     BOOL bHALIsWindowedCompatible = FALSE;

  0004d	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _bHALIsWindowedCompatible$[ebp], 0

; 214  :     BOOL bHALIsDesktopCompatible = FALSE;

  00054	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _bHALIsDesktopCompatible$[ebp], 0

; 215  :     BOOL bHALIsSampleCompatible = FALSE;

  0005b	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _bHALIsSampleCompatible$[ebp], 0

; 216  : 
; 217  :     // Loop through all the adapters on the system (usually, there's just one
; 218  :     // unless more than one graphics card is present).
; 219  :     for( UINT iAdapter = 0; iAdapter < m_pD3D->GetAdapterCount(); iAdapter++ )

  00062	c7 45 90 00 00
	00 00		 mov	 DWORD PTR _iAdapter$80165[ebp], 0
  00069	eb 09		 jmp	 SHORT $L80166
$L80167:
  0006b	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$80165[ebp]
  0006e	83 c0 01	 add	 eax, 1
  00071	89 45 90	 mov	 DWORD PTR _iAdapter$80165[ebp], eax
$L80166:
  00074	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00077	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0007d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00080	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00086	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00088	8b f4		 mov	 esi, esp
  0008a	50		 push	 eax
  0008b	ff 51 10	 call	 DWORD PTR [ecx+16]
  0008e	3b f4		 cmp	 esi, esp
  00090	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00095	39 45 90	 cmp	 DWORD PTR _iAdapter$80165[ebp], eax
  00098	0f 83 76 0a 00
	00		 jae	 $L80168

; 220  :     {
; 221  :         // Fill in adapter info
; 222  :         D3DAdapterInfo* pAdapter  = &m_Adapters[m_dwNumAdapters];

  0009e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000a1	8b 88 44 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173124]
  000a7	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  000ad	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b0	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  000b4	89 45 84	 mov	 DWORD PTR _pAdapter$80169[ebp], eax

; 223  :         m_pD3D->GetAdapterIdentifier( iAdapter, D3DENUM_NO_WHQL_LEVEL, &pAdapter->d3dAdapterIdentifier );

  000b7	8b f4		 mov	 esi, esp
  000b9	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  000bc	50		 push	 eax
  000bd	6a 02		 push	 2
  000bf	8b 4d 90	 mov	 ecx, DWORD PTR _iAdapter$80165[ebp]
  000c2	51		 push	 ecx
  000c3	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c6	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000cc	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000cf	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  000d5	8b 00		 mov	 eax, DWORD PTR [eax]
  000d7	52		 push	 edx
  000d8	ff 50 14	 call	 DWORD PTR [eax+20]
  000db	3b f4		 cmp	 esi, esp
  000dd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 224  :         m_pD3D->GetAdapterDisplayMode( iAdapter, &pAdapter->d3ddmDesktop );

  000e2	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  000e5	05 2c 04 00 00	 add	 eax, 1068		; 0000042cH
  000ea	8b f4		 mov	 esi, esp
  000ec	50		 push	 eax
  000ed	8b 4d 90	 mov	 ecx, DWORD PTR _iAdapter$80165[ebp]
  000f0	51		 push	 ecx
  000f1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000f4	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000fa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000fd	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00103	8b 00		 mov	 eax, DWORD PTR [eax]
  00105	52		 push	 edx
  00106	ff 50 20	 call	 DWORD PTR [eax+32]
  00109	3b f4		 cmp	 esi, esp
  0010b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 225  :         pAdapter->dwNumDevices    = 0;

  00110	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  00113	c7 80 3c 04 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1084], 0

; 226  :         pAdapter->dwCurrentDevice = 0;

  0011d	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  00120	c7 80 9c 43 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+17308], 0

; 227  : 
; 228  :         // Enumerate all display modes on this adapter
; 229  :         D3DDISPLAYMODE modes[100];
; 230  :         D3DFORMAT      formats[20];
; 231  :         DWORD dwNumFormats      = 0;

  0012a	c7 85 d4 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _dwNumFormats$80172[ebp], 0

; 232  :         DWORD dwNumModes        = 0;

  00134	c7 85 c8 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _dwNumModes$80173[ebp], 0

; 233  :         DWORD dwNumAdapterModes = m_pD3D->GetAdapterModeCount( iAdapter );

  0013e	8b f4		 mov	 esi, esp
  00140	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$80165[ebp]
  00143	50		 push	 eax
  00144	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00147	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0014d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00150	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00156	8b 12		 mov	 edx, DWORD PTR [edx]
  00158	51		 push	 ecx
  00159	ff 52 18	 call	 DWORD PTR [edx+24]
  0015c	3b f4		 cmp	 esi, esp
  0015e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00163	89 85 bc f8 ff
	ff		 mov	 DWORD PTR _dwNumAdapterModes$80174[ebp], eax

; 234  : 
; 235  :         // Add the adapter's current desktop format to the list of formats
; 236  :         formats[dwNumFormats++] = pAdapter->d3ddmDesktop.Format;

  00169	8b 85 d4 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  0016f	8b 4d 84	 mov	 ecx, DWORD PTR _pAdapter$80169[ebp]
  00172	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00178	89 94 85 e0 f8
	ff ff		 mov	 DWORD PTR _formats$80171[ebp+eax*4], edx
  0017f	8b 85 d4 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  00185	83 c0 01	 add	 eax, 1
  00188	89 85 d4 f8 ff
	ff		 mov	 DWORD PTR _dwNumFormats$80172[ebp], eax

; 237  : 
; 238  :         for( UINT iMode = 0; iMode < dwNumAdapterModes; iMode++ )

  0018e	c7 85 b0 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _iMode$80175[ebp], 0
  00198	eb 0f		 jmp	 SHORT $L80176
$L80177:
  0019a	8b 85 b0 f8 ff
	ff		 mov	 eax, DWORD PTR _iMode$80175[ebp]
  001a0	83 c0 01	 add	 eax, 1
  001a3	89 85 b0 f8 ff
	ff		 mov	 DWORD PTR _iMode$80175[ebp], eax
$L80176:
  001a9	8b 85 b0 f8 ff
	ff		 mov	 eax, DWORD PTR _iMode$80175[ebp]
  001af	3b 85 bc f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumAdapterModes$80174[ebp]
  001b5	0f 83 b0 01 00
	00		 jae	 $L80178

; 239  :         {
; 240  :             // Get the display mode attributes
; 241  :             D3DDISPLAYMODE DisplayMode;
; 242  :             m_pD3D->EnumAdapterModes( iAdapter, iMode, &DisplayMode );

  001bb	8b f4		 mov	 esi, esp
  001bd	8d 85 98 f8 ff
	ff		 lea	 eax, DWORD PTR _DisplayMode$80179[ebp]
  001c3	50		 push	 eax
  001c4	8b 8d b0 f8 ff
	ff		 mov	 ecx, DWORD PTR _iMode$80175[ebp]
  001ca	51		 push	 ecx
  001cb	8b 55 90	 mov	 edx, DWORD PTR _iAdapter$80165[ebp]
  001ce	52		 push	 edx
  001cf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d2	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  001d8	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001db	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  001e1	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001e3	50		 push	 eax
  001e4	ff 51 1c	 call	 DWORD PTR [ecx+28]
  001e7	3b f4		 cmp	 esi, esp
  001e9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 243  : 
; 244  :             // Filter out low-resolution modes
; 245  :             if( DisplayMode.Width  < 640 || DisplayMode.Height < 400 )

  001ee	81 bd 98 f8 ff
	ff 80 02 00 00	 cmp	 DWORD PTR _DisplayMode$80179[ebp], 640 ; 00000280H
  001f8	72 0c		 jb	 SHORT $L80181
  001fa	81 bd 9c f8 ff
	ff 90 01 00 00	 cmp	 DWORD PTR _DisplayMode$80179[ebp+4], 400 ; 00000190H
  00204	73 02		 jae	 SHORT $L80180
$L80181:

; 246  :                 continue;

  00206	eb 92		 jmp	 SHORT $L80177
$L80180:

; 247  : 
; 248  :             // Check if the mode already exists (to filter out refresh rates)
; 249  :             for( DWORD m=0L; m<dwNumModes; m++ )

  00208	c7 85 8c f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$80182[ebp], 0
  00212	eb 0f		 jmp	 SHORT $L80183
$L80184:
  00214	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$80182[ebp]
  0021a	83 c0 01	 add	 eax, 1
  0021d	89 85 8c f8 ff
	ff		 mov	 DWORD PTR _m$80182[ebp], eax
$L80183:
  00223	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$80182[ebp]
  00229	3b 85 c8 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumModes$80173[ebp]
  0022f	73 4c		 jae	 SHORT $L80185

; 250  :             {
; 251  :                 if( ( modes[m].Width  == DisplayMode.Width  ) &&
; 252  :                     ( modes[m].Height == DisplayMode.Height ) &&
; 253  :                     ( modes[m].Format == DisplayMode.Format ) )

  00231	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$80182[ebp]
  00237	c1 e0 04	 shl	 eax, 4
  0023a	8b 8c 05 38 f9
	ff ff		 mov	 ecx, DWORD PTR _modes$80170[ebp+eax]
  00241	3b 8d 98 f8 ff
	ff		 cmp	 ecx, DWORD PTR _DisplayMode$80179[ebp]
  00247	75 32		 jne	 SHORT $L80186
  00249	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$80182[ebp]
  0024f	c1 e0 04	 shl	 eax, 4
  00252	8b 8c 05 3c f9
	ff ff		 mov	 ecx, DWORD PTR _modes$80170[ebp+eax+4]
  00259	3b 8d 9c f8 ff
	ff		 cmp	 ecx, DWORD PTR _DisplayMode$80179[ebp+4]
  0025f	75 1a		 jne	 SHORT $L80186
  00261	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$80182[ebp]
  00267	c1 e0 04	 shl	 eax, 4
  0026a	8b 8c 05 44 f9
	ff ff		 mov	 ecx, DWORD PTR _modes$80170[ebp+eax+12]
  00271	3b 8d a4 f8 ff
	ff		 cmp	 ecx, DWORD PTR _DisplayMode$80179[ebp+12]
  00277	75 02		 jne	 SHORT $L80186

; 254  :                     break;

  00279	eb 02		 jmp	 SHORT $L80185
$L80186:

; 255  :             }

  0027b	eb 97		 jmp	 SHORT $L80184
$L80185:

; 256  : 
; 257  :             // If we found a new mode, add it to the list of modes
; 258  :             if( m == dwNumModes )

  0027d	8b 85 8c f8 ff
	ff		 mov	 eax, DWORD PTR _m$80182[ebp]
  00283	3b 85 c8 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumModes$80173[ebp]
  00289	0f 85 d7 00 00
	00		 jne	 $L80187

; 259  :             {
; 260  :                 modes[dwNumModes].Width       = DisplayMode.Width;

  0028f	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$80173[ebp]
  00295	c1 e0 04	 shl	 eax, 4
  00298	8b 8d 98 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$80179[ebp]
  0029e	89 8c 05 38 f9
	ff ff		 mov	 DWORD PTR _modes$80170[ebp+eax], ecx

; 261  :                 modes[dwNumModes].Height      = DisplayMode.Height;

  002a5	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$80173[ebp]
  002ab	c1 e0 04	 shl	 eax, 4
  002ae	8b 8d 9c f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$80179[ebp+4]
  002b4	89 8c 05 3c f9
	ff ff		 mov	 DWORD PTR _modes$80170[ebp+eax+4], ecx

; 262  :                 modes[dwNumModes].Format      = DisplayMode.Format;

  002bb	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$80173[ebp]
  002c1	c1 e0 04	 shl	 eax, 4
  002c4	8b 8d a4 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$80179[ebp+12]
  002ca	89 8c 05 44 f9
	ff ff		 mov	 DWORD PTR _modes$80170[ebp+eax+12], ecx

; 263  :                 modes[dwNumModes].RefreshRate = 0;

  002d1	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$80173[ebp]
  002d7	c1 e0 04	 shl	 eax, 4
  002da	c7 84 05 40 f9
	ff ff 00 00 00
	00		 mov	 DWORD PTR _modes$80170[ebp+eax+8], 0

; 264  :                 dwNumModes++;

  002e5	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$80173[ebp]
  002eb	83 c0 01	 add	 eax, 1
  002ee	89 85 c8 f8 ff
	ff		 mov	 DWORD PTR _dwNumModes$80173[ebp], eax

; 265  : 
; 266  :                 // Check if the mode's format already exists
; 267  :                 for( DWORD f=0; f<dwNumFormats; f++ )

  002f4	c7 85 80 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _f$80188[ebp], 0
  002fe	eb 0f		 jmp	 SHORT $L80189
$L80190:
  00300	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$80188[ebp]
  00306	83 c0 01	 add	 eax, 1
  00309	89 85 80 f8 ff
	ff		 mov	 DWORD PTR _f$80188[ebp], eax
$L80189:
  0030f	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$80188[ebp]
  00315	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  0031b	73 19		 jae	 SHORT $L80191

; 268  :                 {
; 269  :                     if( DisplayMode.Format == formats[f] )

  0031d	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$80188[ebp]
  00323	8b 8d a4 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$80179[ebp+12]
  00329	3b 8c 85 e0 f8
	ff ff		 cmp	 ecx, DWORD PTR _formats$80171[ebp+eax*4]
  00330	75 02		 jne	 SHORT $L80192

; 270  :                         break;

  00332	eb 02		 jmp	 SHORT $L80191
$L80192:

; 271  :                 }

  00334	eb ca		 jmp	 SHORT $L80190
$L80191:

; 272  : 
; 273  :                 // If the format is new, add it to the list
; 274  :                 if( f== dwNumFormats )

  00336	8b 85 80 f8 ff
	ff		 mov	 eax, DWORD PTR _f$80188[ebp]
  0033c	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  00342	75 22		 jne	 SHORT $L80187

; 275  :                     formats[dwNumFormats++] = DisplayMode.Format;

  00344	8b 85 d4 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  0034a	8b 8d a4 f8 ff
	ff		 mov	 ecx, DWORD PTR _DisplayMode$80179[ebp+12]
  00350	89 8c 85 e0 f8
	ff ff		 mov	 DWORD PTR _formats$80171[ebp+eax*4], ecx
  00357	8b 95 d4 f8 ff
	ff		 mov	 edx, DWORD PTR _dwNumFormats$80172[ebp]
  0035d	83 c2 01	 add	 edx, 1
  00360	89 95 d4 f8 ff
	ff		 mov	 DWORD PTR _dwNumFormats$80172[ebp], edx
$L80187:

; 276  :             }
; 277  :         }

  00366	e9 2f fe ff ff	 jmp	 $L80177
$L80178:

; 278  : 
; 279  :         // Sort the list of display modes (by format, then width, then height)
; 280  :         qsort( modes, dwNumModes, sizeof(D3DDISPLAYMODE), SortModesCallback );

  0036b	68 00 00 00 00	 push	 OFFSET FLAT:?SortModesCallback@@YAHPBX0@Z ; SortModesCallback
  00370	6a 10		 push	 16			; 00000010H
  00372	8b 85 c8 f8 ff
	ff		 mov	 eax, DWORD PTR _dwNumModes$80173[ebp]
  00378	50		 push	 eax
  00379	8d 8d 38 f9 ff
	ff		 lea	 ecx, DWORD PTR _modes$80170[ebp]
  0037f	51		 push	 ecx
  00380	e8 00 00 00 00	 call	 _qsort
  00385	83 c4 10	 add	 esp, 16			; 00000010H

; 281  : 
; 282  :         // Add devices to adapter
; 283  :         for( UINT iDevice = 0; iDevice < dwNumDeviceTypes; iDevice++ )

  00388	c7 85 74 f8 ff
	ff 00 00 00 00	 mov	 DWORD PTR _iDevice$80195[ebp], 0
  00392	eb 0f		 jmp	 SHORT $L80196
$L80197:
  00394	8b 85 74 f8 ff
	ff		 mov	 eax, DWORD PTR _iDevice$80195[ebp]
  0039a	83 c0 01	 add	 eax, 1
  0039d	89 85 74 f8 ff
	ff		 mov	 DWORD PTR _iDevice$80195[ebp], eax
$L80196:
  003a3	83 bd 74 f8 ff
	ff 02		 cmp	 DWORD PTR _iDevice$80195[ebp], 2
  003aa	0f 83 3e 07 00
	00		 jae	 $L80198
  003b0	c6 85 5b f6 ff
	ff 00		 mov	 BYTE PTR $T81143[ebp], 0

; 284  :         {
; 285  :             // Fill in device info
; 286  :             D3DDeviceInfo* pDevice;
; 287  :             pDevice                 = &pAdapter->devices[pAdapter->dwNumDevices];

  003b7	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  003ba	8b 88 3c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1084]
  003c0	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  003c6	8b 55 84	 mov	 edx, DWORD PTR _pAdapter$80169[ebp]
  003c9	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  003d0	89 85 68 f8 ff
	ff		 mov	 DWORD PTR _pDevice$80199[ebp], eax

; 288  :             pDevice->DeviceType     = DeviceTypes[iDevice];

  003d6	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  003dc	8b 8d 74 f8 ff
	ff		 mov	 ecx, DWORD PTR _iDevice$80195[ebp]
  003e2	8b 54 8d cc	 mov	 edx, DWORD PTR _DeviceTypes$[ebp+ecx*4]
  003e6	89 10		 mov	 DWORD PTR [eax], edx

; 289  :             m_pD3D->GetDeviceCaps( iAdapter, DeviceTypes[iDevice], &pDevice->d3dCaps );

  003e8	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  003ee	83 c0 04	 add	 eax, 4
  003f1	8b f4		 mov	 esi, esp
  003f3	50		 push	 eax
  003f4	8b 8d 74 f8 ff
	ff		 mov	 ecx, DWORD PTR _iDevice$80195[ebp]
  003fa	8b 54 8d cc	 mov	 edx, DWORD PTR _DeviceTypes$[ebp+ecx*4]
  003fe	52		 push	 edx
  003ff	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$80165[ebp]
  00402	50		 push	 eax
  00403	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00406	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0040c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0040f	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00415	8b 12		 mov	 edx, DWORD PTR [edx]
  00417	51		 push	 ecx
  00418	ff 52 34	 call	 DWORD PTR [edx+52]
  0041b	3b f4		 cmp	 esi, esp
  0041d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 290  :             pDevice->strDesc        = strDeviceDescs[iDevice];

  00422	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00428	8b 8d 74 f8 ff
	ff		 mov	 ecx, DWORD PTR _iDevice$80195[ebp]
  0042e	8b 54 8d dc	 mov	 edx, DWORD PTR _strDeviceDescs$[ebp+ecx*4]
  00432	89 90 d8 00 00
	00		 mov	 DWORD PTR [eax+216], edx

; 291  :             pDevice->dwNumModes     = 0;

  00438	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0043e	c7 80 e0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+224], 0

; 292  :             pDevice->dwCurrentMode  = 0;

  00448	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0044e	c7 80 9c 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3228], 0

; 293  :             pDevice->bCanDoWindowed = FALSE;

  00458	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0045e	c7 80 dc 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+220], 0

; 294  :             pDevice->bWindowed      = FALSE;

  00468	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0046e	c7 80 a0 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3232], 0

; 295  :             pDevice->MultiSampleTypeFullscreen = D3DMULTISAMPLE_NONE;

  00478	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0047e	c7 80 a8 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3240], 0

; 296  :             pDevice->MultiSampleTypeWindowed = D3DMULTISAMPLE_NONE;

  00488	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0048e	c7 80 a4 0c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+3236], 0

; 297  : 
; 298  :             // Examine each format supported by the adapter to see if it will
; 299  :             // work with this device and meets the needs of the application.
; 300  :             BOOL  bFormatConfirmed[20];
; 301  :             DWORD dwBehavior[20];
; 302  :             D3DFORMAT fmtDepthStencil[20];
; 303  : 
; 304  :             for( DWORD f=0; f<dwNumFormats; f++ )

  00498	c7 85 54 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _f$80203[ebp], 0
  004a2	eb 0f		 jmp	 SHORT $L80204
$L80205:
  004a4	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  004aa	83 c0 01	 add	 eax, 1
  004ad	89 85 54 f7 ff
	ff		 mov	 DWORD PTR _f$80203[ebp], eax
$L80204:
  004b3	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  004b9	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  004bf	0f 83 3a 03 00
	00		 jae	 $L80206

; 305  :             {
; 306  :                 bFormatConfirmed[f] = FALSE;

  004c5	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  004cc	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  004d2	c7 84 85 10 f8
	ff ff 00 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 0

; 307  :                 fmtDepthStencil[f] = D3DFMT_UNKNOWN;

  004dd	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  004e3	c7 84 85 60 f7
	ff ff 00 00 00
	00		 mov	 DWORD PTR _fmtDepthStencil$80202[ebp+eax*4], 0

; 308  : 
; 309  :                 // Skip formats that cannot be used as render targets on this device
; 310  :                 if( FAILED( m_pD3D->CheckDeviceType( iAdapter, pDevice->DeviceType,
; 311  :                                                      formats[f], formats[f], FALSE ) ) )

  004ee	8b f4		 mov	 esi, esp
  004f0	6a 00		 push	 0
  004f2	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  004f8	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$80171[ebp+eax*4]
  004ff	51		 push	 ecx
  00500	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$80203[ebp]
  00506	8b 84 95 e0 f8
	ff ff		 mov	 eax, DWORD PTR _formats$80171[ebp+edx*4]
  0050d	50		 push	 eax
  0050e	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  00514	8b 11		 mov	 edx, DWORD PTR [ecx]
  00516	52		 push	 edx
  00517	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$80165[ebp]
  0051a	50		 push	 eax
  0051b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0051e	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00524	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00527	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0052d	8b 12		 mov	 edx, DWORD PTR [edx]
  0052f	51		 push	 ecx
  00530	ff 52 24	 call	 DWORD PTR [edx+36]
  00533	3b f4		 cmp	 esi, esp
  00535	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0053a	85 c0		 test	 eax, eax
  0053c	7d 05		 jge	 SHORT $L80208

; 312  :                     continue;

  0053e	e9 61 ff ff ff	 jmp	 $L80205
$L80208:

; 313  : 
; 314  :                 if( pDevice->DeviceType == D3DDEVTYPE_HAL )

  00543	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00549	83 38 01	 cmp	 DWORD PTR [eax], 1
  0054c	75 31		 jne	 SHORT $L80209

; 315  :                 {
; 316  :                     // This system has a HAL device
; 317  :                     bHALExists = TRUE;

  0054e	c7 45 c0 01 00
	00 00		 mov	 DWORD PTR _bHALExists$[ebp], 1

; 318  : 
; 319  :                     if( pDevice->d3dCaps.Caps2 & D3DCAPS2_CANRENDERWINDOWED )

  00555	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0055b	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0055e	81 e1 00 00 08
	00		 and	 ecx, 524288		; 00080000H
  00564	85 c9		 test	 ecx, ecx
  00566	74 17		 je	 SHORT $L80209

; 320  :                     {
; 321  :                         // HAL can run in a window for some mode
; 322  :                         bHALIsWindowedCompatible = TRUE;

  00568	c7 45 b4 01 00
	00 00		 mov	 DWORD PTR _bHALIsWindowedCompatible$[ebp], 1

; 323  : 
; 324  :                         if( f == 0 )

  0056f	83 bd 54 f7 ff
	ff 00		 cmp	 DWORD PTR _f$80203[ebp], 0
  00576	75 07		 jne	 SHORT $L80209

; 325  :                         {
; 326  :                             // HAL can run in a window for the current desktop mode
; 327  :                             bHALIsDesktopCompatible = TRUE;

  00578	c7 45 a8 01 00
	00 00		 mov	 DWORD PTR _bHALIsDesktopCompatible$[ebp], 1
$L80209:

; 328  :                         }
; 329  :                     }
; 330  :                 }
; 331  : 
; 332  :                 // Confirm the device/format for HW vertex processing
; 333  :                 if( pDevice->d3dCaps.DevCaps&D3DDEVCAPS_HWTRANSFORMANDLIGHT )

  0057f	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00585	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00588	81 e1 00 00 01
	00		 and	 ecx, 65536		; 00010000H
  0058e	85 c9		 test	 ecx, ecx
  00590	0f 84 76 01 00
	00		 je	 $L80212

; 334  :                 {
; 335  :                     if( pDevice->d3dCaps.DevCaps&D3DDEVCAPS_PUREDEVICE )

  00596	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0059c	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0059f	81 e1 00 00 10
	00		 and	 ecx, 1048576		; 00100000H
  005a5	85 c9		 test	 ecx, ecx
  005a7	74 67		 je	 SHORT $L80213

; 336  :                     {
; 337  :                         dwBehavior[f] = D3DCREATE_HARDWARE_VERTEXPROCESSING |
; 338  :                                         D3DCREATE_PUREDEVICE;

  005a9	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  005af	c7 84 85 b8 f7
	ff ff 50 00 00
	00		 mov	 DWORD PTR _dwBehavior$80201[ebp+eax*4], 80 ; 00000050H

; 339  : 
; 340  :                         if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 341  :                                                       formats[f] ) ) )

  005ba	8b f4		 mov	 esi, esp
  005bc	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  005c2	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$80171[ebp+eax*4]
  005c9	51		 push	 ecx
  005ca	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$80203[ebp]
  005d0	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$80201[ebp+edx*4]
  005d7	50		 push	 eax
  005d8	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  005de	83 c1 04	 add	 ecx, 4
  005e1	51		 push	 ecx
  005e2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  005e5	8b 02		 mov	 eax, DWORD PTR [edx]
  005e7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  005ea	ff 50 04	 call	 DWORD PTR [eax+4]
  005ed	3b f4		 cmp	 esi, esp
  005ef	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005f4	85 c0		 test	 eax, eax
  005f6	7c 18		 jl	 SHORT $L80213

; 342  :                             bFormatConfirmed[f] = TRUE;

  005f8	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  005ff	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00605	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 1
$L80213:

; 343  :                     }
; 344  : 
; 345  :                     if ( FALSE == bFormatConfirmed[f] )

  00610	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  00617	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  0061d	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 0
  00625	75 67		 jne	 SHORT $L80216

; 346  :                     {
; 347  :                         dwBehavior[f] = D3DCREATE_HARDWARE_VERTEXPROCESSING;

  00627	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  0062d	c7 84 85 b8 f7
	ff ff 40 00 00
	00		 mov	 DWORD PTR _dwBehavior$80201[ebp+eax*4], 64 ; 00000040H

; 348  : 
; 349  :                         if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 350  :                                                       formats[f] ) ) )

  00638	8b f4		 mov	 esi, esp
  0063a	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00640	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$80171[ebp+eax*4]
  00647	51		 push	 ecx
  00648	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$80203[ebp]
  0064e	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$80201[ebp+edx*4]
  00655	50		 push	 eax
  00656	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  0065c	83 c1 04	 add	 ecx, 4
  0065f	51		 push	 ecx
  00660	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00663	8b 02		 mov	 eax, DWORD PTR [edx]
  00665	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00668	ff 50 04	 call	 DWORD PTR [eax+4]
  0066b	3b f4		 cmp	 esi, esp
  0066d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00672	85 c0		 test	 eax, eax
  00674	7c 18		 jl	 SHORT $L80216

; 351  :                             bFormatConfirmed[f] = TRUE;

  00676	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  0067d	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00683	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 1
$L80216:

; 352  :                     }
; 353  : 
; 354  :                     if ( FALSE == bFormatConfirmed[f] )

  0068e	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  00695	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  0069b	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 0
  006a3	75 67		 jne	 SHORT $L80212

; 355  :                     {
; 356  :                         dwBehavior[f] = D3DCREATE_MIXED_VERTEXPROCESSING;

  006a5	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  006ab	c7 84 85 b8 f7
	ff ff 80 00 00
	00		 mov	 DWORD PTR _dwBehavior$80201[ebp+eax*4], 128 ; 00000080H

; 357  : 
; 358  :                         if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 359  :                                                       formats[f] ) ) )

  006b6	8b f4		 mov	 esi, esp
  006b8	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  006be	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$80171[ebp+eax*4]
  006c5	51		 push	 ecx
  006c6	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$80203[ebp]
  006cc	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$80201[ebp+edx*4]
  006d3	50		 push	 eax
  006d4	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  006da	83 c1 04	 add	 ecx, 4
  006dd	51		 push	 ecx
  006de	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006e1	8b 02		 mov	 eax, DWORD PTR [edx]
  006e3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006e6	ff 50 04	 call	 DWORD PTR [eax+4]
  006e9	3b f4		 cmp	 esi, esp
  006eb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006f0	85 c0		 test	 eax, eax
  006f2	7c 18		 jl	 SHORT $L80212

; 360  :                             bFormatConfirmed[f] = TRUE;

  006f4	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  006fb	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00701	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 1
$L80212:

; 361  :                     }
; 362  :                 }
; 363  : 
; 364  :                 // Confirm the device/format for SW vertex processing
; 365  :                 if( FALSE == bFormatConfirmed[f] )

  0070c	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  00713	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00719	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 0
  00721	75 67		 jne	 SHORT $L80222

; 366  :                 {
; 367  :                     dwBehavior[f] = D3DCREATE_SOFTWARE_VERTEXPROCESSING;

  00723	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00729	c7 84 85 b8 f7
	ff ff 20 00 00
	00		 mov	 DWORD PTR _dwBehavior$80201[ebp+eax*4], 32 ; 00000020H

; 368  : 
; 369  :                     if( SUCCEEDED( ConfirmDevice( &pDevice->d3dCaps, dwBehavior[f],
; 370  :                                                   formats[f] ) ) )

  00734	8b f4		 mov	 esi, esp
  00736	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  0073c	8b 8c 85 e0 f8
	ff ff		 mov	 ecx, DWORD PTR _formats$80171[ebp+eax*4]
  00743	51		 push	 ecx
  00744	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$80203[ebp]
  0074a	8b 84 95 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$80201[ebp+edx*4]
  00751	50		 push	 eax
  00752	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  00758	83 c1 04	 add	 ecx, 4
  0075b	51		 push	 ecx
  0075c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0075f	8b 02		 mov	 eax, DWORD PTR [edx]
  00761	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00764	ff 50 04	 call	 DWORD PTR [eax+4]
  00767	3b f4		 cmp	 esi, esp
  00769	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0076e	85 c0		 test	 eax, eax
  00770	7c 18		 jl	 SHORT $L80222

; 371  :                         bFormatConfirmed[f] = TRUE;

  00772	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  00779	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  0077f	c7 84 85 10 f8
	ff ff 01 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 1
$L80222:

; 372  :                 }
; 373  : 
; 374  :                 // Find a suitable depth/stencil buffer format for this device/format
; 375  :                 if( bFormatConfirmed[f] && m_bUseDepthBuffer )

  0078a	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  00791	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  00797	83 bc 85 10 f8
	ff ff 00	 cmp	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 0
  0079f	74 59		 je	 SHORT $L80225
  007a1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007a4	83 b8 8c a6 02
	00 00		 cmp	 DWORD PTR [eax+173708], 0
  007ab	74 4d		 je	 SHORT $L80225

; 376  :                 {
; 377  :                     if( !FindDepthStencilFormat( iAdapter, pDevice->DeviceType,
; 378  :                         formats[f], &fmtDepthStencil[f] ) )

  007ad	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  007b3	8d 8c 85 60 f7
	ff ff		 lea	 ecx, DWORD PTR _fmtDepthStencil$80202[ebp+eax*4]
  007ba	51		 push	 ecx
  007bb	8b 95 54 f7 ff
	ff		 mov	 edx, DWORD PTR _f$80203[ebp]
  007c1	8b 84 95 e0 f8
	ff ff		 mov	 eax, DWORD PTR _formats$80171[ebp+edx*4]
  007c8	50		 push	 eax
  007c9	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  007cf	8b 11		 mov	 edx, DWORD PTR [ecx]
  007d1	52		 push	 edx
  007d2	8b 45 90	 mov	 eax, DWORD PTR _iAdapter$80165[ebp]
  007d5	50		 push	 eax
  007d6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007d9	e8 00 00 00 00	 call	 ?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z ; CD3DApplication::FindDepthStencilFormat
  007de	85 c0		 test	 eax, eax
  007e0	75 18		 jne	 SHORT $L80225

; 379  :                     {
; 380  :                         bFormatConfirmed[f] = FALSE;

  007e2	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  007e9	8b 85 54 f7 ff
	ff		 mov	 eax, DWORD PTR _f$80203[ebp]
  007ef	c7 84 85 10 f8
	ff ff 00 00 00
	00		 mov	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 0
$L80225:

; 381  :                     }
; 382  :                 }
; 383  :             }

  007fa	e9 a5 fc ff ff	 jmp	 $L80205
$L80206:

; 384  : 
; 385  :             // Add all enumerated display modes with confirmed formats to the
; 386  :             // device's list of valid modes
; 387  :             for( DWORD m=0L; m<dwNumModes; m++ )

  007ff	c7 85 48 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$80227[ebp], 0
  00809	eb 0f		 jmp	 SHORT $L80228
$L80229:
  0080b	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  00811	83 c0 01	 add	 eax, 1
  00814	89 85 48 f7 ff
	ff		 mov	 DWORD PTR _m$80227[ebp], eax
$L80228:
  0081a	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  00820	3b 85 c8 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumModes$80173[ebp]
  00826	0f 83 78 01 00
	00		 jae	 $L80230

; 388  :             {
; 389  :                 for( DWORD f=0; f<dwNumFormats; f++ )

  0082c	c7 85 3c f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _f$80231[ebp], 0
  00836	eb 0f		 jmp	 SHORT $L80232
$L80233:
  00838	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$80231[ebp]
  0083e	83 c0 01	 add	 eax, 1
  00841	89 85 3c f7 ff
	ff		 mov	 DWORD PTR _f$80231[ebp], eax
$L80232:
  00847	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$80231[ebp]
  0084d	3b 85 d4 f8 ff
	ff		 cmp	 eax, DWORD PTR _dwNumFormats$80172[ebp]
  00853	0f 83 46 01 00
	00		 jae	 $L80234

; 390  :                 {
; 391  :                     if( modes[m].Format == formats[f] )

  00859	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  0085f	c1 e0 04	 shl	 eax, 4
  00862	8b 8d 3c f7 ff
	ff		 mov	 ecx, DWORD PTR _f$80231[ebp]
  00868	8b 94 05 44 f9
	ff ff		 mov	 edx, DWORD PTR _modes$80170[ebp+eax+12]
  0086f	3b 94 8d e0 f8
	ff ff		 cmp	 edx, DWORD PTR _formats$80171[ebp+ecx*4]
  00876	0f 85 1e 01 00
	00		 jne	 $L80235

; 392  :                     {
; 393  :                         if( bFormatConfirmed[f] == TRUE )

  0087c	c6 85 5b f6 ff
	ff 01		 mov	 BYTE PTR $T81143[ebp], 1
  00883	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$80231[ebp]
  00889	83 bc 85 10 f8
	ff ff 01	 cmp	 DWORD PTR _bFormatConfirmed$80200[ebp+eax*4], 1
  00891	0f 85 03 01 00
	00		 jne	 $L80235

; 394  :                         {
; 395  :                             // Add this mode to the device's list of valid modes
; 396  :                             pDevice->modes[pDevice->dwNumModes].Width      = modes[m].Width;

  00897	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  0089d	c1 e0 04	 shl	 eax, 4
  008a0	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  008a6	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  008ac	6b d2 14	 imul	 edx, 20			; 00000014H
  008af	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  008b5	8b 84 05 38 f9
	ff ff		 mov	 eax, DWORD PTR _modes$80170[ebp+eax]
  008bc	89 84 11 e4 00
	00 00		 mov	 DWORD PTR [ecx+edx+228], eax

; 397  :                             pDevice->modes[pDevice->dwNumModes].Height     = modes[m].Height;

  008c3	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  008c9	c1 e0 04	 shl	 eax, 4
  008cc	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  008d2	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  008d8	6b d2 14	 imul	 edx, 20			; 00000014H
  008db	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  008e1	8b 84 05 3c f9
	ff ff		 mov	 eax, DWORD PTR _modes$80170[ebp+eax+4]
  008e8	89 84 11 e8 00
	00 00		 mov	 DWORD PTR [ecx+edx+232], eax

; 398  :                             pDevice->modes[pDevice->dwNumModes].Format     = modes[m].Format;

  008ef	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  008f5	c1 e0 04	 shl	 eax, 4
  008f8	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  008fe	8b 91 e0 00 00
	00		 mov	 edx, DWORD PTR [ecx+224]
  00904	6b d2 14	 imul	 edx, 20			; 00000014H
  00907	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  0090d	8b 84 05 44 f9
	ff ff		 mov	 eax, DWORD PTR _modes$80170[ebp+eax+12]
  00914	89 84 11 ec 00
	00 00		 mov	 DWORD PTR [ecx+edx+236], eax

; 399  :                             pDevice->modes[pDevice->dwNumModes].dwBehavior = dwBehavior[f];

  0091b	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00921	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00927	6b c9 14	 imul	 ecx, 20			; 00000014H
  0092a	8b 95 68 f8 ff
	ff		 mov	 edx, DWORD PTR _pDevice$80199[ebp]
  00930	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$80231[ebp]
  00936	8b 84 85 b8 f7
	ff ff		 mov	 eax, DWORD PTR _dwBehavior$80201[ebp+eax*4]
  0093d	89 84 0a f0 00
	00 00		 mov	 DWORD PTR [edx+ecx+240], eax

; 400  :                             pDevice->modes[pDevice->dwNumModes].DepthStencilFormat = fmtDepthStencil[f];

  00944	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0094a	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00950	6b c9 14	 imul	 ecx, 20			; 00000014H
  00953	8b 95 68 f8 ff
	ff		 mov	 edx, DWORD PTR _pDevice$80199[ebp]
  00959	8b 85 3c f7 ff
	ff		 mov	 eax, DWORD PTR _f$80231[ebp]
  0095f	8b 84 85 60 f7
	ff ff		 mov	 eax, DWORD PTR _fmtDepthStencil$80202[ebp+eax*4]
  00966	89 84 0a f4 00
	00 00		 mov	 DWORD PTR [edx+ecx+244], eax

; 401  :                             pDevice->dwNumModes++;

  0096d	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00973	8b 88 e0 00 00
	00		 mov	 ecx, DWORD PTR [eax+224]
  00979	83 c1 01	 add	 ecx, 1
  0097c	8b 95 68 f8 ff
	ff		 mov	 edx, DWORD PTR _pDevice$80199[ebp]
  00982	89 8a e0 00 00
	00		 mov	 DWORD PTR [edx+224], ecx

; 402  : 
; 403  :                             if( pDevice->DeviceType == D3DDEVTYPE_HAL )

  00988	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  0098e	83 38 01	 cmp	 DWORD PTR [eax], 1
  00991	75 07		 jne	 SHORT $L80235

; 404  :                                 bHALIsSampleCompatible = TRUE;

  00993	c7 45 9c 01 00
	00 00		 mov	 DWORD PTR _bHALIsSampleCompatible$[ebp], 1
$L80235:

; 405  :                         }
; 406  :                     }
; 407  :                 }

  0099a	e9 99 fe ff ff	 jmp	 $L80233
$L80234:

; 408  :             }

  0099f	e9 67 fe ff ff	 jmp	 $L80229
$L80230:

; 409  : 
; 410  :             // Select any 640x480 mode for default (but prefer a 16-bit mode)
; 411  :             for( m=0; m<pDevice->dwNumModes; m++ )

  009a4	c7 85 48 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$80227[ebp], 0
  009ae	eb 0f		 jmp	 SHORT $L80238
$L80239:
  009b0	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  009b6	83 c0 01	 add	 eax, 1
  009b9	89 85 48 f7 ff
	ff		 mov	 DWORD PTR _m$80227[ebp], eax
$L80238:
  009bf	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  009c5	8b 8d 48 f7 ff
	ff		 mov	 ecx, DWORD PTR _m$80227[ebp]
  009cb	3b 88 e0 00 00
	00		 cmp	 ecx, DWORD PTR [eax+224]
  009d1	0f 83 9c 00 00
	00		 jae	 $L80240

; 412  :             {
; 413  :                 if( pDevice->modes[m].Width==640 && pDevice->modes[m].Height==480 )

  009d7	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  009dd	6b c0 14	 imul	 eax, 20			; 00000014H
  009e0	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  009e6	81 bc 01 e4 00
	00 00 80 02 00
	00		 cmp	 DWORD PTR [ecx+eax+228], 640 ; 00000280H
  009f1	75 7b		 jne	 SHORT $L80241
  009f3	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  009f9	6b c0 14	 imul	 eax, 20			; 00000014H
  009fc	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  00a02	81 bc 01 e8 00
	00 00 e0 01 00
	00		 cmp	 DWORD PTR [ecx+eax+232], 480 ; 000001e0H
  00a0d	75 5f		 jne	 SHORT $L80241

; 414  :                 {
; 415  :                     pDevice->dwCurrentMode = m;

  00a0f	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00a15	8b 8d 48 f7 ff
	ff		 mov	 ecx, DWORD PTR _m$80227[ebp]
  00a1b	89 88 9c 0c 00
	00		 mov	 DWORD PTR [eax+3228], ecx

; 416  :                     if( pDevice->modes[m].Format == D3DFMT_R5G6B5 ||
; 417  :                         pDevice->modes[m].Format == D3DFMT_X1R5G5B5 ||
; 418  :                         pDevice->modes[m].Format == D3DFMT_A1R5G5B5 )

  00a21	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  00a27	6b c0 14	 imul	 eax, 20			; 00000014H
  00a2a	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  00a30	83 bc 01 ec 00
	00 00 17	 cmp	 DWORD PTR [ecx+eax+236], 23 ; 00000017H
  00a38	74 32		 je	 SHORT $L80243
  00a3a	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  00a40	6b c0 14	 imul	 eax, 20			; 00000014H
  00a43	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  00a49	83 bc 01 ec 00
	00 00 18	 cmp	 DWORD PTR [ecx+eax+236], 24 ; 00000018H
  00a51	74 19		 je	 SHORT $L80243
  00a53	8b 85 48 f7 ff
	ff		 mov	 eax, DWORD PTR _m$80227[ebp]
  00a59	6b c0 14	 imul	 eax, 20			; 00000014H
  00a5c	8b 8d 68 f8 ff
	ff		 mov	 ecx, DWORD PTR _pDevice$80199[ebp]
  00a62	83 bc 01 ec 00
	00 00 19	 cmp	 DWORD PTR [ecx+eax+236], 25 ; 00000019H
  00a6a	75 02		 jne	 SHORT $L80241
$L80243:

; 419  :                     {
; 420  :                         break;

  00a6c	eb 05		 jmp	 SHORT $L80240
$L80241:

; 421  :                     }
; 422  :                 }
; 423  :             }

  00a6e	e9 3d ff ff ff	 jmp	 $L80239
$L80240:

; 424  : 
; 425  :             // Check if the device is compatible with the desktop display mode
; 426  :             // (which was added initially as formats[0])
; 427  :             if( bFormatConfirmed[0] && (pDevice->d3dCaps.Caps2 & D3DCAPS2_CANRENDERWINDOWED) )

  00a73	80 bd 5b f6 ff
	ff 00		 cmp	 BYTE PTR $T81143[ebp], 0
  00a7a	75 0d		 jne	 SHORT $L81144
  00a7c	68 00 00 00 00	 push	 OFFSET FLAT:$L81145
  00a81	e8 00 00 00 00	 call	 __RTC_UninitUse
  00a86	83 c4 04	 add	 esp, 4
$L81144:
  00a89	83 bd 10 f8 ff
	ff 00		 cmp	 DWORD PTR _bFormatConfirmed$80200[ebp], 0
  00a90	74 33		 je	 SHORT $L80244
  00a92	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00a98	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00a9b	81 e1 00 00 08
	00		 and	 ecx, 524288		; 00080000H
  00aa1	85 c9		 test	 ecx, ecx
  00aa3	74 20		 je	 SHORT $L80244

; 428  :             {
; 429  :                 pDevice->bCanDoWindowed = TRUE;

  00aa5	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00aab	c7 80 dc 00 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+220], 1

; 430  :                 pDevice->bWindowed      = TRUE;

  00ab5	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00abb	c7 80 a0 0c 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3232], 1
$L80244:

; 431  :             }
; 432  : 
; 433  :             // If valid modes were found, keep this device
; 434  :             if( pDevice->dwNumModes > 0 )

  00ac5	8b 85 68 f8 ff
	ff		 mov	 eax, DWORD PTR _pDevice$80199[ebp]
  00acb	83 b8 e0 00 00
	00 00		 cmp	 DWORD PTR [eax+224], 0
  00ad2	76 15		 jbe	 SHORT $L80245

; 435  :                 pAdapter->dwNumDevices++;

  00ad4	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  00ad7	8b 88 3c 04 00
	00		 mov	 ecx, DWORD PTR [eax+1084]
  00add	83 c1 01	 add	 ecx, 1
  00ae0	8b 55 84	 mov	 edx, DWORD PTR _pAdapter$80169[ebp]
  00ae3	89 8a 3c 04 00
	00		 mov	 DWORD PTR [edx+1084], ecx
$L80245:

; 436  :         }

  00ae9	e9 a6 f8 ff ff	 jmp	 $L80197
$L80198:

; 437  : 
; 438  :         // If valid devices were found, keep this adapter
; 439  :         if( pAdapter->dwNumDevices > 0 )

  00aee	8b 45 84	 mov	 eax, DWORD PTR _pAdapter$80169[ebp]
  00af1	83 b8 3c 04 00
	00 00		 cmp	 DWORD PTR [eax+1084], 0
  00af8	76 15		 jbe	 SHORT $L80246

; 440  :             m_dwNumAdapters++;

  00afa	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00afd	8b 88 44 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173124]
  00b03	83 c1 01	 add	 ecx, 1
  00b06	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00b09	89 8a 44 a4 02
	00		 mov	 DWORD PTR [edx+173124], ecx
$L80246:

; 441  :     }

  00b0f	e9 57 f5 ff ff	 jmp	 $L80167
$L80168:

; 442  : 
; 443  :     // Return an error if no compatible devices were found
; 444  :     if( 0L == m_dwNumAdapters )

  00b14	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00b17	83 b8 44 a4 02
	00 00		 cmp	 DWORD PTR [eax+173124], 0
  00b1e	75 0a		 jne	 SHORT $L80247

; 445  :         return D3DAPPERR_NOCOMPATIBLEDEVICES;

  00b20	b8 03 00 00 82	 mov	 eax, -2113929213	; 82000003H
  00b25	e9 79 01 00 00	 jmp	 $L80155
$L80247:

; 446  : 
; 447  :     // Pick a default device that can render into a window
; 448  :     // (This code assumes that the HAL device comes before the REF
; 449  :     // device in the device array).
; 450  :     for( DWORD a=0; a<m_dwNumAdapters; a++ )

  00b2a	c7 85 30 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _a$80248[ebp], 0
  00b34	eb 0f		 jmp	 SHORT $L80249
$L80250:
  00b36	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$80248[ebp]
  00b3c	83 c0 01	 add	 eax, 1
  00b3f	89 85 30 f7 ff
	ff		 mov	 DWORD PTR _a$80248[ebp], eax
$L80249:
  00b45	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00b48	8b 8d 30 f7 ff
	ff		 mov	 ecx, DWORD PTR _a$80248[ebp]
  00b4e	3b 88 44 a4 02
	00		 cmp	 ecx, DWORD PTR [eax+173124]
  00b54	0f 83 44 01 00
	00		 jae	 $L80251

; 451  :     {
; 452  :         for( DWORD d=0; d < m_Adapters[a].dwNumDevices; d++ )

  00b5a	c7 85 24 f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR _d$80252[ebp], 0
  00b64	eb 0f		 jmp	 SHORT $L80253
$L80254:
  00b66	8b 85 24 f7 ff
	ff		 mov	 eax, DWORD PTR _d$80252[ebp]
  00b6c	83 c0 01	 add	 eax, 1
  00b6f	89 85 24 f7 ff
	ff		 mov	 DWORD PTR _d$80252[ebp], eax
$L80253:
  00b75	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$80248[ebp]
  00b7b	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00b81	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00b84	8b 95 24 f7 ff
	ff		 mov	 edx, DWORD PTR _d$80252[ebp]
  00b8a	3b 94 01 40 04
	00 00		 cmp	 edx, DWORD PTR [ecx+eax+1088]
  00b91	0f 83 02 01 00
	00		 jae	 $L80255

; 453  :         {
; 454  :             if( m_Adapters[a].devices[d].bWindowed )

  00b97	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$80248[ebp]
  00b9d	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00ba3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00ba6	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00baa	8b 85 24 f7 ff
	ff		 mov	 eax, DWORD PTR _d$80252[ebp]
  00bb0	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00bb6	83 bc 02 e0 10
	00 00 00	 cmp	 DWORD PTR [edx+eax+4320], 0
  00bbe	0f 84 d0 00 00
	00		 je	 $L80256

; 455  :             {
; 456  :                 m_Adapters[a].dwCurrentDevice = d;

  00bc4	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$80248[ebp]
  00bca	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00bd0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00bd3	8b 95 24 f7 ff
	ff		 mov	 edx, DWORD PTR _d$80252[ebp]
  00bd9	89 94 01 a0 43
	00 00		 mov	 DWORD PTR [ecx+eax+17312], edx

; 457  :                 m_dwAdapter = a;

  00be0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00be3	8b 8d 30 f7 ff
	ff		 mov	 ecx, DWORD PTR _a$80248[ebp]
  00be9	89 88 48 a4 02
	00		 mov	 DWORD PTR [eax+173128], ecx

; 458  :                 m_bWindowed = TRUE;

  00bef	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00bf2	c7 80 4c a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173132], 1

; 459  : 
; 460  :                 // Display a warning message
; 461  :                 if( m_Adapters[a].devices[d].DeviceType == D3DDEVTYPE_REF )

  00bfc	8b 85 30 f7 ff
	ff		 mov	 eax, DWORD PTR _a$80248[ebp]
  00c02	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00c08	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c0b	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00c0f	8b 85 24 f7 ff
	ff		 mov	 eax, DWORD PTR _d$80252[ebp]
  00c15	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00c1b	83 bc 02 40 04
	00 00 02	 cmp	 DWORD PTR [edx+eax+1088], 2
  00c23	75 6b		 jne	 SHORT $L80257

; 462  :                 {
; 463  :                     if( !bHALExists )

  00c25	83 7d c0 00	 cmp	 DWORD PTR _bHALExists$[ebp], 0
  00c29	75 11		 jne	 SHORT $L80258

; 464  :                         DisplayErrorMsg( D3DAPPERR_NOHARDWAREDEVICE, MSGWARN_SWITCHEDTOREF );

  00c2b	6a 02		 push	 2
  00c2d	68 05 00 00 82	 push	 -2113929211		; 82000005H
  00c32	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c35	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 465  :                     else if( !bHALIsSampleCompatible )

  00c3a	eb 54		 jmp	 SHORT $L80257
$L80258:
  00c3c	83 7d 9c 00	 cmp	 DWORD PTR _bHALIsSampleCompatible$[ebp], 0
  00c40	75 11		 jne	 SHORT $L80260

; 466  :                         DisplayErrorMsg( D3DAPPERR_HALNOTCOMPATIBLE, MSGWARN_SWITCHEDTOREF );

  00c42	6a 02		 push	 2
  00c44	68 06 00 00 82	 push	 -2113929210		; 82000006H
  00c49	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c4c	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 467  :                     else if( !bHALIsWindowedCompatible )

  00c51	eb 3d		 jmp	 SHORT $L80257
$L80260:
  00c53	83 7d b4 00	 cmp	 DWORD PTR _bHALIsWindowedCompatible$[ebp], 0
  00c57	75 11		 jne	 SHORT $L80262

; 468  :                         DisplayErrorMsg( D3DAPPERR_NOWINDOWEDHAL, MSGWARN_SWITCHEDTOREF );

  00c59	6a 02		 push	 2
  00c5b	68 07 00 00 82	 push	 -2113929209		; 82000007H
  00c60	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c63	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 469  :                     else if( !bHALIsDesktopCompatible )

  00c68	eb 26		 jmp	 SHORT $L80257
$L80262:
  00c6a	83 7d a8 00	 cmp	 DWORD PTR _bHALIsDesktopCompatible$[ebp], 0
  00c6e	75 11		 jne	 SHORT $L80264

; 470  :                         DisplayErrorMsg( D3DAPPERR_NODESKTOPHAL, MSGWARN_SWITCHEDTOREF );

  00c70	6a 02		 push	 2
  00c72	68 08 00 00 82	 push	 -2113929208		; 82000008H
  00c77	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c7a	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 471  :                     else // HAL is desktop compatible, but not sample compatible

  00c7f	eb 0f		 jmp	 SHORT $L80257
$L80264:

; 472  :                         DisplayErrorMsg( D3DAPPERR_NOHALTHISMODE, MSGWARN_SWITCHEDTOREF );

  00c81	6a 02		 push	 2
  00c83	68 09 00 00 82	 push	 -2113929207		; 82000009H
  00c88	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00c8b	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
$L80257:

; 473  :                 }
; 474  : 
; 475  :                 return S_OK;

  00c90	33 c0		 xor	 eax, eax
  00c92	eb 0f		 jmp	 SHORT $L80155
$L80256:

; 476  :             }
; 477  :         }

  00c94	e9 cd fe ff ff	 jmp	 $L80254
$L80255:

; 478  :     }

  00c99	e9 98 fe ff ff	 jmp	 $L80250
$L80251:

; 479  : 
; 480  :     return D3DAPPERR_NOWINDOWABLEDEVICES;

  00c9e	b8 04 00 00 82	 mov	 eax, -2113929212	; 82000004H
$L80155:

; 481  : }

  00ca3	52		 push	 edx
  00ca4	8b cd		 mov	 ecx, ebp
  00ca6	50		 push	 eax
  00ca7	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81155
  00cad	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00cb2	58		 pop	 eax
  00cb3	5a		 pop	 edx
  00cb4	5f		 pop	 edi
  00cb5	5e		 pop	 esi
  00cb6	5b		 pop	 ebx
  00cb7	81 c4 ac 09 00
	00		 add	 esp, 2476		; 000009acH
  00cbd	3b ec		 cmp	 ebp, esp
  00cbf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00cc4	8b e5		 mov	 esp, ebp
  00cc6	5d		 pop	 ebp
  00cc7	c3		 ret	 0
$L81155:
  00cc8	08 00 00 00	 DD	 8
  00ccc	00 00 00 00	 DD	 $L81154
$L81154:
  00cd0	10 f8 ff ff	 DD	 -2032			; fffff810H
  00cd4	50 00 00 00	 DD	 80			; 00000050H
  00cd8	00 00 00 00	 DD	 $L81145
  00cdc	dc ff ff ff	 DD	 -36			; ffffffdcH
  00ce0	08 00 00 00	 DD	 8
  00ce4	00 00 00 00	 DD	 $L81147
  00ce8	cc ff ff ff	 DD	 -52			; ffffffccH
  00cec	08 00 00 00	 DD	 8
  00cf0	00 00 00 00	 DD	 $L81148
  00cf4	38 f9 ff ff	 DD	 -1736			; fffff938H
  00cf8	40 06 00 00	 DD	 1600			; 00000640H
  00cfc	00 00 00 00	 DD	 $L81149
  00d00	e0 f8 ff ff	 DD	 -1824			; fffff8e0H
  00d04	50 00 00 00	 DD	 80			; 00000050H
  00d08	00 00 00 00	 DD	 $L81150
  00d0c	98 f8 ff ff	 DD	 -1896			; fffff898H
  00d10	10 00 00 00	 DD	 16			; 00000010H
  00d14	00 00 00 00	 DD	 $L81151
  00d18	b8 f7 ff ff	 DD	 -2120			; fffff7b8H
  00d1c	50 00 00 00	 DD	 80			; 00000050H
  00d20	00 00 00 00	 DD	 $L81152
  00d24	60 f7 ff ff	 DD	 -2208			; fffff760H
  00d28	50 00 00 00	 DD	 80			; 00000050H
  00d2c	00 00 00 00	 DD	 $L81153
$L81153:
  00d30	66		 DB	 102			; 00000066H
  00d31	6d		 DB	 109			; 0000006dH
  00d32	74		 DB	 116			; 00000074H
  00d33	44		 DB	 68			; 00000044H
  00d34	65		 DB	 101			; 00000065H
  00d35	70		 DB	 112			; 00000070H
  00d36	74		 DB	 116			; 00000074H
  00d37	68		 DB	 104			; 00000068H
  00d38	53		 DB	 83			; 00000053H
  00d39	74		 DB	 116			; 00000074H
  00d3a	65		 DB	 101			; 00000065H
  00d3b	6e		 DB	 110			; 0000006eH
  00d3c	63		 DB	 99			; 00000063H
  00d3d	69		 DB	 105			; 00000069H
  00d3e	6c		 DB	 108			; 0000006cH
  00d3f	00		 DB	 0
$L81152:
  00d40	64		 DB	 100			; 00000064H
  00d41	77		 DB	 119			; 00000077H
  00d42	42		 DB	 66			; 00000042H
  00d43	65		 DB	 101			; 00000065H
  00d44	68		 DB	 104			; 00000068H
  00d45	61		 DB	 97			; 00000061H
  00d46	76		 DB	 118			; 00000076H
  00d47	69		 DB	 105			; 00000069H
  00d48	6f		 DB	 111			; 0000006fH
  00d49	72		 DB	 114			; 00000072H
  00d4a	00		 DB	 0
$L81151:
  00d4b	44		 DB	 68			; 00000044H
  00d4c	69		 DB	 105			; 00000069H
  00d4d	73		 DB	 115			; 00000073H
  00d4e	70		 DB	 112			; 00000070H
  00d4f	6c		 DB	 108			; 0000006cH
  00d50	61		 DB	 97			; 00000061H
  00d51	79		 DB	 121			; 00000079H
  00d52	4d		 DB	 77			; 0000004dH
  00d53	6f		 DB	 111			; 0000006fH
  00d54	64		 DB	 100			; 00000064H
  00d55	65		 DB	 101			; 00000065H
  00d56	00		 DB	 0
$L81150:
  00d57	66		 DB	 102			; 00000066H
  00d58	6f		 DB	 111			; 0000006fH
  00d59	72		 DB	 114			; 00000072H
  00d5a	6d		 DB	 109			; 0000006dH
  00d5b	61		 DB	 97			; 00000061H
  00d5c	74		 DB	 116			; 00000074H
  00d5d	73		 DB	 115			; 00000073H
  00d5e	00		 DB	 0
$L81149:
  00d5f	6d		 DB	 109			; 0000006dH
  00d60	6f		 DB	 111			; 0000006fH
  00d61	64		 DB	 100			; 00000064H
  00d62	65		 DB	 101			; 00000065H
  00d63	73		 DB	 115			; 00000073H
  00d64	00		 DB	 0
$L81148:
  00d65	44		 DB	 68			; 00000044H
  00d66	65		 DB	 101			; 00000065H
  00d67	76		 DB	 118			; 00000076H
  00d68	69		 DB	 105			; 00000069H
  00d69	63		 DB	 99			; 00000063H
  00d6a	65		 DB	 101			; 00000065H
  00d6b	54		 DB	 84			; 00000054H
  00d6c	79		 DB	 121			; 00000079H
  00d6d	70		 DB	 112			; 00000070H
  00d6e	65		 DB	 101			; 00000065H
  00d6f	73		 DB	 115			; 00000073H
  00d70	00		 DB	 0
$L81147:
  00d71	73		 DB	 115			; 00000073H
  00d72	74		 DB	 116			; 00000074H
  00d73	72		 DB	 114			; 00000072H
  00d74	44		 DB	 68			; 00000044H
  00d75	65		 DB	 101			; 00000065H
  00d76	76		 DB	 118			; 00000076H
  00d77	69		 DB	 105			; 00000069H
  00d78	63		 DB	 99			; 00000063H
  00d79	65		 DB	 101			; 00000065H
  00d7a	44		 DB	 68			; 00000044H
  00d7b	65		 DB	 101			; 00000065H
  00d7c	73		 DB	 115			; 00000073H
  00d7d	63		 DB	 99			; 00000063H
  00d7e	73		 DB	 115			; 00000073H
  00d7f	00		 DB	 0
$L81145:
  00d80	62		 DB	 98			; 00000062H
  00d81	46		 DB	 70			; 00000046H
  00d82	6f		 DB	 111			; 0000006fH
  00d83	72		 DB	 114			; 00000072H
  00d84	6d		 DB	 109			; 0000006dH
  00d85	61		 DB	 97			; 00000061H
  00d86	74		 DB	 116			; 00000074H
  00d87	43		 DB	 67			; 00000043H
  00d88	6f		 DB	 111			; 0000006fH
  00d89	6e		 DB	 110			; 0000006eH
  00d8a	66		 DB	 102			; 00000066H
  00d8b	69		 DB	 105			; 00000069H
  00d8c	72		 DB	 114			; 00000072H
  00d8d	6d		 DB	 109			; 0000006dH
  00d8e	65		 DB	 101			; 00000065H
  00d8f	64		 DB	 100			; 00000064H
  00d90	00		 DB	 0
?BuildDeviceList@CD3DApplication@@IAEJXZ ENDP		; CD3DApplication::BuildDeviceList
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?SortModesCallback@@YAHPBX0@Z
_TEXT	SEGMENT
_p2$ = -20
_p1$ = -8
_arg1$ = 8
_arg2$ = 12
?SortModesCallback@@YAHPBX0@Z PROC NEAR			; SortModesCallback, COMDAT

; 185  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00012	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 186  :     D3DDISPLAYMODE* p1 = (D3DDISPLAYMODE*)arg1;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _arg1$[ebp]
  00021	89 45 f8	 mov	 DWORD PTR _p1$[ebp], eax

; 187  :     D3DDISPLAYMODE* p2 = (D3DDISPLAYMODE*)arg2;

  00024	8b 45 0c	 mov	 eax, DWORD PTR _arg2$[ebp]
  00027	89 45 ec	 mov	 DWORD PTR _p2$[ebp], eax

; 188  : 
; 189  :     if( p1->Format > p2->Format )   return -1;

  0002a	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  0002d	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00030	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00033	3b 51 0c	 cmp	 edx, DWORD PTR [ecx+12]
  00036	7e 05		 jle	 SHORT $L80147
  00038	83 c8 ff	 or	 eax, -1
  0003b	eb 63		 jmp	 SHORT $L80142
$L80147:

; 190  :     if( p1->Format < p2->Format )   return +1;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00040	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00043	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00046	3b 51 0c	 cmp	 edx, DWORD PTR [ecx+12]
  00049	7d 07		 jge	 SHORT $L80148
  0004b	b8 01 00 00 00	 mov	 eax, 1
  00050	eb 4e		 jmp	 SHORT $L80142
$L80148:

; 191  :     if( p1->Width  < p2->Width )    return -1;

  00052	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00055	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00058	8b 10		 mov	 edx, DWORD PTR [eax]
  0005a	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0005c	73 05		 jae	 SHORT $L80149
  0005e	83 c8 ff	 or	 eax, -1
  00061	eb 3d		 jmp	 SHORT $L80142
$L80149:

; 192  :     if( p1->Width  > p2->Width )    return +1;

  00063	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00066	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  00069	8b 10		 mov	 edx, DWORD PTR [eax]
  0006b	3b 11		 cmp	 edx, DWORD PTR [ecx]
  0006d	76 07		 jbe	 SHORT $L80150
  0006f	b8 01 00 00 00	 mov	 eax, 1
  00074	eb 2a		 jmp	 SHORT $L80142
$L80150:

; 193  :     if( p1->Height < p2->Height )   return -1;

  00076	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  00079	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  0007c	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0007f	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  00082	73 05		 jae	 SHORT $L80151
  00084	83 c8 ff	 or	 eax, -1
  00087	eb 17		 jmp	 SHORT $L80142
$L80151:

; 194  :     if( p1->Height > p2->Height )   return +1;

  00089	8b 45 f8	 mov	 eax, DWORD PTR _p1$[ebp]
  0008c	8b 4d ec	 mov	 ecx, DWORD PTR _p2$[ebp]
  0008f	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00092	3b 51 04	 cmp	 edx, DWORD PTR [ecx+4]
  00095	76 07		 jbe	 SHORT $L80152
  00097	b8 01 00 00 00	 mov	 eax, 1
  0009c	eb 02		 jmp	 SHORT $L80142
$L80152:

; 195  : 
; 196  :     return 0;

  0009e	33 c0		 xor	 eax, eax
$L80142:

; 197  : }

  000a0	5f		 pop	 edi
  000a1	5e		 pop	 esi
  000a2	5b		 pop	 ebx
  000a3	8b e5		 mov	 esp, ebp
  000a5	5d		 pop	 ebp
  000a6	c3		 ret	 0
?SortModesCallback@@YAHPBX0@Z ENDP			; SortModesCallback
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dev\x7g\d3dframe8.1 custom\include\d3dapp.h
_TEXT	ENDS
;	COMDAT ?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z
_TEXT	SEGMENT
_this$ = -8
___formal$ = 8
___formal$ = 12
___formal$ = 16
?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z PROC NEAR ; CD3DApplication::ConfirmDevice, COMDAT
; _this$ = ecx

; 184  :     virtual HRESULT ConfirmDevice(D3DCAPS8*,DWORD,D3DFORMAT)   { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 0c 00	 ret	 12			; 0000000cH
?ConfirmDevice@CD3DApplication@@MAEJPAU_D3DCAPS8@@KW4_D3DFORMAT@@@Z ENDP ; CD3DApplication::ConfirmDevice
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?OneTimeSceneInit@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?OneTimeSceneInit@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::OneTimeSceneInit, COMDAT
; _this$ = ecx

; 185  :     virtual HRESULT OneTimeSceneInit()                         { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?OneTimeSceneInit@CD3DApplication@@MAEJXZ ENDP		; CD3DApplication::OneTimeSceneInit
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dev\x7g\d3dframe8.1 custom\src\d3dapp.cpp
_TEXT	ENDS
;	COMDAT ?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z
_TEXT	SEGMENT
_this$ = -8
_iAdapter$ = 8
_DeviceType$ = 12
_TargetFormat$ = 16
_pDepthStencilFormat$ = 20
?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z PROC NEAR ; CD3DApplication::FindDepthStencilFormat, COMDAT
; _this$ = ecx

; 493  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 494  :     if( m_dwMinDepthBits <= 16 && m_dwMinStencilBits == 0 )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 b8 90 a6 02
	00 10		 cmp	 DWORD PTR [eax+173712], 16 ; 00000010H
  0002d	0f 87 91 00 00
	00		 ja	 $L80274
  00033	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00036	83 b8 94 a6 02
	00 00		 cmp	 DWORD PTR [eax+173716], 0
  0003d	0f 85 81 00 00
	00		 jne	 $L80274

; 495  :     {
; 496  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 497  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D16 ) ) )

  00043	8b f4		 mov	 esi, esp
  00045	6a 50		 push	 80			; 00000050H
  00047	6a 01		 push	 1
  00049	6a 02		 push	 2
  0004b	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  0004e	50		 push	 eax
  0004f	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00052	51		 push	 ecx
  00053	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00056	52		 push	 edx
  00057	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005a	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00060	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00063	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00069	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0006b	50		 push	 eax
  0006c	ff 51 28	 call	 DWORD PTR [ecx+40]
  0006f	3b f4		 cmp	 esi, esp
  00071	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00076	85 c0		 test	 eax, eax
  00078	7c 4a		 jl	 SHORT $L80274

; 498  :         {
; 499  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 500  :                 TargetFormat, TargetFormat, D3DFMT_D16 ) ) )

  0007a	8b f4		 mov	 esi, esp
  0007c	6a 50		 push	 80			; 00000050H
  0007e	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00081	50		 push	 eax
  00082	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00085	51		 push	 ecx
  00086	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  00089	52		 push	 edx
  0008a	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  0008d	50		 push	 eax
  0008e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00091	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00097	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009a	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  000a0	8b 12		 mov	 edx, DWORD PTR [edx]
  000a2	51		 push	 ecx
  000a3	ff 52 30	 call	 DWORD PTR [edx+48]
  000a6	3b f4		 cmp	 esi, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	85 c0		 test	 eax, eax
  000af	7c 13		 jl	 SHORT $L80274

; 501  :             {
; 502  :                 *pDepthStencilFormat = D3DFMT_D16;

  000b1	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  000b4	c7 00 50 00 00
	00		 mov	 DWORD PTR [eax], 80	; 00000050H

; 503  :                 return TRUE;

  000ba	b8 01 00 00 00	 mov	 eax, 1
  000bf	e9 20 03 00 00	 jmp	 $L80273
$L80274:

; 504  :             }
; 505  :         }
; 506  :     }
; 507  : 
; 508  :     if( m_dwMinDepthBits <= 15 && m_dwMinStencilBits <= 1 )

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	83 b8 90 a6 02
	00 0f		 cmp	 DWORD PTR [eax+173712], 15 ; 0000000fH
  000ce	0f 87 91 00 00
	00		 ja	 $L80279
  000d4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d7	83 b8 94 a6 02
	00 01		 cmp	 DWORD PTR [eax+173716], 1
  000de	0f 87 81 00 00
	00		 ja	 $L80279

; 509  :     {
; 510  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 511  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D15S1 ) ) )

  000e4	8b f4		 mov	 esi, esp
  000e6	6a 49		 push	 73			; 00000049H
  000e8	6a 01		 push	 1
  000ea	6a 02		 push	 2
  000ec	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  000ef	50		 push	 eax
  000f0	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  000f3	51		 push	 ecx
  000f4	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  000f7	52		 push	 edx
  000f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fb	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00101	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00104	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0010a	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0010c	50		 push	 eax
  0010d	ff 51 28	 call	 DWORD PTR [ecx+40]
  00110	3b f4		 cmp	 esi, esp
  00112	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00117	85 c0		 test	 eax, eax
  00119	7c 4a		 jl	 SHORT $L80279

; 512  :         {
; 513  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 514  :                 TargetFormat, TargetFormat, D3DFMT_D15S1 ) ) )

  0011b	8b f4		 mov	 esi, esp
  0011d	6a 49		 push	 73			; 00000049H
  0011f	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00122	50		 push	 eax
  00123	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00126	51		 push	 ecx
  00127	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  0012a	52		 push	 edx
  0012b	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  0012e	50		 push	 eax
  0012f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00132	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  00138	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0013b	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00141	8b 12		 mov	 edx, DWORD PTR [edx]
  00143	51		 push	 ecx
  00144	ff 52 30	 call	 DWORD PTR [edx+48]
  00147	3b f4		 cmp	 esi, esp
  00149	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0014e	85 c0		 test	 eax, eax
  00150	7c 13		 jl	 SHORT $L80279

; 515  :             {
; 516  :                 *pDepthStencilFormat = D3DFMT_D15S1;

  00152	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  00155	c7 00 49 00 00
	00		 mov	 DWORD PTR [eax], 73	; 00000049H

; 517  :                 return TRUE;

  0015b	b8 01 00 00 00	 mov	 eax, 1
  00160	e9 7f 02 00 00	 jmp	 $L80273
$L80279:

; 518  :             }
; 519  :         }
; 520  :     }
; 521  : 
; 522  :     if( m_dwMinDepthBits <= 24 && m_dwMinStencilBits == 0 )

  00165	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00168	83 b8 90 a6 02
	00 18		 cmp	 DWORD PTR [eax+173712], 24 ; 00000018H
  0016f	0f 87 91 00 00
	00		 ja	 $L80284
  00175	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00178	83 b8 94 a6 02
	00 00		 cmp	 DWORD PTR [eax+173716], 0
  0017f	0f 85 81 00 00
	00		 jne	 $L80284

; 523  :     {
; 524  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 525  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D24X8 ) ) )

  00185	8b f4		 mov	 esi, esp
  00187	6a 4d		 push	 77			; 0000004dH
  00189	6a 01		 push	 1
  0018b	6a 02		 push	 2
  0018d	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00190	50		 push	 eax
  00191	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00194	51		 push	 ecx
  00195	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00198	52		 push	 edx
  00199	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0019c	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  001a2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001a5	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  001ab	8b 09		 mov	 ecx, DWORD PTR [ecx]
  001ad	50		 push	 eax
  001ae	ff 51 28	 call	 DWORD PTR [ecx+40]
  001b1	3b f4		 cmp	 esi, esp
  001b3	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001b8	85 c0		 test	 eax, eax
  001ba	7c 4a		 jl	 SHORT $L80284

; 526  :         {
; 527  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 528  :                 TargetFormat, TargetFormat, D3DFMT_D24X8 ) ) )

  001bc	8b f4		 mov	 esi, esp
  001be	6a 4d		 push	 77			; 0000004dH
  001c0	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  001c3	50		 push	 eax
  001c4	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  001c7	51		 push	 ecx
  001c8	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  001cb	52		 push	 edx
  001cc	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  001cf	50		 push	 eax
  001d0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d3	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  001d9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001dc	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  001e2	8b 12		 mov	 edx, DWORD PTR [edx]
  001e4	51		 push	 ecx
  001e5	ff 52 30	 call	 DWORD PTR [edx+48]
  001e8	3b f4		 cmp	 esi, esp
  001ea	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001ef	85 c0		 test	 eax, eax
  001f1	7c 13		 jl	 SHORT $L80284

; 529  :             {
; 530  :                 *pDepthStencilFormat = D3DFMT_D24X8;

  001f3	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  001f6	c7 00 4d 00 00
	00		 mov	 DWORD PTR [eax], 77	; 0000004dH

; 531  :                 return TRUE;

  001fc	b8 01 00 00 00	 mov	 eax, 1
  00201	e9 de 01 00 00	 jmp	 $L80273
$L80284:

; 532  :             }
; 533  :         }
; 534  :     }
; 535  : 
; 536  :     if( m_dwMinDepthBits <= 24 && m_dwMinStencilBits <= 8 )

  00206	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00209	83 b8 90 a6 02
	00 18		 cmp	 DWORD PTR [eax+173712], 24 ; 00000018H
  00210	0f 87 91 00 00
	00		 ja	 $L80289
  00216	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00219	83 b8 94 a6 02
	00 08		 cmp	 DWORD PTR [eax+173716], 8
  00220	0f 87 81 00 00
	00		 ja	 $L80289

; 537  :     {
; 538  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 539  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D24S8 ) ) )

  00226	8b f4		 mov	 esi, esp
  00228	6a 4b		 push	 75			; 0000004bH
  0022a	6a 01		 push	 1
  0022c	6a 02		 push	 2
  0022e	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00231	50		 push	 eax
  00232	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00235	51		 push	 ecx
  00236	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00239	52		 push	 edx
  0023a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0023d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00243	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00246	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0024c	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0024e	50		 push	 eax
  0024f	ff 51 28	 call	 DWORD PTR [ecx+40]
  00252	3b f4		 cmp	 esi, esp
  00254	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00259	85 c0		 test	 eax, eax
  0025b	7c 4a		 jl	 SHORT $L80289

; 540  :         {
; 541  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 542  :                 TargetFormat, TargetFormat, D3DFMT_D24S8 ) ) )

  0025d	8b f4		 mov	 esi, esp
  0025f	6a 4b		 push	 75			; 0000004bH
  00261	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00264	50		 push	 eax
  00265	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00268	51		 push	 ecx
  00269	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  0026c	52		 push	 edx
  0026d	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  00270	50		 push	 eax
  00271	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00274	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0027a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0027d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00283	8b 12		 mov	 edx, DWORD PTR [edx]
  00285	51		 push	 ecx
  00286	ff 52 30	 call	 DWORD PTR [edx+48]
  00289	3b f4		 cmp	 esi, esp
  0028b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00290	85 c0		 test	 eax, eax
  00292	7c 13		 jl	 SHORT $L80289

; 543  :             {
; 544  :                 *pDepthStencilFormat = D3DFMT_D24S8;

  00294	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  00297	c7 00 4b 00 00
	00		 mov	 DWORD PTR [eax], 75	; 0000004bH

; 545  :                 return TRUE;

  0029d	b8 01 00 00 00	 mov	 eax, 1
  002a2	e9 3d 01 00 00	 jmp	 $L80273
$L80289:

; 546  :             }
; 547  :         }
; 548  :     }
; 549  : 
; 550  :     if( m_dwMinDepthBits <= 24 && m_dwMinStencilBits <= 4 )

  002a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002aa	83 b8 90 a6 02
	00 18		 cmp	 DWORD PTR [eax+173712], 24 ; 00000018H
  002b1	0f 87 91 00 00
	00		 ja	 $L80294
  002b7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002ba	83 b8 94 a6 02
	00 04		 cmp	 DWORD PTR [eax+173716], 4
  002c1	0f 87 81 00 00
	00		 ja	 $L80294

; 551  :     {
; 552  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 553  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D24X4S4 ) ) )

  002c7	8b f4		 mov	 esi, esp
  002c9	6a 4f		 push	 79			; 0000004fH
  002cb	6a 01		 push	 1
  002cd	6a 02		 push	 2
  002cf	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  002d2	50		 push	 eax
  002d3	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  002d6	51		 push	 ecx
  002d7	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  002da	52		 push	 edx
  002db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002de	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  002e4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002e7	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  002ed	8b 09		 mov	 ecx, DWORD PTR [ecx]
  002ef	50		 push	 eax
  002f0	ff 51 28	 call	 DWORD PTR [ecx+40]
  002f3	3b f4		 cmp	 esi, esp
  002f5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002fa	85 c0		 test	 eax, eax
  002fc	7c 4a		 jl	 SHORT $L80294

; 554  :         {
; 555  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 556  :                 TargetFormat, TargetFormat, D3DFMT_D24X4S4 ) ) )

  002fe	8b f4		 mov	 esi, esp
  00300	6a 4f		 push	 79			; 0000004fH
  00302	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  00305	50		 push	 eax
  00306	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  00309	51		 push	 ecx
  0030a	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  0030d	52		 push	 edx
  0030e	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  00311	50		 push	 eax
  00312	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00315	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0031b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0031e	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00324	8b 12		 mov	 edx, DWORD PTR [edx]
  00326	51		 push	 ecx
  00327	ff 52 30	 call	 DWORD PTR [edx+48]
  0032a	3b f4		 cmp	 esi, esp
  0032c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00331	85 c0		 test	 eax, eax
  00333	7c 13		 jl	 SHORT $L80294

; 557  :             {
; 558  :                 *pDepthStencilFormat = D3DFMT_D24X4S4;

  00335	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  00338	c7 00 4f 00 00
	00		 mov	 DWORD PTR [eax], 79	; 0000004fH

; 559  :                 return TRUE;

  0033e	b8 01 00 00 00	 mov	 eax, 1
  00343	e9 9c 00 00 00	 jmp	 $L80273
$L80294:

; 560  :             }
; 561  :         }
; 562  :     }
; 563  : 
; 564  :     if( m_dwMinDepthBits <= 32 && m_dwMinStencilBits == 0 )

  00348	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0034b	83 b8 90 a6 02
	00 20		 cmp	 DWORD PTR [eax+173712], 32 ; 00000020H
  00352	0f 87 8a 00 00
	00		 ja	 $L80299
  00358	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0035b	83 b8 94 a6 02
	00 00		 cmp	 DWORD PTR [eax+173716], 0
  00362	75 7e		 jne	 SHORT $L80299

; 565  :     {
; 566  :         if( SUCCEEDED( m_pD3D->CheckDeviceFormat( iAdapter, DeviceType,
; 567  :             TargetFormat, D3DUSAGE_DEPTHSTENCIL, D3DRTYPE_SURFACE, D3DFMT_D32 ) ) )

  00364	8b f4		 mov	 esi, esp
  00366	6a 47		 push	 71			; 00000047H
  00368	6a 01		 push	 1
  0036a	6a 02		 push	 2
  0036c	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  0036f	50		 push	 eax
  00370	8b 4d 0c	 mov	 ecx, DWORD PTR _DeviceType$[ebp]
  00373	51		 push	 ecx
  00374	8b 55 08	 mov	 edx, DWORD PTR _iAdapter$[ebp]
  00377	52		 push	 edx
  00378	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0037b	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00381	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00384	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0038a	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0038c	50		 push	 eax
  0038d	ff 51 28	 call	 DWORD PTR [ecx+40]
  00390	3b f4		 cmp	 esi, esp
  00392	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00397	85 c0		 test	 eax, eax
  00399	7c 47		 jl	 SHORT $L80299

; 568  :         {
; 569  :             if( SUCCEEDED( m_pD3D->CheckDepthStencilMatch( iAdapter, DeviceType,
; 570  :                 TargetFormat, TargetFormat, D3DFMT_D32 ) ) )

  0039b	8b f4		 mov	 esi, esp
  0039d	6a 47		 push	 71			; 00000047H
  0039f	8b 45 10	 mov	 eax, DWORD PTR _TargetFormat$[ebp]
  003a2	50		 push	 eax
  003a3	8b 4d 10	 mov	 ecx, DWORD PTR _TargetFormat$[ebp]
  003a6	51		 push	 ecx
  003a7	8b 55 0c	 mov	 edx, DWORD PTR _DeviceType$[ebp]
  003aa	52		 push	 edx
  003ab	8b 45 08	 mov	 eax, DWORD PTR _iAdapter$[ebp]
  003ae	50		 push	 eax
  003af	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003b2	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  003b8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003bb	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  003c1	8b 12		 mov	 edx, DWORD PTR [edx]
  003c3	51		 push	 ecx
  003c4	ff 52 30	 call	 DWORD PTR [edx+48]
  003c7	3b f4		 cmp	 esi, esp
  003c9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003ce	85 c0		 test	 eax, eax
  003d0	7c 10		 jl	 SHORT $L80299

; 571  :             {
; 572  :                 *pDepthStencilFormat = D3DFMT_D32;

  003d2	8b 45 14	 mov	 eax, DWORD PTR _pDepthStencilFormat$[ebp]
  003d5	c7 00 47 00 00
	00		 mov	 DWORD PTR [eax], 71	; 00000047H

; 573  :                 return TRUE;

  003db	b8 01 00 00 00	 mov	 eax, 1
  003e0	eb 02		 jmp	 SHORT $L80273
$L80299:

; 574  :             }
; 575  :         }
; 576  :     }
; 577  : 
; 578  :     return FALSE;

  003e2	33 c0		 xor	 eax, eax
$L80273:

; 579  : }

  003e4	5f		 pop	 edi
  003e5	5e		 pop	 esi
  003e6	5b		 pop	 ebx
  003e7	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  003ed	3b ec		 cmp	 ebp, esp
  003ef	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003f4	8b e5		 mov	 esp, ebp
  003f6	5d		 pop	 ebp
  003f7	c2 10 00	 ret	 16			; 00000010H
?FindDepthStencilFormat@CD3DApplication@@IAEHIW4_D3DDEVTYPE@@W4_D3DFORMAT@@PAW43@@Z ENDP ; CD3DApplication::FindDepthStencilFormat
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dev\x7g\d3dframe8.1 custom\include\d3dapp.h
_TEXT	ENDS
;	COMDAT ?InitDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?InitDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::InitDeviceObjects, COMDAT
; _this$ = ecx

; 186  :     virtual HRESULT InitDeviceObjects()                        { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?InitDeviceObjects@CD3DApplication@@MAEJXZ ENDP		; CD3DApplication::InitDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?RestoreDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?RestoreDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::RestoreDeviceObjects, COMDAT
; _this$ = ecx

; 187  :     virtual HRESULT RestoreDeviceObjects()                     { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?RestoreDeviceObjects@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::RestoreDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?FrameMove@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?FrameMove@CD3DApplication@@MAEJXZ PROC NEAR		; CD3DApplication::FrameMove, COMDAT
; _this$ = ecx

; 188  :     virtual HRESULT FrameMove()                                { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?FrameMove@CD3DApplication@@MAEJXZ ENDP			; CD3DApplication::FrameMove
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Render@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?Render@CD3DApplication@@MAEJXZ PROC NEAR		; CD3DApplication::Render, COMDAT
; _this$ = ecx

; 189  :     virtual HRESULT Render()                                   { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?Render@CD3DApplication@@MAEJXZ ENDP			; CD3DApplication::Render
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR ; CD3DApplication::InvalidateDeviceObjects, COMDAT
; _this$ = ecx

; 190  :     virtual HRESULT InvalidateDeviceObjects()                  { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?InvalidateDeviceObjects@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::InvalidateDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?DeleteDeviceObjects@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?DeleteDeviceObjects@CD3DApplication@@MAEJXZ PROC NEAR	; CD3DApplication::DeleteDeviceObjects, COMDAT
; _this$ = ecx

; 191  :     virtual HRESULT DeleteDeviceObjects()                      { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?DeleteDeviceObjects@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::DeleteDeviceObjects
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?FinalCleanup@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?FinalCleanup@CD3DApplication@@MAEJXZ PROC NEAR		; CD3DApplication::FinalCleanup, COMDAT
; _this$ = ecx

; 192  :     virtual HRESULT FinalCleanup()                             { return S_OK; }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	33 c0		 xor	 eax, eax
  00025	5f		 pop	 edi
  00026	5e		 pop	 esi
  00027	5b		 pop	 ebx
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c3		 ret	 0
?FinalCleanup@CD3DApplication@@MAEJXZ ENDP		; CD3DApplication::FinalCleanup
_TEXT	ENDS
PUBLIC	?Resize3DEnvironment@CD3DApplication@@IAEJXZ	; CD3DApplication::Resize3DEnvironment
PUBLIC	?ToggleFullscreen@CD3DApplication@@IAEJXZ	; CD3DApplication::ToggleFullscreen
PUBLIC	?UserSelectNewDevice@CD3DApplication@@IAEJXZ	; CD3DApplication::UserSelectNewDevice
PUBLIC	?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ	; CD3DApplication::Cleanup3DEnvironment
EXTRN	__imp__SetCursor@4:NEAR
EXTRN	__imp__GetCursorPos@4:NEAR
EXTRN	__imp__ClipCursor@4:NEAR
EXTRN	__imp__ScreenToClient@8:NEAR
EXTRN	__imp__GetMenu@4:NEAR
EXTRN	__imp__SendMessageA@16:NEAR
EXTRN	__imp__DestroyMenu@4:NEAR
EXTRN	__imp__GetSubMenu@8:NEAR
EXTRN	__imp__TrackPopupMenuEx@24:NEAR
EXTRN	__imp__DefWindowProcA@16:NEAR
EXTRN	__imp__PostQuitMessage@4:NEAR
EXTRN	__imp__DestroyWindow@4:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dev\x7g\d3dframe8.1 custom\src\d3dapp.cpp
;	COMDAT ?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
tv273 = -260
tv261 = -260
tv258 = -260
tv64 = -260
_ptCursor$80342 = -60
_rcClientOld$80332 = -44
_hr$ = -20
_this$ = -8
_hWnd$ = 8
_uMsg$ = 12
_wParam$ = 16
_lParam$ = 20
?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z PROC NEAR ; CD3DApplication::MsgProc, COMDAT
; _this$ = ecx

; 590  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd fc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-260]
  00013	b9 41 00 00 00	 mov	 ecx, 65			; 00000041H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 591  :     HRESULT hr;
; 592  : 
; 593  :     switch( uMsg )
; 594  :     {

  00023	8b 45 0c	 mov	 eax, DWORD PTR _uMsg$[ebp]
  00026	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  0002c	81 bd fc fe ff
	ff 11 01 00 00	 cmp	 DWORD PTR tv64[ebp], 273 ; 00000111H
  00036	77 40		 ja	 SHORT $L81181
  00038	81 bd fc fe ff
	ff 11 01 00 00	 cmp	 DWORD PTR tv64[ebp], 273 ; 00000111H
  00042	0f 84 6a 05 00
	00		 je	 $L80371
  00048	8b 8d fc fe ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  0004e	83 e9 05	 sub	 ecx, 5
  00051	89 8d fc fe ff
	ff		 mov	 DWORD PTR tv64[ebp], ecx
  00057	83 bd fc fe ff
	ff 7f		 cmp	 DWORD PTR tv64[ebp], 127 ; 0000007fH
  0005e	0f 87 41 07 00
	00		 ja	 $L80313
  00064	8b 95 fc fe ff
	ff		 mov	 edx, DWORD PTR tv64[ebp]
  0006a	0f b6 82 00 00
	00 00		 movzx	 eax, BYTE PTR $L81183[edx]
  00071	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $L81188[eax*4]
$L81181:
  00078	81 bd fc fe ff
	ff 12 02 00 00	 cmp	 DWORD PTR tv64[ebp], 530 ; 00000212H
  00082	77 45		 ja	 SHORT $L81182
  00084	81 bd fc fe ff
	ff 12 02 00 00	 cmp	 DWORD PTR tv64[ebp], 530 ; 00000212H
  0008e	0f 84 d6 03 00
	00		 je	 $L80345
  00094	81 bd fc fe ff
	ff 12 01 00 00	 cmp	 DWORD PTR tv64[ebp], 274 ; 00000112H
  0009e	0f 84 9e 04 00
	00		 je	 $L80364
  000a4	81 bd fc fe ff
	ff 00 02 00 00	 cmp	 DWORD PTR tv64[ebp], 512 ; 00000200H
  000ae	0f 84 0b 03 00
	00		 je	 $L80340
  000b4	81 bd fc fe ff
	ff 11 02 00 00	 cmp	 DWORD PTR tv64[ebp], 529 ; 00000211H
  000be	0f 84 8b 03 00
	00		 je	 $L80344
  000c4	e9 dc 06 00 00	 jmp	 $L80313
$L81182:
  000c9	81 bd fc fe ff
	ff 18 02 00 00	 cmp	 DWORD PTR tv64[ebp], 536 ; 00000218H
  000d3	0f 84 33 04 00
	00		 je	 $L80357
  000d9	81 bd fc fe ff
	ff 31 02 00 00	 cmp	 DWORD PTR tv64[ebp], 561 ; 00000231H
  000e3	0f 84 a5 00 00
	00		 je	 $L80324
  000e9	81 bd fc fe ff
	ff 32 02 00 00	 cmp	 DWORD PTR tv64[ebp], 562 ; 00000232H
  000f3	0f 84 06 01 00
	00		 je	 $L80330
  000f9	e9 a7 06 00 00	 jmp	 $L80313
$L80316:

; 595  :         case WM_PAINT:
; 596  :             // Handle paint messages when the app is not ready
; 597  :             if( m_pd3dDevice && !m_bReady )

  000fe	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00101	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  00108	74 55		 je	 SHORT $L80317
  0010a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010d	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00114	75 49		 jne	 SHORT $L80317

; 598  :             {
; 599  :                 if( m_bWindowed )

  00116	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00119	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00120	74 3d		 je	 SHORT $L80317

; 600  :                 {
; 601  :                     Render();

  00122	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00125	8b 10		 mov	 edx, DWORD PTR [eax]
  00127	8b f4		 mov	 esi, esp
  00129	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0012c	ff 52 18	 call	 DWORD PTR [edx+24]
  0012f	3b f4		 cmp	 esi, esp
  00131	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 602  :                     m_pd3dDevice->Present( NULL, NULL, NULL, NULL );

  00136	8b f4		 mov	 esi, esp
  00138	6a 00		 push	 0
  0013a	6a 00		 push	 0
  0013c	6a 00		 push	 0
  0013e	6a 00		 push	 0
  00140	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00143	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00149	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0014c	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00152	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00154	50		 push	 eax
  00155	ff 51 3c	 call	 DWORD PTR [ecx+60]
  00158	3b f4		 cmp	 esi, esp
  0015a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80317:

; 603  :                 }
; 604  :             }
; 605  :             break;

  0015f	e9 41 06 00 00	 jmp	 $L80313
$L80319:

; 606  : 
; 607  :         case WM_ACTIVATEAPP:
; 608  :             m_bHasFocus = (BOOL) wParam;

  00164	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00167	8b 4d 10	 mov	 ecx, DWORD PTR _wParam$[ebp]
  0016a	89 88 58 a4 02
	00		 mov	 DWORD PTR [eax+173144], ecx

; 609  :             break;

  00170	e9 30 06 00 00	 jmp	 $L80313
$L80321:

; 610  : 
; 611  :         case WM_GETMINMAXINFO:
; 612  :             ((MINMAXINFO*)lParam)->ptMinTrackSize.x = 100;

  00175	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00178	c7 40 18 64 00
	00 00		 mov	 DWORD PTR [eax+24], 100	; 00000064H

; 613  :             ((MINMAXINFO*)lParam)->ptMinTrackSize.y = 100;

  0017f	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00182	c7 40 1c 64 00
	00 00		 mov	 DWORD PTR [eax+28], 100	; 00000064H

; 614  :             break;

  00189	e9 17 06 00 00	 jmp	 $L80313
$L80324:

; 615  : 
; 616  :         case WM_ENTERSIZEMOVE:
; 617  :             // Halt frame movement while the app is sizing or moving
; 618  :             Pause( TRUE );

  0018e	8b f4		 mov	 esi, esp
  00190	6a 01		 push	 1
  00192	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00195	8b 10		 mov	 edx, DWORD PTR [eax]
  00197	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0019a	ff 52 34	 call	 DWORD PTR [edx+52]
  0019d	3b f4		 cmp	 esi, esp
  0019f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 619  :             break;

  001a4	e9 fc 05 00 00	 jmp	 $L80313
$L80325:

; 620  : 
; 621  :         case WM_SIZE:
; 622  :             // Check to see if we are losing our window...
; 623  :             if( SIZE_MAXHIDE==wParam || SIZE_MINIMIZED==wParam )

  001a9	83 7d 10 04	 cmp	 DWORD PTR _wParam$[ebp], 4
  001ad	74 06		 je	 SHORT $L80327
  001af	83 7d 10 01	 cmp	 DWORD PTR _wParam$[ebp], 1
  001b3	75 38		 jne	 SHORT $L80326
$L80327:

; 624  :             {
; 625  :                 if( m_bClipCursorWhenFullscreen && !m_bWindowed )

  001b5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001b8	83 b8 a4 a6 02
	00 00		 cmp	 DWORD PTR [eax+173732], 0
  001bf	74 1d		 je	 SHORT $L80328
  001c1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001c4	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  001cb	75 11		 jne	 SHORT $L80328

; 626  :                     ClipCursor( NULL );

  001cd	8b f4		 mov	 esi, esp
  001cf	6a 00		 push	 0
  001d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  001d7	3b f4		 cmp	 esi, esp
  001d9	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80328:

; 627  :                 m_bActive = FALSE;

  001de	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001e1	c7 80 50 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173136], 0

; 628  :             }
; 629  :             else

  001eb	eb 0d		 jmp	 SHORT $L80329
$L80326:

; 630  :             {
; 631  :                 m_bActive = TRUE;

  001ed	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001f0	c7 80 50 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173136], 1
$L80329:

; 632  :             }
; 633  :             break;

  001fa	e9 a6 05 00 00	 jmp	 $L80313
$L80330:

; 634  : 
; 635  :         case WM_EXITSIZEMOVE:
; 636  :             Pause( FALSE );

  001ff	8b f4		 mov	 esi, esp
  00201	6a 00		 push	 0
  00203	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00206	8b 10		 mov	 edx, DWORD PTR [eax]
  00208	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0020b	ff 52 34	 call	 DWORD PTR [edx+52]
  0020e	3b f4		 cmp	 esi, esp
  00210	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 637  : 
; 638  :             if( m_bActive && m_bWindowed )

  00215	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00218	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0021f	0f 84 22 01 00
	00		 je	 $L80331
  00225	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00228	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0022f	0f 84 12 01 00
	00		 je	 $L80331

; 639  :             {
; 640  :                 RECT rcClientOld;
; 641  :                 rcClientOld = m_rcWindowClient;

  00235	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00238	05 b8 a5 02 00	 add	 eax, 173496		; 0002a5b8H
  0023d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0023f	89 4d d4	 mov	 DWORD PTR _rcClientOld$80332[ebp], ecx
  00242	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00245	89 55 d8	 mov	 DWORD PTR _rcClientOld$80332[ebp+4], edx
  00248	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0024b	89 4d dc	 mov	 DWORD PTR _rcClientOld$80332[ebp+8], ecx
  0024e	8b 50 0c	 mov	 edx, DWORD PTR [eax+12]
  00251	89 55 e0	 mov	 DWORD PTR _rcClientOld$80332[ebp+12], edx

; 642  : 
; 643  :                 // Update window properties
; 644  :                 GetWindowRect( m_hWnd, &m_rcWindowBounds );

  00254	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00257	05 a8 a5 02 00	 add	 eax, 173480		; 0002a5a8H
  0025c	8b f4		 mov	 esi, esp
  0025e	50		 push	 eax
  0025f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00262	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00268	52		 push	 edx
  00269	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  0026f	3b f4		 cmp	 esi, esp
  00271	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 645  :                 GetClientRect( m_hWnd, &m_rcWindowClient );

  00276	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00279	05 b8 a5 02 00	 add	 eax, 173496		; 0002a5b8H
  0027e	8b f4		 mov	 esi, esp
  00280	50		 push	 eax
  00281	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00284	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  0028a	52		 push	 edx
  0028b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8
  00291	3b f4		 cmp	 esi, esp
  00293	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 646  : 
; 647  :                 if( rcClientOld.right - rcClientOld.left !=
; 648  :                     m_rcWindowClient.right - m_rcWindowClient.left ||
; 649  :                     rcClientOld.bottom - rcClientOld.top !=
; 650  :                     m_rcWindowClient.bottom - m_rcWindowClient.top)

  00298	8b 45 dc	 mov	 eax, DWORD PTR _rcClientOld$80332[ebp+8]
  0029b	2b 45 d4	 sub	 eax, DWORD PTR _rcClientOld$80332[ebp]
  0029e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002a1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002a4	8b 89 c0 a5 02
	00		 mov	 ecx, DWORD PTR [ecx+173504]
  002aa	2b 8a b8 a5 02
	00		 sub	 ecx, DWORD PTR [edx+173496]
  002b0	3b c1		 cmp	 eax, ecx
  002b2	75 1c		 jne	 SHORT $L80334
  002b4	8b 45 e0	 mov	 eax, DWORD PTR _rcClientOld$80332[ebp+12]
  002b7	2b 45 d8	 sub	 eax, DWORD PTR _rcClientOld$80332[ebp+4]
  002ba	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002bd	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002c0	8b 89 c4 a5 02
	00		 mov	 ecx, DWORD PTR [ecx+173508]
  002c6	2b 8a bc a5 02
	00		 sub	 ecx, DWORD PTR [edx+173500]
  002cc	3b c1		 cmp	 eax, ecx
  002ce	74 77		 je	 SHORT $L80331
$L80334:

; 651  :                 {
; 652  :                     // A new window size will require a new backbuffer
; 653  :                     // size, so the 3D structures must be changed accordingly.
; 654  :                     m_bReady = FALSE;

  002d0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002d3	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 655  : 
; 656  :                     m_d3dpp.BackBufferWidth  = m_rcWindowClient.right - m_rcWindowClient.left;

  002dd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002e0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002e3	8b 90 c0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173504]
  002e9	2b 91 b8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173496]
  002ef	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002f2	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 657  :                     m_d3dpp.BackBufferHeight = m_rcWindowClient.bottom - m_rcWindowClient.top;

  002f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002fb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002fe	8b 90 c4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173508]
  00304	2b 91 bc a5 02
	00		 sub	 edx, DWORD PTR [ecx+173500]
  0030a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0030d	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 658  : 
; 659  :                     // Resize the 3D environment
; 660  :                     if( FAILED( hr = Resize3DEnvironment() ) )

  00313	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00316	e8 00 00 00 00	 call	 ?Resize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Resize3DEnvironment
  0031b	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0031e	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00322	7d 16		 jge	 SHORT $L80336

; 661  :                     {
; 662  :                         DisplayErrorMsg( D3DAPPERR_RESIZEFAILED, MSGERR_APPMUSTEXIT );

  00324	6a 01		 push	 1
  00326	68 0c 00 00 82	 push	 -2113929204		; 8200000cH
  0032b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0032e	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 663  :                         return 0;

  00333	33 c0		 xor	 eax, eax
  00335	e9 8a 04 00 00	 jmp	 $L80310
$L80336:

; 664  :                     }
; 665  : 
; 666  :                     m_bReady = TRUE;

  0033a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0033d	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1
$L80331:

; 667  :                 }
; 668  :             }
; 669  : 
; 670  :             break;

  00347	e9 59 04 00 00	 jmp	 $L80313
$L80337:

; 671  : 
; 672  :         case WM_SETCURSOR:
; 673  :             // Turn off Windows cursor in fullscreen mode
; 674  :             if( m_bActive && m_bReady && !m_bWindowed )

  0034c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0034f	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  00356	74 62		 je	 SHORT $L80338
  00358	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0035b	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00362	74 56		 je	 SHORT $L80338
  00364	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00367	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0036e	75 4a		 jne	 SHORT $L80338

; 675  :             {
; 676  :                 SetCursor( NULL );

  00370	8b f4		 mov	 esi, esp
  00372	6a 00		 push	 0
  00374	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetCursor@4
  0037a	3b f4		 cmp	 esi, esp
  0037c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 677  :                 if( m_bShowCursorWhenFullscreen )

  00381	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00384	83 b8 a0 a6 02
	00 00		 cmp	 DWORD PTR [eax+173728], 0
  0038b	74 23		 je	 SHORT $L80339

; 678  :                     m_pd3dDevice->ShowCursor( TRUE );

  0038d	8b f4		 mov	 esi, esp
  0038f	6a 01		 push	 1
  00391	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00394	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0039a	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0039d	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  003a3	8b 09		 mov	 ecx, DWORD PTR [ecx]
  003a5	50		 push	 eax
  003a6	ff 51 30	 call	 DWORD PTR [ecx+48]
  003a9	3b f4		 cmp	 esi, esp
  003ab	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80339:

; 679  :                 return TRUE; // prevent Windows from setting cursor to window class cursor

  003b0	b8 01 00 00 00	 mov	 eax, 1
  003b5	e9 0a 04 00 00	 jmp	 $L80310
$L80338:

; 680  :             }
; 681  :             break;

  003ba	e9 e6 03 00 00	 jmp	 $L80313
$L80340:

; 682  : 
; 683  :          case WM_MOUSEMOVE:
; 684  :             if( m_bActive && m_bReady && m_pd3dDevice != NULL )

  003bf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003c2	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  003c9	74 7f		 je	 SHORT $L80341
  003cb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003ce	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  003d5	74 73		 je	 SHORT $L80341
  003d7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003da	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  003e1	74 67		 je	 SHORT $L80341

; 685  :             {
; 686  :                 POINT ptCursor;
; 687  :                 GetCursorPos( &ptCursor );

  003e3	8b f4		 mov	 esi, esp
  003e5	8d 45 c4	 lea	 eax, DWORD PTR _ptCursor$80342[ebp]
  003e8	50		 push	 eax
  003e9	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCursorPos@4
  003ef	3b f4		 cmp	 esi, esp
  003f1	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 688  :                 if( !m_bWindowed )

  003f6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003f9	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00400	75 1d		 jne	 SHORT $L80343

; 689  :                     ScreenToClient( m_hWnd, &ptCursor );

  00402	8b f4		 mov	 esi, esp
  00404	8d 45 c4	 lea	 eax, DWORD PTR _ptCursor$80342[ebp]
  00407	50		 push	 eax
  00408	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0040b	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00411	52		 push	 edx
  00412	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ScreenToClient@8
  00418	3b f4		 cmp	 esi, esp
  0041a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80343:

; 690  :                 m_pd3dDevice->SetCursorPosition( ptCursor.x, ptCursor.y, 0L );

  0041f	8b f4		 mov	 esi, esp
  00421	6a 00		 push	 0
  00423	8b 45 c8	 mov	 eax, DWORD PTR _ptCursor$80342[ebp+4]
  00426	50		 push	 eax
  00427	8b 4d c4	 mov	 ecx, DWORD PTR _ptCursor$80342[ebp]
  0042a	51		 push	 ecx
  0042b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0042e	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00434	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00437	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  0043d	8b 00		 mov	 eax, DWORD PTR [eax]
  0043f	52		 push	 edx
  00440	ff 50 2c	 call	 DWORD PTR [eax+44]
  00443	3b f4		 cmp	 esi, esp
  00445	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80341:

; 691  :             }
; 692  :             break;

  0044a	e9 56 03 00 00	 jmp	 $L80313
$L80344:

; 693  : 
; 694  :        case WM_ENTERMENULOOP:
; 695  :             // Pause the app when menus are displayed
; 696  :             Pause(TRUE);

  0044f	8b f4		 mov	 esi, esp
  00451	6a 01		 push	 1
  00453	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00456	8b 10		 mov	 edx, DWORD PTR [eax]
  00458	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0045b	ff 52 34	 call	 DWORD PTR [edx+52]
  0045e	3b f4		 cmp	 esi, esp
  00460	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 697  :             break;

  00465	e9 3b 03 00 00	 jmp	 $L80313
$L80345:

; 698  : 
; 699  :         case WM_EXITMENULOOP:
; 700  :             Pause(FALSE);

  0046a	8b f4		 mov	 esi, esp
  0046c	6a 00		 push	 0
  0046e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00471	8b 10		 mov	 edx, DWORD PTR [eax]
  00473	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00476	ff 52 34	 call	 DWORD PTR [edx+52]
  00479	3b f4		 cmp	 esi, esp
  0047b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 701  :             break;

  00480	e9 20 03 00 00	 jmp	 $L80313
$L80346:

; 702  : 
; 703  :         case WM_CONTEXTMENU:
; 704  :             // No context menus allowed in fullscreen mode
; 705  :             if( m_bWindowed == FALSE )

  00485	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00488	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0048f	75 05		 jne	 SHORT $L80347

; 706  :                 break;

  00491	e9 0f 03 00 00	 jmp	 $L80313
$L80347:

; 707  : 
; 708  :             // Handle the app's context menu (via right mouse click)
; 709  :             TrackPopupMenuEx( GetSubMenu( LoadMenu( 0, MAKEINTRESOURCE(IDR_POPUP) ), 0 ),
; 710  :                               TPM_VERTICAL, LOWORD(lParam), HIWORD(lParam), hWnd, NULL );

  00496	8b f4		 mov	 esi, esp
  00498	6a 00		 push	 0
  0049a	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0049d	50		 push	 eax
  0049e	8b 4d 14	 mov	 ecx, DWORD PTR _lParam$[ebp]
  004a1	c1 e9 10	 shr	 ecx, 16			; 00000010H
  004a4	0f b7 d1	 movzx	 edx, cx
  004a7	52		 push	 edx
  004a8	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  004ab	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  004b0	0f b7 c8	 movzx	 ecx, ax
  004b3	51		 push	 ecx
  004b4	6a 40		 push	 64			; 00000040H
  004b6	8b fc		 mov	 edi, esp
  004b8	6a 00		 push	 0
  004ba	8b dc		 mov	 ebx, esp
  004bc	68 8e 00 00 00	 push	 142			; 0000008eH
  004c1	6a 00		 push	 0
  004c3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadMenuA@8
  004c9	3b dc		 cmp	 ebx, esp
  004cb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004d0	50		 push	 eax
  004d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetSubMenu@8
  004d7	3b fc		 cmp	 edi, esp
  004d9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004de	50		 push	 eax
  004df	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TrackPopupMenuEx@24
  004e5	3b f4		 cmp	 esi, esp
  004e7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 711  :             break;

  004ec	e9 b4 02 00 00	 jmp	 $L80313
$L80355:

; 712  : 
; 713  :         case WM_NCHITTEST:
; 714  :             // Prevent the user from selecting the menu in fullscreen mode
; 715  :             if( !m_bWindowed )

  004f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004f4	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  004fb	75 0a		 jne	 SHORT $L80356

; 716  :                 return HTCLIENT;

  004fd	b8 01 00 00 00	 mov	 eax, 1
  00502	e9 bd 02 00 00	 jmp	 $L80310
$L80356:

; 717  : 
; 718  :             break;

  00507	e9 99 02 00 00	 jmp	 $L80313
$L80357:

; 719  : 
; 720  :         case WM_POWERBROADCAST:
; 721  :             switch( wParam )
; 722  :             {

  0050c	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0050f	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv258[ebp], eax
  00515	83 bd fc fe ff
	ff 00		 cmp	 DWORD PTR tv258[ebp], 0
  0051c	74 0b		 je	 SHORT $L80362
  0051e	83 bd fc fe ff
	ff 07		 cmp	 DWORD PTR tv258[ebp], 7
  00525	74 0c		 je	 SHORT $L80363
  00527	eb 14		 jmp	 SHORT $L80359
$L80362:

; 723  :                 #ifndef PBT_APMQUERYSUSPEND
; 724  :                     #define PBT_APMQUERYSUSPEND 0x0000
; 725  :                 #endif
; 726  :                 case PBT_APMQUERYSUSPEND:
; 727  :                     // At this point, the app should save any data for open
; 728  :                     // network connections, files, etc., and prepare to go into
; 729  :                     // a suspended mode.
; 730  :                     return TRUE;

  00529	b8 01 00 00 00	 mov	 eax, 1
  0052e	e9 91 02 00 00	 jmp	 $L80310
$L80363:

; 731  : 
; 732  :                 #ifndef PBT_APMRESUMESUSPEND
; 733  :                     #define PBT_APMRESUMESUSPEND 0x0007
; 734  :                 #endif
; 735  :                 case PBT_APMRESUMESUSPEND:
; 736  :                     // At this point, the app should recover any data, network
; 737  :                     // connections, files, etc., and resume running from when
; 738  :                     // the app was suspended.
; 739  :                     return TRUE;

  00533	b8 01 00 00 00	 mov	 eax, 1
  00538	e9 87 02 00 00	 jmp	 $L80310
$L80359:

; 740  :             }
; 741  :             break;

  0053d	e9 63 02 00 00	 jmp	 $L80313
$L80364:

; 742  : 
; 743  :         case WM_SYSCOMMAND:
; 744  :             // Prevent moving/sizing and power loss in fullscreen mode
; 745  :             switch( wParam )
; 746  :             {

  00542	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00545	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv261[ebp], eax
  0054b	81 bd fc fe ff
	ff 30 f0 00 00	 cmp	 DWORD PTR tv261[ebp], 61488 ; 0000f030H
  00555	77 26		 ja	 SHORT $L81180
  00557	81 bd fc fe ff
	ff 30 f0 00 00	 cmp	 DWORD PTR tv261[ebp], 61488 ; 0000f030H
  00561	74 34		 je	 SHORT $L80369
  00563	81 bd fc fe ff
	ff 00 f0 00 00	 cmp	 DWORD PTR tv261[ebp], 61440 ; 0000f000H
  0056d	74 28		 je	 SHORT $L80369
  0056f	81 bd fc fe ff
	ff 10 f0 00 00	 cmp	 DWORD PTR tv261[ebp], 61456 ; 0000f010H
  00579	74 1c		 je	 SHORT $L80369
  0057b	eb 30		 jmp	 SHORT $L80366
$L81180:
  0057d	81 bd fc fe ff
	ff 00 f1 00 00	 cmp	 DWORD PTR tv261[ebp], 61696 ; 0000f100H
  00587	74 0e		 je	 SHORT $L80369
  00589	81 bd fc fe ff
	ff 70 f1 00 00	 cmp	 DWORD PTR tv261[ebp], 61808 ; 0000f170H
  00593	74 02		 je	 SHORT $L80369
  00595	eb 16		 jmp	 SHORT $L80366
$L80369:

; 747  :                 case SC_MOVE:
; 748  :                 case SC_SIZE:
; 749  :                 case SC_MAXIMIZE:
; 750  :                 case SC_KEYMENU:
; 751  :                 case SC_MONITORPOWER:
; 752  :                     if( FALSE == m_bWindowed )

  00597	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0059a	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  005a1	75 0a		 jne	 SHORT $L80366

; 753  :                         return 1;

  005a3	b8 01 00 00 00	 mov	 eax, 1
  005a8	e9 17 02 00 00	 jmp	 $L80310
$L80366:

; 754  :                     break;
; 755  :             }
; 756  :             break;

  005ad	e9 f3 01 00 00	 jmp	 $L80313
$L80371:

; 757  : 
; 758  :         case WM_COMMAND:
; 759  :             switch( LOWORD(wParam) )
; 760  :             {

  005b2	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  005b5	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  005ba	0f b7 c8	 movzx	 ecx, ax
  005bd	89 8d fc fe ff
	ff		 mov	 DWORD PTR tv273[ebp], ecx
  005c3	8b 95 fc fe ff
	ff		 mov	 edx, DWORD PTR tv273[ebp]
  005c9	81 ea 42 9c 00
	00		 sub	 edx, 40002		; 00009c42H
  005cf	89 95 fc fe ff
	ff		 mov	 DWORD PTR tv273[ebp], edx
  005d5	83 bd fc fe ff
	ff 04		 cmp	 DWORD PTR tv273[ebp], 4
  005dc	0f 87 6e 01 00
	00		 ja	 $L80375
  005e2	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv273[ebp]
  005e8	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $L81189[eax*4]
$L80378:

; 761  :                 case IDM_TOGGLESTART:
; 762  :                     // Toggle frame movement
; 763  :                     m_bFrameMoving = !m_bFrameMoving;

  005ef	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005f2	33 c9		 xor	 ecx, ecx
  005f4	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  005fb	0f 94 c1	 sete	 cl
  005fe	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00601	89 8a 5c a4 02
	00		 mov	 DWORD PTR [edx+173148], ecx

; 764  :                     DXUtil_Timer( m_bFrameMoving ? TIMER_START : TIMER_STOP );

  00607	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0060a	33 c9		 xor	 ecx, ecx
  0060c	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  00613	0f 94 c1	 sete	 cl
  00616	41		 inc	 ecx
  00617	51		 push	 ecx
  00618	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0061d	dd d8		 fstp	 ST(0)

; 765  :                     break;

  0061f	e9 2c 01 00 00	 jmp	 $L80375
$L80379:

; 766  : 
; 767  :                 case IDM_SINGLESTEP:
; 768  :                     // Single-step frame movement
; 769  :                     if( FALSE == m_bFrameMoving )

  00624	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00627	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0062e	75 0b		 jne	 SHORT $L80380

; 770  :                         DXUtil_Timer( TIMER_ADVANCE );

  00630	6a 03		 push	 3
  00632	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00637	dd d8		 fstp	 ST(0)

; 771  :                     else

  00639	eb 09		 jmp	 SHORT $L80381
$L80380:

; 772  :                         DXUtil_Timer( TIMER_STOP );

  0063b	6a 02		 push	 2
  0063d	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00642	dd d8		 fstp	 ST(0)
$L80381:

; 773  :                     m_bFrameMoving = FALSE;

  00644	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00647	c7 80 5c a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173148], 0

; 774  :                     m_bSingleStep  = TRUE;

  00651	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00654	c7 80 60 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173152], 1

; 775  :                     break;

  0065e	e9 ed 00 00 00	 jmp	 $L80375
$L80382:

; 776  : 
; 777  :                 case IDM_CHANGEDEVICE:
; 778  :                     // Prompt the user to select a new device or mode
; 779  :                     if( m_bActive && m_bReady )

  00663	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00666	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0066d	74 50		 je	 SHORT $L80383
  0066f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00672	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00679	74 44		 je	 SHORT $L80383

; 780  :                     {
; 781  :                         Pause(TRUE);

  0067b	8b f4		 mov	 esi, esp
  0067d	6a 01		 push	 1
  0067f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00682	8b 10		 mov	 edx, DWORD PTR [eax]
  00684	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00687	ff 52 34	 call	 DWORD PTR [edx+52]
  0068a	3b f4		 cmp	 esi, esp
  0068c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 782  : 
; 783  :                         if( FAILED( hr = UserSelectNewDevice() ) )

  00691	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00694	e8 00 00 00 00	 call	 ?UserSelectNewDevice@CD3DApplication@@IAEJXZ ; CD3DApplication::UserSelectNewDevice
  00699	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0069c	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  006a0	7d 07		 jge	 SHORT $L80385

; 784  :                             return 0;

  006a2	33 c0		 xor	 eax, eax
  006a4	e9 1b 01 00 00	 jmp	 $L80310
$L80385:

; 785  : 
; 786  :                         Pause(FALSE);

  006a9	8b f4		 mov	 esi, esp
  006ab	6a 00		 push	 0
  006ad	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006b0	8b 10		 mov	 edx, DWORD PTR [eax]
  006b2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006b5	ff 52 34	 call	 DWORD PTR [edx+52]
  006b8	3b f4		 cmp	 esi, esp
  006ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80383:

; 787  :                     }
; 788  :                     return 0;

  006bf	33 c0		 xor	 eax, eax
  006c1	e9 fe 00 00 00	 jmp	 $L80310
$L80386:

; 789  : 
; 790  :                 case IDM_TOGGLEFULLSCREEN:
; 791  :                     // Toggle the fullscreen/window mode
; 792  :                     if( m_bActive && m_bReady )

  006c6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006c9	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  006d0	74 5a		 je	 SHORT $L80387
  006d2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006d5	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  006dc	74 4e		 je	 SHORT $L80387

; 793  :                     {
; 794  :                         Pause( TRUE );

  006de	8b f4		 mov	 esi, esp
  006e0	6a 01		 push	 1
  006e2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006e5	8b 10		 mov	 edx, DWORD PTR [eax]
  006e7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006ea	ff 52 34	 call	 DWORD PTR [edx+52]
  006ed	3b f4		 cmp	 esi, esp
  006ef	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 795  :                         
; 796  :                         if( FAILED( ToggleFullscreen() ) )

  006f4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  006f7	e8 00 00 00 00	 call	 ?ToggleFullscreen@CD3DApplication@@IAEJXZ ; CD3DApplication::ToggleFullscreen
  006fc	85 c0		 test	 eax, eax
  006fe	7d 16		 jge	 SHORT $L80389

; 797  :                         {
; 798  :                             DisplayErrorMsg( D3DAPPERR_RESIZEFAILED, MSGERR_APPMUSTEXIT );

  00700	6a 01		 push	 1
  00702	68 0c 00 00 82	 push	 -2113929204		; 8200000cH
  00707	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0070a	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 799  :                             return 0;

  0070f	33 c0		 xor	 eax, eax
  00711	e9 ae 00 00 00	 jmp	 $L80310
$L80389:

; 800  :                         }
; 801  : 
; 802  :                         Pause( FALSE );                        

  00716	8b f4		 mov	 esi, esp
  00718	6a 00		 push	 0
  0071a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0071d	8b 10		 mov	 edx, DWORD PTR [eax]
  0071f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00722	ff 52 34	 call	 DWORD PTR [edx+52]
  00725	3b f4		 cmp	 esi, esp
  00727	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80387:

; 803  :                     }
; 804  :                     return 0;

  0072c	33 c0		 xor	 eax, eax
  0072e	e9 91 00 00 00	 jmp	 $L80310
$L80390:

; 805  : 
; 806  :                 case IDM_EXIT:
; 807  :                     // Recieved key/menu command to exit app
; 808  :                     SendMessage( hWnd, WM_CLOSE, 0, 0 );

  00733	8b f4		 mov	 esi, esp
  00735	6a 00		 push	 0
  00737	6a 00		 push	 0
  00739	6a 10		 push	 16			; 00000010H
  0073b	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0073e	50		 push	 eax
  0073f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00745	3b f4		 cmp	 esi, esp
  00747	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 809  :                     return 0;

  0074c	33 c0		 xor	 eax, eax
  0074e	eb 74		 jmp	 SHORT $L80310
$L80375:

; 810  :             }
; 811  :             break;

  00750	eb 53		 jmp	 SHORT $L80313
$L80391:

; 812  : 
; 813  :         case WM_CLOSE:
; 814  :             Cleanup3DEnvironment();

  00752	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00755	e8 00 00 00 00	 call	 ?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ ; CD3DApplication::Cleanup3DEnvironment

; 815  :             DestroyMenu( GetMenu(hWnd) );

  0075a	8b f4		 mov	 esi, esp
  0075c	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  0075f	50		 push	 eax
  00760	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetMenu@4
  00766	3b f4		 cmp	 esi, esp
  00768	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0076d	8b f4		 mov	 esi, esp
  0076f	50		 push	 eax
  00770	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DestroyMenu@4
  00776	3b f4		 cmp	 esi, esp
  00778	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 816  :             DestroyWindow( hWnd );

  0077d	8b f4		 mov	 esi, esp
  0077f	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  00782	50		 push	 eax
  00783	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DestroyWindow@4
  00789	3b f4		 cmp	 esi, esp
  0078b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 817  :             PostQuitMessage(0);

  00790	8b f4		 mov	 esi, esp
  00792	6a 00		 push	 0
  00794	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PostQuitMessage@4
  0079a	3b f4		 cmp	 esi, esp
  0079c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 818  :             return 0;

  007a1	33 c0		 xor	 eax, eax
  007a3	eb 1f		 jmp	 SHORT $L80310
$L80313:

; 819  :     }
; 820  : 
; 821  :     return DefWindowProc( hWnd, uMsg, wParam, lParam );

  007a5	8b f4		 mov	 esi, esp
  007a7	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  007aa	50		 push	 eax
  007ab	8b 4d 10	 mov	 ecx, DWORD PTR _wParam$[ebp]
  007ae	51		 push	 ecx
  007af	8b 55 0c	 mov	 edx, DWORD PTR _uMsg$[ebp]
  007b2	52		 push	 edx
  007b3	8b 45 08	 mov	 eax, DWORD PTR _hWnd$[ebp]
  007b6	50		 push	 eax
  007b7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DefWindowProcA@16
  007bd	3b f4		 cmp	 esi, esp
  007bf	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80310:

; 822  : }

  007c4	52		 push	 edx
  007c5	8b cd		 mov	 ecx, ebp
  007c7	50		 push	 eax
  007c8	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81187
  007ce	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  007d3	58		 pop	 eax
  007d4	5a		 pop	 edx
  007d5	5f		 pop	 edi
  007d6	5e		 pop	 esi
  007d7	5b		 pop	 ebx
  007d8	81 c4 04 01 00
	00		 add	 esp, 260		; 00000104H
  007de	3b ec		 cmp	 ebp, esp
  007e0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  007e5	8b e5		 mov	 esp, ebp
  007e7	5d		 pop	 ebp
  007e8	c2 10 00	 ret	 16			; 00000010H
$L81187:
  007eb	02 00 00 00	 DD	 2
  007ef	00 00 00 00	 DD	 $L81186
$L81186:
  007f3	d4 ff ff ff	 DD	 -44			; ffffffd4H
  007f7	10 00 00 00	 DD	 16			; 00000010H
  007fb	00 00 00 00	 DD	 $L81184
  007ff	c4 ff ff ff	 DD	 -60			; ffffffc4H
  00803	08 00 00 00	 DD	 8
  00807	00 00 00 00	 DD	 $L81185
$L81185:
  0080b	70		 DB	 112			; 00000070H
  0080c	74		 DB	 116			; 00000074H
  0080d	43		 DB	 67			; 00000043H
  0080e	75		 DB	 117			; 00000075H
  0080f	72		 DB	 114			; 00000072H
  00810	73		 DB	 115			; 00000073H
  00811	6f		 DB	 111			; 0000006fH
  00812	72		 DB	 114			; 00000072H
  00813	00		 DB	 0
$L81184:
  00814	72		 DB	 114			; 00000072H
  00815	63		 DB	 99			; 00000063H
  00816	43		 DB	 67			; 00000043H
  00817	6c		 DB	 108			; 0000006cH
  00818	69		 DB	 105			; 00000069H
  00819	65		 DB	 101			; 00000065H
  0081a	6e		 DB	 110			; 0000006eH
  0081b	74		 DB	 116			; 00000074H
  0081c	4f		 DB	 79			; 0000004fH
  0081d	6c		 DB	 108			; 0000006cH
  0081e	64		 DB	 100			; 00000064H
  0081f	00		 DB	 0
$L81188:
  00820	00 00 00 00	 DD	 $L80325
  00824	00 00 00 00	 DD	 $L80316
  00828	00 00 00 00	 DD	 $L80391
  0082c	00 00 00 00	 DD	 $L80319
  00830	00 00 00 00	 DD	 $L80337
  00834	00 00 00 00	 DD	 $L80321
  00838	00 00 00 00	 DD	 $L80346
  0083c	00 00 00 00	 DD	 $L80355
  00840	00 00 00 00	 DD	 $L80313
$L81183:
  00844	00		 DB	 0
  00845	08		 DB	 8
  00846	08		 DB	 8
  00847	08		 DB	 8
  00848	08		 DB	 8
  00849	08		 DB	 8
  0084a	08		 DB	 8
  0084b	08		 DB	 8
  0084c	08		 DB	 8
  0084d	08		 DB	 8
  0084e	01		 DB	 1
  0084f	02		 DB	 2
  00850	08		 DB	 8
  00851	08		 DB	 8
  00852	08		 DB	 8
  00853	08		 DB	 8
  00854	08		 DB	 8
  00855	08		 DB	 8
  00856	08		 DB	 8
  00857	08		 DB	 8
  00858	08		 DB	 8
  00859	08		 DB	 8
  0085a	08		 DB	 8
  0085b	03		 DB	 3
  0085c	08		 DB	 8
  0085d	08		 DB	 8
  0085e	08		 DB	 8
  0085f	04		 DB	 4
  00860	08		 DB	 8
  00861	08		 DB	 8
  00862	08		 DB	 8
  00863	05		 DB	 5
  00864	08		 DB	 8
  00865	08		 DB	 8
  00866	08		 DB	 8
  00867	08		 DB	 8
  00868	08		 DB	 8
  00869	08		 DB	 8
  0086a	08		 DB	 8
  0086b	08		 DB	 8
  0086c	08		 DB	 8
  0086d	08		 DB	 8
  0086e	08		 DB	 8
  0086f	08		 DB	 8
  00870	08		 DB	 8
  00871	08		 DB	 8
  00872	08		 DB	 8
  00873	08		 DB	 8
  00874	08		 DB	 8
  00875	08		 DB	 8
  00876	08		 DB	 8
  00877	08		 DB	 8
  00878	08		 DB	 8
  00879	08		 DB	 8
  0087a	08		 DB	 8
  0087b	08		 DB	 8
  0087c	08		 DB	 8
  0087d	08		 DB	 8
  0087e	08		 DB	 8
  0087f	08		 DB	 8
  00880	08		 DB	 8
  00881	08		 DB	 8
  00882	08		 DB	 8
  00883	08		 DB	 8
  00884	08		 DB	 8
  00885	08		 DB	 8
  00886	08		 DB	 8
  00887	08		 DB	 8
  00888	08		 DB	 8
  00889	08		 DB	 8
  0088a	08		 DB	 8
  0088b	08		 DB	 8
  0088c	08		 DB	 8
  0088d	08		 DB	 8
  0088e	08		 DB	 8
  0088f	08		 DB	 8
  00890	08		 DB	 8
  00891	08		 DB	 8
  00892	08		 DB	 8
  00893	08		 DB	 8
  00894	08		 DB	 8
  00895	08		 DB	 8
  00896	08		 DB	 8
  00897	08		 DB	 8
  00898	08		 DB	 8
  00899	08		 DB	 8
  0089a	08		 DB	 8
  0089b	08		 DB	 8
  0089c	08		 DB	 8
  0089d	08		 DB	 8
  0089e	08		 DB	 8
  0089f	08		 DB	 8
  008a0	08		 DB	 8
  008a1	08		 DB	 8
  008a2	08		 DB	 8
  008a3	08		 DB	 8
  008a4	08		 DB	 8
  008a5	08		 DB	 8
  008a6	08		 DB	 8
  008a7	08		 DB	 8
  008a8	08		 DB	 8
  008a9	08		 DB	 8
  008aa	08		 DB	 8
  008ab	08		 DB	 8
  008ac	08		 DB	 8
  008ad	08		 DB	 8
  008ae	08		 DB	 8
  008af	08		 DB	 8
  008b0	08		 DB	 8
  008b1	08		 DB	 8
  008b2	08		 DB	 8
  008b3	08		 DB	 8
  008b4	08		 DB	 8
  008b5	08		 DB	 8
  008b6	08		 DB	 8
  008b7	08		 DB	 8
  008b8	08		 DB	 8
  008b9	08		 DB	 8
  008ba	06		 DB	 6
  008bb	08		 DB	 8
  008bc	08		 DB	 8
  008bd	08		 DB	 8
  008be	08		 DB	 8
  008bf	08		 DB	 8
  008c0	08		 DB	 8
  008c1	08		 DB	 8
  008c2	08		 DB	 8
  008c3	07		 DB	 7
$L81189:
  008c4	00 00 00 00	 DD	 $L80382
  008c8	00 00 00 00	 DD	 $L80386
  008cc	00 00 00 00	 DD	 $L80378
  008d0	00 00 00 00	 DD	 $L80379
  008d4	00 00 00 00	 DD	 $L80390
?MsgProc@CD3DApplication@@UAEJPAUHWND__@@IIJ@Z ENDP	; CD3DApplication::MsgProc
_TEXT	ENDS
PUBLIC	??_C@_02JLLOHNJH@SW?$AA@			; `string'
PUBLIC	??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@	; `string'
PUBLIC	??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@ ; `string'
PUBLIC	??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@		; `string'
PUBLIC	??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@	; `string'
PUBLIC	??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@ ; `string'
PUBLIC	??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@		; `string'
PUBLIC	??_C@_02LMMGGCAJ@?3?5?$AA@			; `string'
EXTRN	__imp__GetClassLongA@8:NEAR
EXTRN	__imp__lstrcpyA@8:NEAR
EXTRN	__imp__lstrcatA@8:NEAR
EXTRN	__imp__SetWindowPos@28:NEAR
EXTRN	_memset:NEAR
EXTRN	?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z:NEAR ; D3DUtil_SetDeviceCursor
;	COMDAT ??_C@_02JLLOHNJH@SW?$AA@
CONST	SEGMENT
??_C@_02JLLOHNJH@SW?$AA@ DB 'SW', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@ DB ' (pure hw vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@ DB ' (simulated'
	DB	' pure hw vp)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@ DB ' (hw vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@ DB ' (simulated hw vp'
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@ DB ' (mixed vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@ DB ' (simulated mi'
	DB	'xed vp)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@
CONST	SEGMENT
??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@ DB ' (sw vp)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_02LMMGGCAJ@?3?5?$AA@
CONST	SEGMENT
??_C@_02LMMGGCAJ@?3?5?$AA@ DB ': ', 00H			; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_i$80451 = -116
_rcWindow$80442 = -104
_hCursor$80438 = -80
_pBackBuffer$80436 = -68
_pModeInfo$ = -56
_pDeviceInfo$ = -44
_pAdapterInfo$ = -32
_hr$ = -20
_this$ = -8
?Initialize3DEnvironment@CD3DApplication@@IAEJXZ PROC NEAR ; CD3DApplication::Initialize3DEnvironment, COMDAT
; _this$ = ecx

; 832  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 38 01 00
	00		 sub	 esp, 312		; 00000138H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd c8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-312]
  00013	b9 4e 00 00 00	 mov	 ecx, 78			; 0000004eH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 833  :     HRESULT hr;
; 834  : 
; 835  :     D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0002c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00039	89 45 e0	 mov	 DWORD PTR _pAdapterInfo$[ebp], eax

; 836  :     D3DDeviceInfo*  pDeviceInfo  = &pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice];

  0003c	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  0003f	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00045	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  0004b	8b 55 e0	 mov	 edx, DWORD PTR _pAdapterInfo$[ebp]
  0004e	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  00055	89 45 d4	 mov	 DWORD PTR _pDeviceInfo$[ebp], eax

; 837  :     D3DModeInfo*    pModeInfo    = &pDeviceInfo->modes[pDeviceInfo->dwCurrentMode];

  00058	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0005b	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  00061	6b c9 14	 imul	 ecx, 20			; 00000014H
  00064	8b 55 d4	 mov	 edx, DWORD PTR _pDeviceInfo$[ebp]
  00067	8d 84 0a e4 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+228]
  0006e	89 45 c8	 mov	 DWORD PTR _pModeInfo$[ebp], eax

; 838  : 
; 839  :     // Prepare window for possible windowed/fullscreen change
; 840  :     AdjustWindowForChange();

  00071	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00074	8b 10		 mov	 edx, DWORD PTR [eax]
  00076	8b f4		 mov	 esi, esp
  00078	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0007b	ff 12		 call	 DWORD PTR [edx]
  0007d	3b f4		 cmp	 esi, esp
  0007f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 841  : 
; 842  :     // Set up the presentation parameters
; 843  :     ZeroMemory( &m_d3dpp, sizeof(m_d3dpp) );

  00084	6a 34		 push	 52			; 00000034H
  00086	6a 00		 push	 0
  00088	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008b	05 64 a4 02 00	 add	 eax, 173156		; 0002a464H
  00090	50		 push	 eax
  00091	e8 00 00 00 00	 call	 _memset
  00096	83 c4 0c	 add	 esp, 12			; 0000000cH

; 844  :     m_d3dpp.Windowed               = pDeviceInfo->bWindowed;

  00099	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  0009f	8b 91 a0 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3232]
  000a5	89 90 80 a4 02
	00		 mov	 DWORD PTR [eax+173184], edx

; 845  :     m_d3dpp.BackBufferCount        = 1;

  000ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	c7 80 70 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173168], 1

; 846  :     if( pDeviceInfo->bWindowed )

  000b8	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  000bb	83 b8 a0 0c 00
	00 00		 cmp	 DWORD PTR [eax+3232], 0
  000c2	74 14		 je	 SHORT $L80399

; 847  :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeWindowed;

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000ca	8b 91 a4 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3236]
  000d0	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx

; 848  :     else

  000d6	eb 12		 jmp	 SHORT $L80400
$L80399:

; 849  :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeFullscreen;

  000d8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000db	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000de	8b 91 a8 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3240]
  000e4	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx
$L80400:

; 850  :     m_d3dpp.SwapEffect             = D3DSWAPEFFECT_DISCARD;

  000ea	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ed	c7 80 78 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173176], 1

; 851  :     m_d3dpp.EnableAutoDepthStencil = m_bUseDepthBuffer;

  000f7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000fd	8b 91 8c a6 02
	00		 mov	 edx, DWORD PTR [ecx+173708]
  00103	89 90 84 a4 02
	00		 mov	 DWORD PTR [eax+173188], edx

; 852  :     m_d3dpp.AutoDepthStencilFormat = pModeInfo->DepthStencilFormat;

  00109	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010c	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  0010f	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  00112	89 90 88 a4 02
	00		 mov	 DWORD PTR [eax+173192], edx

; 853  :     m_d3dpp.hDeviceWindow          = m_hWnd;

  00118	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0011b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011e	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00124	89 90 7c a4 02
	00		 mov	 DWORD PTR [eax+173180], edx

; 854  :     if( m_bWindowed )

  0012a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0012d	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00134	74 4a		 je	 SHORT $L80401

; 855  :     {
; 856  :         m_d3dpp.BackBufferWidth  = m_rcWindowClient.right - m_rcWindowClient.left;

  00136	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00139	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0013c	8b 90 c0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173504]
  00142	2b 91 b8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173496]
  00148	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014b	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 857  :         m_d3dpp.BackBufferHeight = m_rcWindowClient.bottom - m_rcWindowClient.top;

  00151	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00154	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00157	8b 90 c4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173508]
  0015d	2b 91 bc a5 02
	00		 sub	 edx, DWORD PTR [ecx+173500]
  00163	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00166	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 858  :         m_d3dpp.BackBufferFormat = pAdapterInfo->d3ddmDesktop.Format;

  0016c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0016f	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  00172	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00178	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx

; 859  :     }
; 860  :     else

  0017e	eb 2c		 jmp	 SHORT $L80402
$L80401:

; 861  :     {
; 862  :         m_d3dpp.BackBufferWidth  = pModeInfo->Width;

  00180	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00183	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  00186	8b 11		 mov	 edx, DWORD PTR [ecx]
  00188	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 863  :         m_d3dpp.BackBufferHeight = pModeInfo->Height;

  0018e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00191	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  00194	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  00197	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 864  :         m_d3dpp.BackBufferFormat = pModeInfo->Format;

  0019d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001a0	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001a3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001a6	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx
$L80402:

; 865  :     }
; 866  : 
; 867  :     if( pDeviceInfo->d3dCaps.PrimitiveMiscCaps & D3DPMISCCAPS_NULLREFERENCE )

  001ac	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  001af	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  001b2	81 e1 00 10 00
	00		 and	 ecx, 4096		; 00001000H
  001b8	85 c9		 test	 ecx, ecx
  001ba	74 0f		 je	 SHORT $L80403

; 868  :     {
; 869  :         // Warn user about null ref device that can't render anything
; 870  :         DisplayErrorMsg( D3DAPPERR_NULLREFDEVICE, 0 );

  001bc	6a 00		 push	 0
  001be	68 0d 00 00 82	 push	 -2113929203		; 8200000dH
  001c3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001c6	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
$L80403:

; 871  :     }
; 872  : 
; 873  :     // Create the device
; 874  :     hr = m_pD3D->CreateDevice( m_dwAdapter, pDeviceInfo->DeviceType,
; 875  :                                m_hWndFocus, pModeInfo->dwBehavior | D3DCREATE_MULTITHREADED, &m_d3dpp,
; 876  :                                &m_pd3dDevice );

  001cb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ce	05 a8 a4 02 00	 add	 eax, 173224		; 0002a4a8H
  001d3	8b f4		 mov	 esi, esp
  001d5	50		 push	 eax
  001d6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d9	81 c1 64 a4 02
	00		 add	 ecx, 173156		; 0002a464H
  001df	51		 push	 ecx
  001e0	8b 55 c8	 mov	 edx, DWORD PTR _pModeInfo$[ebp]
  001e3	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  001e6	83 c8 04	 or	 eax, 4
  001e9	50		 push	 eax
  001ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001ed	8b 91 9c a4 02
	00		 mov	 edx, DWORD PTR [ecx+173212]
  001f3	52		 push	 edx
  001f4	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  001f7	8b 08		 mov	 ecx, DWORD PTR [eax]
  001f9	51		 push	 ecx
  001fa	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001fd	8b 82 48 a4 02
	00		 mov	 eax, DWORD PTR [edx+173128]
  00203	50		 push	 eax
  00204	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00207	8b 91 a4 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173220]
  0020d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00210	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00216	8b 12		 mov	 edx, DWORD PTR [edx]
  00218	51		 push	 ecx
  00219	ff 52 3c	 call	 DWORD PTR [edx+60]
  0021c	3b f4		 cmp	 esi, esp
  0021e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00223	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 877  :     if( SUCCEEDED(hr) )

  00226	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0022a	0f 8c 67 04 00
	00		 jl	 $L80405

; 878  :     {
; 879  :         // When moving from fullscreen to windowed mode, it is important to
; 880  :         // adjust the window size after recreating the device rather than
; 881  :         // beforehand to ensure that you get the window size you want.  For
; 882  :         // example, when switching from 640x480 fullscreen to windowed with
; 883  :         // a 1000x600 window on a 1024x768 desktop, it is impossible to set
; 884  :         // the window size to 1000x600 until after the display mode has
; 885  :         // changed to 1024x768, because windows cannot be larger than the
; 886  :         // desktop.
; 887  :         if( m_bWindowed )

  00230	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00233	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0023a	74 57		 je	 SHORT $L80406

; 888  :         {
; 889  :             SetWindowPos( m_hWnd, HWND_NOTOPMOST,
; 890  :                           m_rcWindowBounds.left, m_rcWindowBounds.top,
; 891  :                           ( m_rcWindowBounds.right - m_rcWindowBounds.left ),
; 892  :                           ( m_rcWindowBounds.bottom - m_rcWindowBounds.top ),
; 893  :                           SWP_SHOWWINDOW );

  0023c	8b f4		 mov	 esi, esp
  0023e	6a 40		 push	 64			; 00000040H
  00240	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00243	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00246	8b 90 b4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173492]
  0024c	2b 91 ac a5 02
	00		 sub	 edx, DWORD PTR [ecx+173484]
  00252	52		 push	 edx
  00253	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00256	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00259	8b 90 b0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173488]
  0025f	2b 91 a8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173480]
  00265	52		 push	 edx
  00266	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00269	8b 88 ac a5 02
	00		 mov	 ecx, DWORD PTR [eax+173484]
  0026f	51		 push	 ecx
  00270	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00273	8b 82 a8 a5 02
	00		 mov	 eax, DWORD PTR [edx+173480]
  00279	50		 push	 eax
  0027a	6a fe		 push	 -2			; fffffffeH
  0027c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0027f	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00285	52		 push	 edx
  00286	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28
  0028c	3b f4		 cmp	 esi, esp
  0028e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80406:

; 894  :         }
; 895  : 
; 896  :         // Store device Caps
; 897  :         m_pd3dDevice->GetDeviceCaps( &m_d3dCaps );

  00293	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00296	05 ac a4 02 00	 add	 eax, 173228		; 0002a4acH
  0029b	8b f4		 mov	 esi, esp
  0029d	50		 push	 eax
  0029e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002a1	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  002a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002aa	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  002b0	8b 12		 mov	 edx, DWORD PTR [edx]
  002b2	51		 push	 ecx
  002b3	ff 52 1c	 call	 DWORD PTR [edx+28]
  002b6	3b f4		 cmp	 esi, esp
  002b8	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 898  :         m_dwCreateFlags = pModeInfo->dwBehavior;

  002bd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002c0	8b 4d c8	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  002c3	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  002c6	89 90 a0 a5 02
	00		 mov	 DWORD PTR [eax+173472], edx

; 899  : 
; 900  :         // Store device description
; 901  :         if( pDeviceInfo->DeviceType == D3DDEVTYPE_REF )

  002cc	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  002cf	83 38 02	 cmp	 DWORD PTR [eax], 2
  002d2	75 1f		 jne	 SHORT $L80408

; 902  :             lstrcpy( m_strDeviceStats, TEXT("REF") );

  002d4	8b f4		 mov	 esi, esp
  002d6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_03GPMNEAGC@REF?$AA@
  002db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002de	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  002e3	50		 push	 eax
  002e4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  002ea	3b f4		 cmp	 esi, esp
  002ec	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 903  :         else if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  002f1	eb 4c		 jmp	 SHORT $L80409
$L80408:
  002f3	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  002f6	83 38 01	 cmp	 DWORD PTR [eax], 1
  002f9	75 1f		 jne	 SHORT $L80410

; 904  :             lstrcpy( m_strDeviceStats, TEXT("HAL") );

  002fb	8b f4		 mov	 esi, esp
  002fd	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_03KNIPLHMP@HAL?$AA@
  00302	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00305	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  0030a	50		 push	 eax
  0030b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  00311	3b f4		 cmp	 esi, esp
  00313	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 905  :         else if( pDeviceInfo->DeviceType == D3DDEVTYPE_SW )

  00318	eb 25		 jmp	 SHORT $L80409
$L80410:
  0031a	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0031d	83 38 03	 cmp	 DWORD PTR [eax], 3
  00320	75 1d		 jne	 SHORT $L80409

; 906  :             lstrcpy( m_strDeviceStats, TEXT("SW") );

  00322	8b f4		 mov	 esi, esp
  00324	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_02JLLOHNJH@SW?$AA@
  00329	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0032c	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  00331	50		 push	 eax
  00332	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  00338	3b f4		 cmp	 esi, esp
  0033a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80409:

; 907  : 
; 908  :         if( pModeInfo->dwBehavior & D3DCREATE_HARDWARE_VERTEXPROCESSING &&
; 909  :             pModeInfo->dwBehavior & D3DCREATE_PUREDEVICE )

  0033f	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  00342	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00345	83 e1 40	 and	 ecx, 64			; 00000040H
  00348	85 c9		 test	 ecx, ecx
  0034a	74 56		 je	 SHORT $L80414
  0034c	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  0034f	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00352	83 e1 10	 and	 ecx, 16			; 00000010H
  00355	85 c9		 test	 ecx, ecx
  00357	74 49		 je	 SHORT $L80414

; 910  :         {
; 911  :             if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  00359	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0035c	83 38 01	 cmp	 DWORD PTR [eax], 1
  0035f	75 1f		 jne	 SHORT $L80415

; 912  :                 lstrcat( m_strDeviceStats, TEXT(" (pure hw vp)") );

  00361	8b f4		 mov	 esi, esp
  00363	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@INAAPCCB@?5?$CIpure?5hw?5vp?$CJ?$AA@
  00368	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0036b	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  00370	50		 push	 eax
  00371	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00377	3b f4		 cmp	 esi, esp
  00379	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 913  :             else

  0037e	eb 1d		 jmp	 SHORT $L80417
$L80415:

; 914  :                 lstrcat( m_strDeviceStats, TEXT(" (simulated pure hw vp)") );

  00380	8b f4		 mov	 esi, esp
  00382	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BI@KADHBMJM@?5?$CIsimulated?5pure?5hw?5vp?$CJ?$AA@
  00387	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0038a	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  0038f	50		 push	 eax
  00390	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00396	3b f4		 cmp	 esi, esp
  00398	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80417:

; 915  :         }
; 916  :         else if( pModeInfo->dwBehavior & D3DCREATE_HARDWARE_VERTEXPROCESSING )

  0039d	e9 d6 00 00 00	 jmp	 $L80419
$L80414:
  003a2	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  003a5	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003a8	83 e1 40	 and	 ecx, 64			; 00000040H
  003ab	85 c9		 test	 ecx, ecx
  003ad	74 49		 je	 SHORT $L80420

; 917  :         {
; 918  :             if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  003af	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  003b2	83 38 01	 cmp	 DWORD PTR [eax], 1
  003b5	75 1f		 jne	 SHORT $L80421

; 919  :                 lstrcat( m_strDeviceStats, TEXT(" (hw vp)") );

  003b7	8b f4		 mov	 esi, esp
  003b9	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08IAMIAIBF@?5?$CIhw?5vp?$CJ?$AA@
  003be	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003c1	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  003c6	50		 push	 eax
  003c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003cd	3b f4		 cmp	 esi, esp
  003cf	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 920  :             else

  003d4	eb 1d		 jmp	 SHORT $L80423
$L80421:

; 921  :                 lstrcat( m_strDeviceStats, TEXT(" (simulated hw vp)") );

  003d6	8b f4		 mov	 esi, esp
  003d8	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@NNKCKNKM@?5?$CIsimulated?5hw?5vp?$CJ?$AA@
  003dd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003e0	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  003e5	50		 push	 eax
  003e6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003ec	3b f4		 cmp	 esi, esp
  003ee	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80423:

; 922  :         }
; 923  :         else if( pModeInfo->dwBehavior & D3DCREATE_MIXED_VERTEXPROCESSING )

  003f3	e9 80 00 00 00	 jmp	 $L80419
$L80420:
  003f8	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  003fb	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  003fe	81 e1 80 00 00
	00		 and	 ecx, 128		; 00000080H
  00404	85 c9		 test	 ecx, ecx
  00406	74 46		 je	 SHORT $L80426

; 924  :         {
; 925  :             if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  00408	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0040b	83 38 01	 cmp	 DWORD PTR [eax], 1
  0040e	75 1f		 jne	 SHORT $L80427

; 926  :                 lstrcat( m_strDeviceStats, TEXT(" (mixed vp)") );

  00410	8b f4		 mov	 esi, esp
  00412	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@NOOBLHBB@?5?$CImixed?5vp?$CJ?$AA@
  00417	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0041a	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  0041f	50		 push	 eax
  00420	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00426	3b f4		 cmp	 esi, esp
  00428	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 927  :             else

  0042d	eb 1d		 jmp	 SHORT $L80429
$L80427:

; 928  :                 lstrcat( m_strDeviceStats, TEXT(" (simulated mixed vp)") );

  0042f	8b f4		 mov	 esi, esp
  00431	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BG@GKHJLCDJ@?5?$CIsimulated?5mixed?5vp?$CJ?$AA@
  00436	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00439	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  0043e	50		 push	 eax
  0043f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00445	3b f4		 cmp	 esi, esp
  00447	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80429:

; 929  :         }
; 930  :         else if( pModeInfo->dwBehavior & D3DCREATE_SOFTWARE_VERTEXPROCESSING )

  0044c	eb 2a		 jmp	 SHORT $L80419
$L80426:
  0044e	8b 45 c8	 mov	 eax, DWORD PTR _pModeInfo$[ebp]
  00451	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  00454	83 e1 20	 and	 ecx, 32			; 00000020H
  00457	85 c9		 test	 ecx, ecx
  00459	74 1d		 je	 SHORT $L80419

; 931  :         {
; 932  :             lstrcat( m_strDeviceStats, TEXT(" (sw vp)") );

  0045b	8b f4		 mov	 esi, esp
  0045d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08OFBBMACB@?5?$CIsw?5vp?$CJ?$AA@
  00462	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00465	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  0046a	50		 push	 eax
  0046b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00471	3b f4		 cmp	 esi, esp
  00473	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80419:

; 933  :         }
; 934  : 
; 935  :         if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  00478	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0047b	83 38 01	 cmp	 DWORD PTR [eax], 1
  0047e	75 3f		 jne	 SHORT $L80434

; 936  :         {
; 937  :             lstrcat( m_strDeviceStats, TEXT(": ") );

  00480	8b f4		 mov	 esi, esp
  00482	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_02LMMGGCAJ@?3?5?$AA@
  00487	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0048a	05 d4 a5 02 00	 add	 eax, 173524		; 0002a5d4H
  0048f	50		 push	 eax
  00490	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00496	3b f4		 cmp	 esi, esp
  00498	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 938  :             lstrcat( m_strDeviceStats, pAdapterInfo->d3dAdapterIdentifier.Description );

  0049d	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  004a0	05 00 02 00 00	 add	 eax, 512		; 00000200H
  004a5	8b f4		 mov	 esi, esp
  004a7	50		 push	 eax
  004a8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  004ab	81 c1 d4 a5 02
	00		 add	 ecx, 173524		; 0002a5d4H
  004b1	51		 push	 ecx
  004b2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004b8	3b f4		 cmp	 esi, esp
  004ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80434:

; 939  :         }
; 940  : 
; 941  :         // Store render target surface desc
; 942  :         LPDIRECT3DSURFACE8 pBackBuffer;
; 943  :         m_pd3dDevice->GetBackBuffer( 0, D3DBACKBUFFER_TYPE_MONO, &pBackBuffer );

  004bf	8b f4		 mov	 esi, esp
  004c1	8d 45 bc	 lea	 eax, DWORD PTR _pBackBuffer$80436[ebp]
  004c4	50		 push	 eax
  004c5	6a 00		 push	 0
  004c7	6a 00		 push	 0
  004c9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  004cc	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  004d2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004d5	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  004db	8b 12		 mov	 edx, DWORD PTR [edx]
  004dd	51		 push	 ecx
  004de	ff 52 40	 call	 DWORD PTR [edx+64]
  004e1	3b f4		 cmp	 esi, esp
  004e3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 944  :         pBackBuffer->GetDesc( &m_d3dsdBackBuffer );

  004e8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004eb	05 80 a5 02 00	 add	 eax, 173440		; 0002a580H
  004f0	8b f4		 mov	 esi, esp
  004f2	50		 push	 eax
  004f3	8b 4d bc	 mov	 ecx, DWORD PTR _pBackBuffer$80436[ebp]
  004f6	8b 11		 mov	 edx, DWORD PTR [ecx]
  004f8	8b 45 bc	 mov	 eax, DWORD PTR _pBackBuffer$80436[ebp]
  004fb	50		 push	 eax
  004fc	ff 52 20	 call	 DWORD PTR [edx+32]
  004ff	3b f4		 cmp	 esi, esp
  00501	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 945  :         pBackBuffer->Release();

  00506	8b 45 bc	 mov	 eax, DWORD PTR _pBackBuffer$80436[ebp]
  00509	8b 08		 mov	 ecx, DWORD PTR [eax]
  0050b	8b f4		 mov	 esi, esp
  0050d	8b 55 bc	 mov	 edx, DWORD PTR _pBackBuffer$80436[ebp]
  00510	52		 push	 edx
  00511	ff 51 08	 call	 DWORD PTR [ecx+8]
  00514	3b f4		 cmp	 esi, esp
  00516	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 946  : 
; 947  :         // Set up the fullscreen cursor
; 948  :         if( m_bShowCursorWhenFullscreen && !m_bWindowed )

  0051b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0051e	83 b8 a0 a6 02
	00 00		 cmp	 DWORD PTR [eax+173728], 0
  00525	74 65		 je	 SHORT $L80437
  00527	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0052a	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00531	75 59		 jne	 SHORT $L80437

; 949  :         {
; 950  :             HCURSOR hCursor;
; 951  : #ifdef _WIN64
; 952  :             hCursor = (HCURSOR)GetClassLongPtr( m_hWnd, GCLP_HCURSOR );
; 953  : #else
; 954  :             hCursor = (HCURSOR)GetClassLong( m_hWnd, GCL_HCURSOR );

  00533	8b f4		 mov	 esi, esp
  00535	6a f4		 push	 -12			; fffffff4H
  00537	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0053a	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00540	51		 push	 ecx
  00541	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClassLongA@8
  00547	3b f4		 cmp	 esi, esp
  00549	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0054e	89 45 b0	 mov	 DWORD PTR _hCursor$80438[ebp], eax

; 955  : #endif
; 956  :             D3DUtil_SetDeviceCursor( m_pd3dDevice, hCursor, TRUE );

  00551	6a 01		 push	 1
  00553	8b 45 b0	 mov	 eax, DWORD PTR _hCursor$80438[ebp]
  00556	50		 push	 eax
  00557	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0055a	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  00560	52		 push	 edx
  00561	e8 00 00 00 00	 call	 ?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z ; D3DUtil_SetDeviceCursor
  00566	83 c4 0c	 add	 esp, 12			; 0000000cH

; 957  :             m_pd3dDevice->ShowCursor( TRUE );

  00569	8b f4		 mov	 esi, esp
  0056b	6a 01		 push	 1
  0056d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00570	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00576	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00579	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  0057f	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00581	50		 push	 eax
  00582	ff 51 30	 call	 DWORD PTR [ecx+48]
  00585	3b f4		 cmp	 esi, esp
  00587	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80437:

; 958  :         }
; 959  : 
; 960  :         // Confine cursor to fullscreen window
; 961  :         if( m_bClipCursorWhenFullscreen )

  0058c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0058f	83 b8 a4 a6 02
	00 00		 cmp	 DWORD PTR [eax+173732], 0
  00596	74 4f		 je	 SHORT $L80440

; 962  :         {
; 963  :             if (!m_bWindowed )

  00598	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0059b	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  005a2	75 32		 jne	 SHORT $L80441

; 964  :             {
; 965  :                 RECT rcWindow;
; 966  :                 GetWindowRect( m_hWnd, &rcWindow );

  005a4	8b f4		 mov	 esi, esp
  005a6	8d 45 98	 lea	 eax, DWORD PTR _rcWindow$80442[ebp]
  005a9	50		 push	 eax
  005aa	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  005ad	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  005b3	52		 push	 edx
  005b4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  005ba	3b f4		 cmp	 esi, esp
  005bc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 967  :                 ClipCursor( &rcWindow );

  005c1	8b f4		 mov	 esi, esp
  005c3	8d 45 98	 lea	 eax, DWORD PTR _rcWindow$80442[ebp]
  005c6	50		 push	 eax
  005c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  005cd	3b f4		 cmp	 esi, esp
  005cf	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 968  :             }
; 969  :             else

  005d4	eb 11		 jmp	 SHORT $L80440
$L80441:

; 970  :             {
; 971  :                 ClipCursor( NULL );

  005d6	8b f4		 mov	 esi, esp
  005d8	6a 00		 push	 0
  005da	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  005e0	3b f4		 cmp	 esi, esp
  005e2	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80440:

; 972  :             }
; 973  :         }
; 974  : 
; 975  :         // Initialize the app's device-dependent objects
; 976  :         hr = InitDeviceObjects();

  005e7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005ea	8b 10		 mov	 edx, DWORD PTR [eax]
  005ec	8b f4		 mov	 esi, esp
  005ee	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  005f1	ff 52 0c	 call	 DWORD PTR [edx+12]
  005f4	3b f4		 cmp	 esi, esp
  005f6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005fb	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 977  :         if( SUCCEEDED(hr) )

  005fe	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00602	7c 31		 jl	 SHORT $L80445

; 978  :         {
; 979  :             hr = RestoreDeviceObjects();

  00604	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00607	8b 10		 mov	 edx, DWORD PTR [eax]
  00609	8b f4		 mov	 esi, esp
  0060b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0060e	ff 52 10	 call	 DWORD PTR [edx+16]
  00611	3b f4		 cmp	 esi, esp
  00613	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00618	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 980  :             if( SUCCEEDED(hr) )

  0061b	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0061f	7c 14		 jl	 SHORT $L80445

; 981  :             {
; 982  :                 m_bActive = TRUE;

  00621	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00624	c7 80 50 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173136], 1

; 983  :                 return S_OK;

  0062e	33 c0		 xor	 eax, eax
  00630	e9 a8 01 00 00	 jmp	 $L80394
$L80445:

; 984  :             }
; 985  :         }
; 986  : 
; 987  :         // Cleanup before we try again
; 988  :         InvalidateDeviceObjects();

  00635	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00638	8b 10		 mov	 edx, DWORD PTR [eax]
  0063a	8b f4		 mov	 esi, esp
  0063c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0063f	ff 52 1c	 call	 DWORD PTR [edx+28]
  00642	3b f4		 cmp	 esi, esp
  00644	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 989  :         DeleteDeviceObjects();

  00649	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0064c	8b 10		 mov	 edx, DWORD PTR [eax]
  0064e	8b f4		 mov	 esi, esp
  00650	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00653	ff 52 20	 call	 DWORD PTR [edx+32]
  00656	3b f4		 cmp	 esi, esp
  00658	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 990  :         SAFE_RELEASE( m_pd3dDevice );

  0065d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00660	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  00667	74 2e		 je	 SHORT $L80405
  00669	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0066c	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00672	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00675	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  0067b	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0067d	8b f4		 mov	 esi, esp
  0067f	50		 push	 eax
  00680	ff 51 08	 call	 DWORD PTR [ecx+8]
  00683	3b f4		 cmp	 esi, esp
  00685	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0068a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0068d	c7 80 a8 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173224], 0
$L80405:

; 991  :     }
; 992  : 
; 993  :     // If that failed, fall back to the reference rasterizer
; 994  :     if( pDeviceInfo->DeviceType == D3DDEVTYPE_HAL )

  00697	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0069a	83 38 01	 cmp	 DWORD PTR [eax], 1
  0069d	0f 85 37 01 00
	00		 jne	 $L80450

; 995  :     {
; 996  :         // Select the default adapter
; 997  :         m_dwAdapter = 0L;

  006a3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006a6	c7 80 48 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173128], 0

; 998  :         pAdapterInfo = &m_Adapters[m_dwAdapter];

  006b0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  006b3	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  006b9	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  006bf	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  006c2	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  006c6	89 45 e0	 mov	 DWORD PTR _pAdapterInfo$[ebp], eax

; 999  : 
; 1000 :         // Look for a software device
; 1001 :         for( UINT i=0L; i<pAdapterInfo->dwNumDevices; i++ )

  006c9	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _i$80451[ebp], 0
  006d0	eb 09		 jmp	 SHORT $L80452
$L80453:
  006d2	8b 45 8c	 mov	 eax, DWORD PTR _i$80451[ebp]
  006d5	83 c0 01	 add	 eax, 1
  006d8	89 45 8c	 mov	 DWORD PTR _i$80451[ebp], eax
$L80452:
  006db	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  006de	8b 4d 8c	 mov	 ecx, DWORD PTR _i$80451[ebp]
  006e1	3b 88 3c 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1084]
  006e7	73 4e		 jae	 SHORT $L80454

; 1002 :         {
; 1003 :             if( pAdapterInfo->devices[i].DeviceType == D3DDEVTYPE_REF )

  006e9	8b 45 8c	 mov	 eax, DWORD PTR _i$80451[ebp]
  006ec	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  006f2	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  006f5	83 bc 01 40 04
	00 00 02	 cmp	 DWORD PTR [ecx+eax+1088], 2
  006fd	75 36		 jne	 SHORT $L80455

; 1004 :             {
; 1005 :                 pAdapterInfo->dwCurrentDevice = i;

  006ff	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  00702	8b 4d 8c	 mov	 ecx, DWORD PTR _i$80451[ebp]
  00705	89 88 9c 43 00
	00		 mov	 DWORD PTR [eax+17308], ecx

; 1006 :                 pDeviceInfo = &pAdapterInfo->devices[i];

  0070b	8b 45 8c	 mov	 eax, DWORD PTR _i$80451[ebp]
  0070e	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00714	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  00717	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  0071e	89 55 d4	 mov	 DWORD PTR _pDeviceInfo$[ebp], edx

; 1007 :                 m_bWindowed = pDeviceInfo->bWindowed;

  00721	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00724	8b 4d d4	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  00727	8b 91 a0 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3232]
  0072d	89 90 4c a4 02
	00		 mov	 DWORD PTR [eax+173132], edx

; 1008 :                 break;

  00733	eb 02		 jmp	 SHORT $L80454
$L80455:

; 1009 :             }
; 1010 :         }

  00735	eb 9b		 jmp	 SHORT $L80453
$L80454:

; 1011 : 
; 1012 :         // Try again, this time with the reference rasterizer
; 1013 :         if( pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice].DeviceType ==
; 1014 :             D3DDEVTYPE_REF )

  00737	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  0073a	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00740	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  00746	8b 55 e0	 mov	 edx, DWORD PTR _pAdapterInfo$[ebp]
  00749	83 bc 0a 40 04
	00 00 02	 cmp	 DWORD PTR [edx+ecx+1088], 2
  00751	0f 85 83 00 00
	00		 jne	 $L80450

; 1015 :         {
; 1016 :             // Make sure main window isn't topmost, so error message is visible
; 1017 :             SetWindowPos( m_hWnd, HWND_NOTOPMOST,
; 1018 :                           m_rcWindowBounds.left, m_rcWindowBounds.top,
; 1019 :                           ( m_rcWindowBounds.right - m_rcWindowBounds.left ),
; 1020 :                           ( m_rcWindowBounds.bottom - m_rcWindowBounds.top ),
; 1021 :                           SWP_SHOWWINDOW );

  00757	8b f4		 mov	 esi, esp
  00759	6a 40		 push	 64			; 00000040H
  0075b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0075e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00761	8b 90 b4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173492]
  00767	2b 91 ac a5 02
	00		 sub	 edx, DWORD PTR [ecx+173484]
  0076d	52		 push	 edx
  0076e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00771	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00774	8b 90 b0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173488]
  0077a	2b 91 a8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173480]
  00780	52		 push	 edx
  00781	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00784	8b 88 ac a5 02
	00		 mov	 ecx, DWORD PTR [eax+173484]
  0078a	51		 push	 ecx
  0078b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0078e	8b 82 a8 a5 02
	00		 mov	 eax, DWORD PTR [edx+173480]
  00794	50		 push	 eax
  00795	6a fe		 push	 -2			; fffffffeH
  00797	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0079a	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  007a0	52		 push	 edx
  007a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28
  007a7	3b f4		 cmp	 esi, esp
  007a9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1022 :             AdjustWindowForChange();

  007ae	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  007b1	8b 10		 mov	 edx, DWORD PTR [eax]
  007b3	8b f4		 mov	 esi, esp
  007b5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007b8	ff 12		 call	 DWORD PTR [edx]
  007ba	3b f4		 cmp	 esi, esp
  007bc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1023 : 
; 1024 :             // Let the user know we are switching from HAL to the reference rasterizer
; 1025 :             DisplayErrorMsg( hr, MSGWARN_SWITCHEDTOREF );

  007c1	6a 02		 push	 2
  007c3	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  007c6	50		 push	 eax
  007c7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007ca	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 1026 : 
; 1027 :             hr = Initialize3DEnvironment();

  007cf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  007d2	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  007d7	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
$L80450:

; 1028 :         }
; 1029 :     }
; 1030 : 
; 1031 :     return hr;

  007da	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
$L80394:

; 1032 : }

  007dd	52		 push	 edx
  007de	8b cd		 mov	 ecx, ebp
  007e0	50		 push	 eax
  007e1	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81195
  007e7	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  007ec	58		 pop	 eax
  007ed	5a		 pop	 edx
  007ee	5f		 pop	 edi
  007ef	5e		 pop	 esi
  007f0	5b		 pop	 ebx
  007f1	81 c4 38 01 00
	00		 add	 esp, 312		; 00000138H
  007f7	3b ec		 cmp	 ebp, esp
  007f9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  007fe	8b e5		 mov	 esp, ebp
  00800	5d		 pop	 ebp
  00801	c3		 ret	 0
$L81195:
  00802	02 00 00 00	 DD	 2
  00806	00 00 00 00	 DD	 $L81194
$L81194:
  0080a	bc ff ff ff	 DD	 -68			; ffffffbcH
  0080e	04 00 00 00	 DD	 4
  00812	00 00 00 00	 DD	 $L81192
  00816	98 ff ff ff	 DD	 -104			; ffffff98H
  0081a	10 00 00 00	 DD	 16			; 00000010H
  0081e	00 00 00 00	 DD	 $L81193
$L81193:
  00822	72		 DB	 114			; 00000072H
  00823	63		 DB	 99			; 00000063H
  00824	57		 DB	 87			; 00000057H
  00825	69		 DB	 105			; 00000069H
  00826	6e		 DB	 110			; 0000006eH
  00827	64		 DB	 100			; 00000064H
  00828	6f		 DB	 111			; 0000006fH
  00829	77		 DB	 119			; 00000077H
  0082a	00		 DB	 0
$L81192:
  0082b	70		 DB	 112			; 00000070H
  0082c	42		 DB	 66			; 00000042H
  0082d	61		 DB	 97			; 00000061H
  0082e	63		 DB	 99			; 00000063H
  0082f	6b		 DB	 107			; 0000006bH
  00830	42		 DB	 66			; 00000042H
  00831	75		 DB	 117			; 00000075H
  00832	66		 DB	 102			; 00000066H
  00833	66		 DB	 102			; 00000066H
  00834	65		 DB	 101			; 00000065H
  00835	72		 DB	 114			; 00000072H
  00836	00		 DB	 0
?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::Initialize3DEnvironment
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Resize3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_rcWindow$80472 = -68
_hCursor$80468 = -44
_pBackBuffer$ = -32
_hr$ = -20
_this$ = -8
?Resize3DEnvironment@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::Resize3DEnvironment, COMDAT
; _this$ = ecx

; 1042 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd f8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-264]
  00013	b9 42 00 00 00	 mov	 ecx, 66			; 00000042H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1043 :     HRESULT hr;
; 1044 : 
; 1045 :     // Release all vidmem objects
; 1046 :     if( FAILED( hr = InvalidateDeviceObjects() ) )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 10		 mov	 edx, DWORD PTR [eax]
  00028	8b f4		 mov	 esi, esp
  0002a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	ff 52 1c	 call	 DWORD PTR [edx+28]
  00030	3b f4		 cmp	 esi, esp
  00032	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00037	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0003a	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0003e	7d 08		 jge	 SHORT $L80463

; 1047 :         return hr;

  00040	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00043	e9 b2 01 00 00	 jmp	 $L80460
$L80463:

; 1048 : 
; 1049 :     // Reset the device
; 1050 :     if( FAILED( hr = m_pd3dDevice->Reset( &m_d3dpp ) ) )

  00048	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004b	05 64 a4 02 00	 add	 eax, 173156		; 0002a464H
  00050	8b f4		 mov	 esi, esp
  00052	50		 push	 eax
  00053	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00056	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  0005c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005f	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00065	8b 12		 mov	 edx, DWORD PTR [edx]
  00067	51		 push	 ecx
  00068	ff 52 38	 call	 DWORD PTR [edx+56]
  0006b	3b f4		 cmp	 esi, esp
  0006d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00072	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00075	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00079	7d 08		 jge	 SHORT $L80465

; 1051 :         return hr;

  0007b	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  0007e	e9 77 01 00 00	 jmp	 $L80460
$L80465:

; 1052 : 
; 1053 :     // Store render target surface desc
; 1054 :     LPDIRECT3DSURFACE8 pBackBuffer;
; 1055 :     m_pd3dDevice->GetBackBuffer( 0, D3DBACKBUFFER_TYPE_MONO, &pBackBuffer );

  00083	8b f4		 mov	 esi, esp
  00085	8d 45 e0	 lea	 eax, DWORD PTR _pBackBuffer$[ebp]
  00088	50		 push	 eax
  00089	6a 00		 push	 0
  0008b	6a 00		 push	 0
  0008d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00090	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  00096	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00099	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0009f	8b 12		 mov	 edx, DWORD PTR [edx]
  000a1	51		 push	 ecx
  000a2	ff 52 40	 call	 DWORD PTR [edx+64]
  000a5	3b f4		 cmp	 esi, esp
  000a7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1056 :     pBackBuffer->GetDesc( &m_d3dsdBackBuffer );

  000ac	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000af	05 80 a5 02 00	 add	 eax, 173440		; 0002a580H
  000b4	8b f4		 mov	 esi, esp
  000b6	50		 push	 eax
  000b7	8b 4d e0	 mov	 ecx, DWORD PTR _pBackBuffer$[ebp]
  000ba	8b 11		 mov	 edx, DWORD PTR [ecx]
  000bc	8b 45 e0	 mov	 eax, DWORD PTR _pBackBuffer$[ebp]
  000bf	50		 push	 eax
  000c0	ff 52 20	 call	 DWORD PTR [edx+32]
  000c3	3b f4		 cmp	 esi, esp
  000c5	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1057 :     pBackBuffer->Release();

  000ca	8b 45 e0	 mov	 eax, DWORD PTR _pBackBuffer$[ebp]
  000cd	8b 08		 mov	 ecx, DWORD PTR [eax]
  000cf	8b f4		 mov	 esi, esp
  000d1	8b 55 e0	 mov	 edx, DWORD PTR _pBackBuffer$[ebp]
  000d4	52		 push	 edx
  000d5	ff 51 08	 call	 DWORD PTR [ecx+8]
  000d8	3b f4		 cmp	 esi, esp
  000da	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1058 : 
; 1059 :     // Set up the fullscreen cursor
; 1060 :     if( m_bShowCursorWhenFullscreen && !m_bWindowed )

  000df	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e2	83 b8 a0 a6 02
	00 00		 cmp	 DWORD PTR [eax+173728], 0
  000e9	74 65		 je	 SHORT $L80467
  000eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ee	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  000f5	75 59		 jne	 SHORT $L80467

; 1061 :     {
; 1062 :         HCURSOR hCursor;
; 1063 : #ifdef _WIN64
; 1064 :         hCursor = (HCURSOR)GetClassLongPtr( m_hWnd, GCLP_HCURSOR );
; 1065 : #else
; 1066 :         hCursor = (HCURSOR)GetClassLong( m_hWnd, GCL_HCURSOR );

  000f7	8b f4		 mov	 esi, esp
  000f9	6a f4		 push	 -12			; fffffff4H
  000fb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fe	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00104	51		 push	 ecx
  00105	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClassLongA@8
  0010b	3b f4		 cmp	 esi, esp
  0010d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00112	89 45 d4	 mov	 DWORD PTR _hCursor$80468[ebp], eax

; 1067 : #endif
; 1068 :         D3DUtil_SetDeviceCursor( m_pd3dDevice, hCursor, TRUE );

  00115	6a 01		 push	 1
  00117	8b 45 d4	 mov	 eax, DWORD PTR _hCursor$80468[ebp]
  0011a	50		 push	 eax
  0011b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011e	8b 91 a8 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173224]
  00124	52		 push	 edx
  00125	e8 00 00 00 00	 call	 ?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z ; D3DUtil_SetDeviceCursor
  0012a	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1069 :         m_pd3dDevice->ShowCursor( TRUE );

  0012d	8b f4		 mov	 esi, esp
  0012f	6a 01		 push	 1
  00131	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00134	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0013a	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0013d	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00143	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00145	50		 push	 eax
  00146	ff 51 30	 call	 DWORD PTR [ecx+48]
  00149	3b f4		 cmp	 esi, esp
  0014b	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80467:

; 1070 :     }
; 1071 : 
; 1072 :     // Confine cursor to fullscreen window
; 1073 :     if( m_bClipCursorWhenFullscreen )

  00150	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00153	83 b8 a4 a6 02
	00 00		 cmp	 DWORD PTR [eax+173732], 0
  0015a	74 4f		 je	 SHORT $L80470

; 1074 :     {
; 1075 :         if (!m_bWindowed )

  0015c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0015f	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00166	75 32		 jne	 SHORT $L80471

; 1076 :         {
; 1077 :             RECT rcWindow;
; 1078 :             GetWindowRect( m_hWnd, &rcWindow );

  00168	8b f4		 mov	 esi, esp
  0016a	8d 45 bc	 lea	 eax, DWORD PTR _rcWindow$80472[ebp]
  0016d	50		 push	 eax
  0016e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00171	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00177	52		 push	 edx
  00178	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetWindowRect@8
  0017e	3b f4		 cmp	 esi, esp
  00180	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1079 :             ClipCursor( &rcWindow );

  00185	8b f4		 mov	 esi, esp
  00187	8d 45 bc	 lea	 eax, DWORD PTR _rcWindow$80472[ebp]
  0018a	50		 push	 eax
  0018b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  00191	3b f4		 cmp	 esi, esp
  00193	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1080 :         }
; 1081 :         else

  00198	eb 11		 jmp	 SHORT $L80470
$L80471:

; 1082 :         {
; 1083 :             ClipCursor( NULL );

  0019a	8b f4		 mov	 esi, esp
  0019c	6a 00		 push	 0
  0019e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ClipCursor@4
  001a4	3b f4		 cmp	 esi, esp
  001a6	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80470:

; 1084 :         }
; 1085 :     }
; 1086 : 
; 1087 :     // Initialize the app's device-dependent objects
; 1088 :     hr = RestoreDeviceObjects();

  001ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ae	8b 10		 mov	 edx, DWORD PTR [eax]
  001b0	8b f4		 mov	 esi, esp
  001b2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001b5	ff 52 10	 call	 DWORD PTR [edx+16]
  001b8	3b f4		 cmp	 esi, esp
  001ba	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001bf	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 1089 :     if( FAILED(hr) )

  001c2	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001c6	7d 05		 jge	 SHORT $L80475

; 1090 :         return hr;

  001c8	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  001cb	eb 2d		 jmp	 SHORT $L80460
$L80475:

; 1091 : 
; 1092 :     // If the app is paused, trigger the rendering of the current frame
; 1093 :     if( FALSE == m_bFrameMoving )

  001cd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d0	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  001d7	75 1f		 jne	 SHORT $L80476

; 1094 :     {
; 1095 :         m_bSingleStep = TRUE;

  001d9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001dc	c7 80 60 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173152], 1

; 1096 :         DXUtil_Timer( TIMER_START );

  001e6	6a 01		 push	 1
  001e8	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  001ed	dd d8		 fstp	 ST(0)

; 1097 :         DXUtil_Timer( TIMER_STOP );

  001ef	6a 02		 push	 2
  001f1	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  001f6	dd d8		 fstp	 ST(0)
$L80476:

; 1098 :     }
; 1099 : 
; 1100 :     return S_OK;

  001f8	33 c0		 xor	 eax, eax
$L80460:

; 1101 : }

  001fa	52		 push	 edx
  001fb	8b cd		 mov	 ecx, ebp
  001fd	50		 push	 eax
  001fe	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81201
  00204	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00209	58		 pop	 eax
  0020a	5a		 pop	 edx
  0020b	5f		 pop	 edi
  0020c	5e		 pop	 esi
  0020d	5b		 pop	 ebx
  0020e	81 c4 08 01 00
	00		 add	 esp, 264		; 00000108H
  00214	3b ec		 cmp	 ebp, esp
  00216	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0021b	8b e5		 mov	 esp, ebp
  0021d	5d		 pop	 ebp
  0021e	c3		 ret	 0
$L81201:
  0021f	02 00 00 00	 DD	 2
  00223	00 00 00 00	 DD	 $L81200
$L81200:
  00227	e0 ff ff ff	 DD	 -32			; ffffffe0H
  0022b	04 00 00 00	 DD	 4
  0022f	00 00 00 00	 DD	 $L81198
  00233	bc ff ff ff	 DD	 -68			; ffffffbcH
  00237	10 00 00 00	 DD	 16			; 00000010H
  0023b	00 00 00 00	 DD	 $L81199
$L81199:
  0023f	72		 DB	 114			; 00000072H
  00240	63		 DB	 99			; 00000063H
  00241	57		 DB	 87			; 00000057H
  00242	69		 DB	 105			; 00000069H
  00243	6e		 DB	 110			; 0000006eH
  00244	64		 DB	 100			; 00000064H
  00245	6f		 DB	 111			; 0000006fH
  00246	77		 DB	 119			; 00000077H
  00247	00		 DB	 0
$L81198:
  00248	70		 DB	 112			; 00000070H
  00249	42		 DB	 66			; 00000042H
  0024a	61		 DB	 97			; 00000061H
  0024b	63		 DB	 99			; 00000063H
  0024c	6b		 DB	 107			; 0000006bH
  0024d	42		 DB	 66			; 00000042H
  0024e	75		 DB	 117			; 00000075H
  0024f	66		 DB	 102			; 00000066H
  00250	66		 DB	 102			; 00000066H
  00251	65		 DB	 101			; 00000065H
  00252	72		 DB	 114			; 00000072H
  00253	00		 DB	 0
?Resize3DEnvironment@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::Resize3DEnvironment
_TEXT	ENDS
PUBLIC	?ForceWindowed@CD3DApplication@@IAEJXZ		; CD3DApplication::ForceWindowed
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?ToggleFullscreen@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_pModeInfo$ = -44
_pDeviceInfo$ = -32
_pAdapterInfo$ = -20
_this$ = -8
?ToggleFullscreen@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::ToggleFullscreen, COMDAT
; _this$ = ecx

; 1111 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00013	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1112 :     // Get access to current adapter, device, and mode
; 1113 :     D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0002c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00039	89 45 ec	 mov	 DWORD PTR _pAdapterInfo$[ebp], eax

; 1114 :     D3DDeviceInfo*  pDeviceInfo  = &pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice];

  0003c	8b 45 ec	 mov	 eax, DWORD PTR _pAdapterInfo$[ebp]
  0003f	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00045	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  0004b	8b 55 ec	 mov	 edx, DWORD PTR _pAdapterInfo$[ebp]
  0004e	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  00055	89 45 e0	 mov	 DWORD PTR _pDeviceInfo$[ebp], eax

; 1115 :     D3DModeInfo*    pModeInfo    = &pDeviceInfo->modes[pDeviceInfo->dwCurrentMode];

  00058	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  0005b	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  00061	6b c9 14	 imul	 ecx, 20			; 00000014H
  00064	8b 55 e0	 mov	 edx, DWORD PTR _pDeviceInfo$[ebp]
  00067	8d 84 0a e4 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+228]
  0006e	89 45 d4	 mov	 DWORD PTR _pModeInfo$[ebp], eax

; 1116 : 
; 1117 :     // Need device change if going windowed and the current device
; 1118 :     // can only be fullscreen
; 1119 :     if( !m_bWindowed && !pDeviceInfo->bCanDoWindowed )

  00071	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00074	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0007b	75 19		 jne	 SHORT $L80484
  0007d	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  00080	83 b8 dc 00 00
	00 00		 cmp	 DWORD PTR [eax+220], 0
  00087	75 0d		 jne	 SHORT $L80484

; 1120 :         return ForceWindowed();

  00089	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0008c	e8 00 00 00 00	 call	 ?ForceWindowed@CD3DApplication@@IAEJXZ ; CD3DApplication::ForceWindowed
  00091	e9 cc 01 00 00	 jmp	 $L80480
$L80484:

; 1121 : 
; 1122 :     m_bReady = FALSE;

  00096	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00099	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 1123 : 
; 1124 :     // Toggle the windowed state
; 1125 :     m_bWindowed = !m_bWindowed;

  000a3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000a6	33 c9		 xor	 ecx, ecx
  000a8	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  000af	0f 94 c1	 sete	 cl
  000b2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b5	89 8a 4c a4 02
	00		 mov	 DWORD PTR [edx+173132], ecx

; 1126 :     pDeviceInfo->bWindowed = m_bWindowed;

  000bb	8b 45 e0	 mov	 eax, DWORD PTR _pDeviceInfo$[ebp]
  000be	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c1	8b 91 4c a4 02
	00		 mov	 edx, DWORD PTR [ecx+173132]
  000c7	89 90 a0 0c 00
	00		 mov	 DWORD PTR [eax+3232], edx

; 1127 : 
; 1128 :     // Prepare window for windowed/fullscreen change
; 1129 :     AdjustWindowForChange();

  000cd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d0	8b 10		 mov	 edx, DWORD PTR [eax]
  000d2	8b f4		 mov	 esi, esp
  000d4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d7	ff 12		 call	 DWORD PTR [edx]
  000d9	3b f4		 cmp	 esi, esp
  000db	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1130 : 
; 1131 :     // Set up the presentation parameters
; 1132 :     m_d3dpp.Windowed               = pDeviceInfo->bWindowed;

  000e0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e3	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  000e6	8b 91 a0 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3232]
  000ec	89 90 80 a4 02
	00		 mov	 DWORD PTR [eax+173184], edx

; 1133 :     if( m_bWindowed )

  000f2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f5	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  000fc	74 14		 je	 SHORT $L80485

; 1134 :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeWindowed;

  000fe	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00101	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  00104	8b 91 a4 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3236]
  0010a	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx

; 1135 :     else

  00110	eb 12		 jmp	 SHORT $L80486
$L80485:

; 1136 :         m_d3dpp.MultiSampleType    = pDeviceInfo->MultiSampleTypeFullscreen;

  00112	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00115	8b 4d e0	 mov	 ecx, DWORD PTR _pDeviceInfo$[ebp]
  00118	8b 91 a8 0c 00
	00		 mov	 edx, DWORD PTR [ecx+3240]
  0011e	89 90 74 a4 02
	00		 mov	 DWORD PTR [eax+173172], edx
$L80486:

; 1137 :     m_d3dpp.AutoDepthStencilFormat = pModeInfo->DepthStencilFormat;

  00124	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00127	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  0012a	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  0012d	89 90 88 a4 02
	00		 mov	 DWORD PTR [eax+173192], edx

; 1138 :     m_d3dpp.hDeviceWindow          = m_hWnd;

  00133	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00136	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00139	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  0013f	89 90 7c a4 02
	00		 mov	 DWORD PTR [eax+173180], edx

; 1139 :     if( m_bWindowed )

  00145	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00148	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0014f	74 4a		 je	 SHORT $L80487

; 1140 :     {
; 1141 :         m_d3dpp.BackBufferWidth  = m_rcWindowClient.right - m_rcWindowClient.left;

  00151	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00154	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00157	8b 90 c0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173504]
  0015d	2b 91 b8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173496]
  00163	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00166	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 1142 :         m_d3dpp.BackBufferHeight = m_rcWindowClient.bottom - m_rcWindowClient.top;

  0016c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0016f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00172	8b 90 c4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173508]
  00178	2b 91 bc a5 02
	00		 sub	 edx, DWORD PTR [ecx+173500]
  0017e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00181	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 1143 :         m_d3dpp.BackBufferFormat = pAdapterInfo->d3ddmDesktop.Format;

  00187	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018a	8b 4d ec	 mov	 ecx, DWORD PTR _pAdapterInfo$[ebp]
  0018d	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  00193	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx

; 1144 :     }
; 1145 :     else

  00199	eb 2c		 jmp	 SHORT $L80488
$L80487:

; 1146 :     {
; 1147 :         m_d3dpp.BackBufferWidth  = pModeInfo->Width;

  0019b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0019e	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001a1	8b 11		 mov	 edx, DWORD PTR [ecx]
  001a3	89 90 64 a4 02
	00		 mov	 DWORD PTR [eax+173156], edx

; 1148 :         m_d3dpp.BackBufferHeight = pModeInfo->Height;

  001a9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ac	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001af	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  001b2	89 90 68 a4 02
	00		 mov	 DWORD PTR [eax+173160], edx

; 1149 :         m_d3dpp.BackBufferFormat = pModeInfo->Format;

  001b8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001bb	8b 4d d4	 mov	 ecx, DWORD PTR _pModeInfo$[ebp]
  001be	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001c1	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx
$L80488:

; 1150 :     }
; 1151 : 
; 1152 :     // Resize the 3D device
; 1153 :     if( FAILED( Resize3DEnvironment() ) )

  001c7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001ca	e8 00 00 00 00	 call	 ?Resize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Resize3DEnvironment
  001cf	85 c0		 test	 eax, eax
  001d1	7d 1d		 jge	 SHORT $L80490

; 1154 :     {
; 1155 :         if( m_bWindowed )

  001d3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d6	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  001dd	74 0a		 je	 SHORT $L80491

; 1156 :             return ForceWindowed();

  001df	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001e2	e8 00 00 00 00	 call	 ?ForceWindowed@CD3DApplication@@IAEJXZ ; CD3DApplication::ForceWindowed
  001e7	eb 79		 jmp	 SHORT $L80480
$L80491:

; 1157 :         else
; 1158 :             return E_FAIL;

  001e9	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  001ee	eb 72		 jmp	 SHORT $L80480
$L80490:

; 1159 :     }
; 1160 : 
; 1161 :     // When moving from fullscreen to windowed mode, it is important to
; 1162 :     // adjust the window size after resetting the device rather than
; 1163 :     // beforehand to ensure that you get the window size you want.  For
; 1164 :     // example, when switching from 640x480 fullscreen to windowed with
; 1165 :     // a 1000x600 window on a 1024x768 desktop, it is impossible to set
; 1166 :     // the window size to 1000x600 until after the display mode has
; 1167 :     // changed to 1024x768, because windows cannot be larger than the
; 1168 :     // desktop.
; 1169 :     if( m_bWindowed )

  001f0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001f3	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  001fa	74 57		 je	 SHORT $L80494

; 1170 :     {
; 1171 :         SetWindowPos( m_hWnd, HWND_NOTOPMOST,
; 1172 :                       m_rcWindowBounds.left, m_rcWindowBounds.top,
; 1173 :                       ( m_rcWindowBounds.right - m_rcWindowBounds.left ),
; 1174 :                       ( m_rcWindowBounds.bottom - m_rcWindowBounds.top ),
; 1175 :                       SWP_SHOWWINDOW );

  001fc	8b f4		 mov	 esi, esp
  001fe	6a 40		 push	 64			; 00000040H
  00200	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00203	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00206	8b 90 b4 a5 02
	00		 mov	 edx, DWORD PTR [eax+173492]
  0020c	2b 91 ac a5 02
	00		 sub	 edx, DWORD PTR [ecx+173484]
  00212	52		 push	 edx
  00213	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00216	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00219	8b 90 b0 a5 02
	00		 mov	 edx, DWORD PTR [eax+173488]
  0021f	2b 91 a8 a5 02
	00		 sub	 edx, DWORD PTR [ecx+173480]
  00225	52		 push	 edx
  00226	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00229	8b 88 ac a5 02
	00		 mov	 ecx, DWORD PTR [eax+173484]
  0022f	51		 push	 ecx
  00230	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00233	8b 82 a8 a5 02
	00		 mov	 eax, DWORD PTR [edx+173480]
  00239	50		 push	 eax
  0023a	6a fe		 push	 -2			; fffffffeH
  0023c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0023f	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00245	52		 push	 edx
  00246	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowPos@28
  0024c	3b f4		 cmp	 esi, esp
  0024e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80494:

; 1176 :     }
; 1177 : 
; 1178 :     m_bReady = TRUE;

  00253	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00256	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1

; 1179 : 
; 1180 :     return S_OK;

  00260	33 c0		 xor	 eax, eax
$L80480:

; 1181 : }

  00262	5f		 pop	 edi
  00263	5e		 pop	 esi
  00264	5b		 pop	 ebx
  00265	81 c4 f0 00 00
	00		 add	 esp, 240		; 000000f0H
  0026b	3b ec		 cmp	 ebp, esp
  0026d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00272	8b e5		 mov	 esp, ebp
  00274	5d		 pop	 ebp
  00275	c3		 ret	 0
?ToggleFullscreen@CD3DApplication@@IAEJXZ ENDP		; CD3DApplication::ToggleFullscreen
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?ForceWindowed@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_dwDevice$80509 = -104
_pDeviceInfo$80508 = -92
_dwAdapter$80507 = -80
_pAdapterInfo$80506 = -68
_bFoundDevice$ = -56
_pDeviceInfoCur$ = -44
_pAdapterInfoCur$ = -32
_hr$ = -20
_this$ = -8
?ForceWindowed@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::ForceWindowed, COMDAT
; _this$ = ecx

; 1192 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd d4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-300]
  00013	b9 4b 00 00 00	 mov	 ecx, 75			; 0000004bH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1193 :     HRESULT hr;
; 1194 :     D3DAdapterInfo* pAdapterInfoCur = &m_Adapters[m_dwAdapter];

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  0002c	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00032	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00035	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00039	89 45 e0	 mov	 DWORD PTR _pAdapterInfoCur$[ebp], eax

; 1195 :     D3DDeviceInfo*  pDeviceInfoCur  = &pAdapterInfoCur->devices[pAdapterInfoCur->dwCurrentDevice];

  0003c	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfoCur$[ebp]
  0003f	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  00045	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  0004b	8b 55 e0	 mov	 edx, DWORD PTR _pAdapterInfoCur$[ebp]
  0004e	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  00055	89 45 d4	 mov	 DWORD PTR _pDeviceInfoCur$[ebp], eax

; 1196 :     BOOL bFoundDevice = FALSE;

  00058	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _bFoundDevice$[ebp], 0

; 1197 : 
; 1198 :     if( pDeviceInfoCur->bCanDoWindowed )

  0005f	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfoCur$[ebp]
  00062	83 b8 dc 00 00
	00 00		 cmp	 DWORD PTR [eax+220], 0
  00069	74 0c		 je	 SHORT $L80504

; 1199 :     {
; 1200 :         bFoundDevice = TRUE;

  0006b	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _bFoundDevice$[ebp], 1

; 1201 :     }
; 1202 :     else

  00072	e9 af 00 00 00	 jmp	 $L80505
$L80504:

; 1203 :     {
; 1204 :         // Look for a windowable device on any adapter
; 1205 :         D3DAdapterInfo* pAdapterInfo;
; 1206 :         DWORD dwAdapter;
; 1207 :         D3DDeviceInfo* pDeviceInfo;
; 1208 :         DWORD dwDevice;
; 1209 :         for( dwAdapter = 0; dwAdapter < m_dwNumAdapters; dwAdapter++ )

  00077	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _dwAdapter$80507[ebp], 0
  0007e	eb 09		 jmp	 SHORT $L80510
$L80511:
  00080	8b 45 b0	 mov	 eax, DWORD PTR _dwAdapter$80507[ebp]
  00083	83 c0 01	 add	 eax, 1
  00086	89 45 b0	 mov	 DWORD PTR _dwAdapter$80507[ebp], eax
$L80510:
  00089	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008c	8b 4d b0	 mov	 ecx, DWORD PTR _dwAdapter$80507[ebp]
  0008f	3b 88 44 a4 02
	00		 cmp	 ecx, DWORD PTR [eax+173124]
  00095	0f 83 8b 00 00
	00		 jae	 $L80505

; 1210 :         {
; 1211 :             pAdapterInfo = &m_Adapters[dwAdapter];

  0009b	8b 45 b0	 mov	 eax, DWORD PTR _dwAdapter$80507[ebp]
  0009e	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  000a4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000a7	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  000ab	89 55 bc	 mov	 DWORD PTR _pAdapterInfo$80506[ebp], edx

; 1212 :             for( dwDevice = 0; dwDevice < pAdapterInfo->dwNumDevices; dwDevice++ )

  000ae	c7 45 98 00 00
	00 00		 mov	 DWORD PTR _dwDevice$80509[ebp], 0
  000b5	eb 09		 jmp	 SHORT $L80513
$L80514:
  000b7	8b 45 98	 mov	 eax, DWORD PTR _dwDevice$80509[ebp]
  000ba	83 c0 01	 add	 eax, 1
  000bd	89 45 98	 mov	 DWORD PTR _dwDevice$80509[ebp], eax
$L80513:
  000c0	8b 45 bc	 mov	 eax, DWORD PTR _pAdapterInfo$80506[ebp]
  000c3	8b 4d 98	 mov	 ecx, DWORD PTR _dwDevice$80509[ebp]
  000c6	3b 88 3c 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1084]
  000cc	73 4b		 jae	 SHORT $L80515

; 1213 :             {
; 1214 :                 pDeviceInfo = &pAdapterInfo->devices[dwDevice];

  000ce	8b 45 98	 mov	 eax, DWORD PTR _dwDevice$80509[ebp]
  000d1	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  000d7	8b 4d bc	 mov	 ecx, DWORD PTR _pAdapterInfo$80506[ebp]
  000da	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  000e1	89 55 a4	 mov	 DWORD PTR _pDeviceInfo$80508[ebp], edx

; 1215 :                 if( pDeviceInfo->bCanDoWindowed )

  000e4	8b 45 a4	 mov	 eax, DWORD PTR _pDeviceInfo$80508[ebp]
  000e7	83 b8 dc 00 00
	00 00		 cmp	 DWORD PTR [eax+220], 0
  000ee	74 27		 je	 SHORT $L80516

; 1216 :                 {
; 1217 :                     m_dwAdapter = dwAdapter;

  000f0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f3	8b 4d b0	 mov	 ecx, DWORD PTR _dwAdapter$80507[ebp]
  000f6	89 88 48 a4 02
	00		 mov	 DWORD PTR [eax+173128], ecx

; 1218 :                     pDeviceInfoCur = pDeviceInfo;

  000fc	8b 45 a4	 mov	 eax, DWORD PTR _pDeviceInfo$80508[ebp]
  000ff	89 45 d4	 mov	 DWORD PTR _pDeviceInfoCur$[ebp], eax

; 1219 :                     pAdapterInfo->dwCurrentDevice = dwDevice;

  00102	8b 45 bc	 mov	 eax, DWORD PTR _pAdapterInfo$80506[ebp]
  00105	8b 4d 98	 mov	 ecx, DWORD PTR _dwDevice$80509[ebp]
  00108	89 88 9c 43 00
	00		 mov	 DWORD PTR [eax+17308], ecx

; 1220 :                     bFoundDevice = TRUE;

  0010e	c7 45 c8 01 00
	00 00		 mov	 DWORD PTR _bFoundDevice$[ebp], 1

; 1221 :                     break;

  00115	eb 02		 jmp	 SHORT $L80515
$L80516:

; 1222 :                 }
; 1223 :             }

  00117	eb 9e		 jmp	 SHORT $L80514
$L80515:

; 1224 :             if( bFoundDevice )

  00119	83 7d c8 00	 cmp	 DWORD PTR _bFoundDevice$[ebp], 0
  0011d	74 02		 je	 SHORT $L80517

; 1225 :                 break;

  0011f	eb 05		 jmp	 SHORT $L80505
$L80517:

; 1226 :         }

  00121	e9 5a ff ff ff	 jmp	 $L80511
$L80505:

; 1227 :     }
; 1228 : 
; 1229 :     if( !bFoundDevice )

  00126	83 7d c8 00	 cmp	 DWORD PTR _bFoundDevice$[ebp], 0
  0012a	75 0a		 jne	 SHORT $L80518

; 1230 :         return E_FAIL;

  0012c	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  00131	e9 b5 00 00 00	 jmp	 $L80499
$L80518:

; 1231 : 
; 1232 :     pDeviceInfoCur->bWindowed = TRUE;

  00136	8b 45 d4	 mov	 eax, DWORD PTR _pDeviceInfoCur$[ebp]
  00139	c7 80 a0 0c 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+3232], 1

; 1233 :     m_bWindowed = TRUE;

  00143	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00146	c7 80 4c a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173132], 1

; 1234 : 
; 1235 :     // Now destroy the current 3D device objects, then reinitialize
; 1236 : 
; 1237 :     m_bReady = FALSE;

  00150	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00153	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 1238 : 
; 1239 :     // Release all scene objects that will be re-created for the new device
; 1240 :     InvalidateDeviceObjects();

  0015d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00160	8b 10		 mov	 edx, DWORD PTR [eax]
  00162	8b f4		 mov	 esi, esp
  00164	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00167	ff 52 1c	 call	 DWORD PTR [edx+28]
  0016a	3b f4		 cmp	 esi, esp
  0016c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1241 :     DeleteDeviceObjects();

  00171	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00174	8b 10		 mov	 edx, DWORD PTR [eax]
  00176	8b f4		 mov	 esi, esp
  00178	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0017b	ff 52 20	 call	 DWORD PTR [edx+32]
  0017e	3b f4		 cmp	 esi, esp
  00180	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1242 : 
; 1243 :     // Release display objects, so a new device can be created
; 1244 :     if( m_pd3dDevice->Release() > 0L )

  00185	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00188	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0018e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00191	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00197	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00199	8b f4		 mov	 esi, esp
  0019b	50		 push	 eax
  0019c	ff 51 08	 call	 DWORD PTR [ecx+8]
  0019f	3b f4		 cmp	 esi, esp
  001a1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a6	85 c0		 test	 eax, eax
  001a8	76 11		 jbe	 SHORT $L80520

; 1245 :         return DisplayErrorMsg( D3DAPPERR_NONZEROREFCOUNT, MSGERR_APPMUSTEXIT );

  001aa	6a 01		 push	 1
  001ac	68 0a 00 00 82	 push	 -2113929206		; 8200000aH
  001b1	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001b4	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  001b9	eb 30		 jmp	 SHORT $L80499
$L80520:

; 1246 : 
; 1247 :     // Create the new device
; 1248 :     if( FAILED( hr = Initialize3DEnvironment() ) )

  001bb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001be	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  001c3	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  001c6	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001ca	7d 10		 jge	 SHORT $L80522

; 1249 :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  001cc	6a 01		 push	 1
  001ce	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  001d1	50		 push	 eax
  001d2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d5	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  001da	eb 0f		 jmp	 SHORT $L80499
$L80522:

; 1250 :     m_bReady = TRUE;

  001dc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001df	c7 80 54 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173140], 1

; 1251 : 
; 1252 :     return S_OK;

  001e9	33 c0		 xor	 eax, eax
$L80499:

; 1253 : }

  001eb	5f		 pop	 edi
  001ec	5e		 pop	 esi
  001ed	5b		 pop	 ebx
  001ee	81 c4 2c 01 00
	00		 add	 esp, 300		; 0000012cH
  001f4	3b ec		 cmp	 ebp, esp
  001f6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001fb	8b e5		 mov	 esp, ebp
  001fd	5d		 pop	 ebp
  001fe	c3		 ret	 0
?ForceWindowed@CD3DApplication@@IAEJXZ ENDP		; CD3DApplication::ForceWindowed
_TEXT	ENDS
EXTRN	__imp__SetMenu@8:NEAR
EXTRN	__imp__SetWindowLongA@12:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?AdjustWindowForChange@CD3DApplication@@MAEJXZ
_TEXT	SEGMENT
_this$ = -8
?AdjustWindowForChange@CD3DApplication@@MAEJXZ PROC NEAR ; CD3DApplication::AdjustWindowForChange, COMDAT
; _this$ = ecx

; 1266 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1267 :     if( m_bWindowed )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0002d	74 56		 je	 SHORT $L80527

; 1268 :     {
; 1269 :         // Set windowed-mode style
; 1270 :         SetWindowLong( m_hWnd, GWL_STYLE, m_dwWindowStyle );

  0002f	8b f4		 mov	 esi, esp
  00031	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00034	8b 88 a4 a5 02
	00		 mov	 ecx, DWORD PTR [eax+173476]
  0003a	51		 push	 ecx
  0003b	6a f0		 push	 -16			; fffffff0H
  0003d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00040	8b 82 98 a4 02
	00		 mov	 eax, DWORD PTR [edx+173208]
  00046	50		 push	 eax
  00047	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowLongA@12
  0004d	3b f4		 cmp	 esi, esp
  0004f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1271 :         if( m_hMenu != NULL )

  00054	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00057	83 b8 a0 a4 02
	00 00		 cmp	 DWORD PTR [eax+173216], 0
  0005e	74 23		 je	 SHORT $L80528

; 1272 :             SetMenu( m_hWnd, m_hMenu );

  00060	8b f4		 mov	 esi, esp
  00062	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00065	8b 88 a0 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173216]
  0006b	51		 push	 ecx
  0006c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0006f	8b 82 98 a4 02
	00		 mov	 eax, DWORD PTR [edx+173208]
  00075	50		 push	 eax
  00076	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetMenu@8
  0007c	3b f4		 cmp	 esi, esp
  0007e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80528:

; 1273 :     }
; 1274 :     else

  00083	eb 44		 jmp	 SHORT $L80529
$L80527:

; 1275 :     {
; 1276 :         // Set fullscreen-mode style
; 1277 :         SetWindowLong( m_hWnd, GWL_STYLE, WS_POPUP|WS_SYSMENU|WS_VISIBLE );

  00085	8b f4		 mov	 esi, esp
  00087	68 00 00 08 90	 push	 -1878523904		; 90080000H
  0008c	6a f0		 push	 -16			; fffffff0H
  0008e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00091	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00097	51		 push	 ecx
  00098	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetWindowLongA@12
  0009e	3b f4		 cmp	 esi, esp
  000a0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1278 :         m_hMenu = (HMENU)SetMenu( m_hWnd, NULL );

  000a5	8b f4		 mov	 esi, esp
  000a7	6a 00		 push	 0
  000a9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ac	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  000b2	51		 push	 ecx
  000b3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetMenu@8
  000b9	3b f4		 cmp	 esi, esp
  000bb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c0	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c3	89 82 a0 a4 02
	00		 mov	 DWORD PTR [edx+173216], eax
$L80529:

; 1279 :     }
; 1280 :     return S_OK;

  000c9	33 c0		 xor	 eax, eax

; 1281 : }

  000cb	5f		 pop	 edi
  000cc	5e		 pop	 esi
  000cd	5b		 pop	 ebx
  000ce	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000d4	3b ec		 cmp	 ebp, esp
  000d6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000db	8b e5		 mov	 esp, ebp
  000dd	5d		 pop	 ebp
  000de	c3		 ret	 0
?AdjustWindowForChange@CD3DApplication@@MAEJXZ ENDP	; CD3DApplication::AdjustWindowForChange
_TEXT	ENDS
PUBLIC	?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z ; CD3DApplication::SelectDeviceProc
EXTRN	__imp__DialogBoxParamA@20:NEAR
EXTRN	__imp__GetModuleHandleA@4:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?UserSelectNewDevice@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
_dwDevice$ = -32
_hr$ = -20
_this$ = -8
?UserSelectNewDevice@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::UserSelectNewDevice, COMDAT
; _this$ = ecx

; 1292 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00013	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1293 :     HRESULT hr;
; 1294 : 
; 1295 :     // Can't display dialogs in fullscreen mode
; 1296 :     if( m_bWindowed == FALSE )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  0002d	75 25		 jne	 SHORT $L80536

; 1297 :     {
; 1298 :         if( FAILED( ToggleFullscreen() ) )

  0002f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00032	e8 00 00 00 00	 call	 ?ToggleFullscreen@CD3DApplication@@IAEJXZ ; CD3DApplication::ToggleFullscreen
  00037	85 c0		 test	 eax, eax
  00039	7d 19		 jge	 SHORT $L80536

; 1299 :         {
; 1300 :             DisplayErrorMsg( D3DAPPERR_RESIZEFAILED, MSGERR_APPMUSTEXIT );

  0003b	6a 01		 push	 1
  0003d	68 0c 00 00 82	 push	 -2113929204		; 8200000cH
  00042	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00045	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg

; 1301 :             return E_FAIL;

  0004a	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  0004f	e9 3c 01 00 00	 jmp	 $L80534
$L80536:

; 1302 :         }
; 1303 :     }
; 1304 : 
; 1305 :     // Prompt the user to change the mode
; 1306 :     if( IDOK != DialogBoxParam( (HINSTANCE)GetModuleHandle(NULL),
; 1307 :                                 MAKEINTRESOURCE(IDD_SELECTDEVICE), m_hWnd,
; 1308 :                                 SelectDeviceProc, (LPARAM)this ) )

  00054	8b f4		 mov	 esi, esp
  00056	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00059	50		 push	 eax
  0005a	68 00 00 00 00	 push	 OFFSET FLAT:?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z ; CD3DApplication::SelectDeviceProc
  0005f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00062	8b 91 98 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173208]
  00068	52		 push	 edx
  00069	68 90 00 00 00	 push	 144			; 00000090H
  0006e	8b fc		 mov	 edi, esp
  00070	6a 00		 push	 0
  00072	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetModuleHandleA@4
  00078	3b fc		 cmp	 edi, esp
  0007a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0007f	50		 push	 eax
  00080	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DialogBoxParamA@20
  00086	3b f4		 cmp	 esi, esp
  00088	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008d	83 f8 01	 cmp	 eax, 1
  00090	74 07		 je	 SHORT $L80545

; 1309 :         return S_OK;

  00092	33 c0		 xor	 eax, eax
  00094	e9 f7 00 00 00	 jmp	 $L80534
$L80545:

; 1310 : 
; 1311 :     // Get access to the newly selected adapter, device, and mode
; 1312 :     DWORD dwDevice;
; 1313 :     dwDevice  = m_Adapters[m_dwAdapter].dwCurrentDevice;

  00099	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  000a2	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  000a8	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000ab	8b 84 0a a0 43
	00 00		 mov	 eax, DWORD PTR [edx+ecx+17312]
  000b2	89 45 e0	 mov	 DWORD PTR _dwDevice$[ebp], eax

; 1314 :     m_bWindowed = m_Adapters[m_dwAdapter].devices[dwDevice].bWindowed;

  000b5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b8	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  000be	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  000c4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c7	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  000cb	8b 4d e0	 mov	 ecx, DWORD PTR _dwDevice$[ebp]
  000ce	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  000d4	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000d7	8b 84 08 e0 10
	00 00		 mov	 eax, DWORD PTR [eax+ecx+4320]
  000de	89 82 4c a4 02
	00		 mov	 DWORD PTR [edx+173132], eax

; 1315 : 
; 1316 :     // Release all scene objects that will be re-created for the new device
; 1317 :     InvalidateDeviceObjects();

  000e4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e7	8b 10		 mov	 edx, DWORD PTR [eax]
  000e9	8b f4		 mov	 esi, esp
  000eb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000ee	ff 52 1c	 call	 DWORD PTR [edx+28]
  000f1	3b f4		 cmp	 esi, esp
  000f3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1318 :     DeleteDeviceObjects();

  000f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fb	8b 10		 mov	 edx, DWORD PTR [eax]
  000fd	8b f4		 mov	 esi, esp
  000ff	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00102	ff 52 20	 call	 DWORD PTR [edx+32]
  00105	3b f4		 cmp	 esi, esp
  00107	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1319 : 
; 1320 :     // Release display objects, so a new device can be created
; 1321 :     if( m_pd3dDevice->Release() > 0L )

  0010c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010f	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00115	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00118	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  0011e	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00120	8b f4		 mov	 esi, esp
  00122	50		 push	 eax
  00123	ff 51 08	 call	 DWORD PTR [ecx+8]
  00126	3b f4		 cmp	 esi, esp
  00128	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0012d	85 c0		 test	 eax, eax
  0012f	76 11		 jbe	 SHORT $L80548

; 1322 :         return DisplayErrorMsg( D3DAPPERR_NONZEROREFCOUNT, MSGERR_APPMUSTEXIT );

  00131	6a 01		 push	 1
  00133	68 0a 00 00 82	 push	 -2113929206		; 8200000aH
  00138	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0013b	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00140	eb 4e		 jmp	 SHORT $L80534
$L80548:

; 1323 : 
; 1324 :     // Inform the display class of the change. It will internally
; 1325 :     // re-create valid surfaces, a d3ddevice, etc.
; 1326 :     if( FAILED( hr = Initialize3DEnvironment() ) )

  00142	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00145	e8 00 00 00 00	 call	 ?Initialize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Initialize3DEnvironment
  0014a	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  0014d	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00151	7d 10		 jge	 SHORT $L80550

; 1327 :         return DisplayErrorMsg( hr, MSGERR_APPMUSTEXIT );

  00153	6a 01		 push	 1
  00155	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00158	50		 push	 eax
  00159	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0015c	e8 00 00 00 00	 call	 ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ; CD3DApplication::DisplayErrorMsg
  00161	eb 2d		 jmp	 SHORT $L80534
$L80550:

; 1328 : 
; 1329 :     // If the app is paused, trigger the rendering of the current frame
; 1330 :     if( FALSE == m_bFrameMoving )

  00163	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00166	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0016d	75 1f		 jne	 SHORT $L80551

; 1331 :     {
; 1332 :         m_bSingleStep = TRUE;

  0016f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00172	c7 80 60 a4 02
	00 01 00 00 00	 mov	 DWORD PTR [eax+173152], 1

; 1333 :         DXUtil_Timer( TIMER_START );

  0017c	6a 01		 push	 1
  0017e	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00183	dd d8		 fstp	 ST(0)

; 1334 :         DXUtil_Timer( TIMER_STOP );

  00185	6a 02		 push	 2
  00187	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0018c	dd d8		 fstp	 ST(0)
$L80551:

; 1335 :     }
; 1336 : 
; 1337 :     return S_OK;

  0018e	33 c0		 xor	 eax, eax
$L80534:

; 1338 : }

  00190	5f		 pop	 edi
  00191	5e		 pop	 esi
  00192	5b		 pop	 ebx
  00193	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  00199	3b ec		 cmp	 ebp, esp
  0019b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a0	8b e5		 mov	 esp, ebp
  001a2	5d		 pop	 ebp
  001a3	c3		 ret	 0
?UserSelectNewDevice@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::UserSelectNewDevice
_TEXT	ENDS
PUBLIC	??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@ ; `string'
PUBLIC	??_C@_04CGFJFPFD@none?$AA@			; `string'
PUBLIC	??_C@_0L@EABGANAD@?$CFd?5samples?$AA@		; `string'
EXTRN	__imp__EnableWindow@8:NEAR
EXTRN	_sprintf:NEAR
EXTRN	__imp__EndDialog@8:NEAR
EXTRN	__imp__GetDlgItem@8:NEAR
EXTRN	__imp__wsprintfA:NEAR
_BSS	SEGMENT
?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::pd3dApp
?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwOldAdapter
?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwNewAdapter
?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwOldDevice
?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwNewDevice
?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwOldMode
?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::dwNewMode
?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::bOldWindowed
?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::bNewWindowed
?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::OldMultiSampleTypeWindowed
?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::NewMultiSampleTypeWindowed
?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::OldMultiSampleTypeFullscreen
?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A DD 01H DUP (?) ; `CD3DApplication::SelectDeviceProc'::`2'::NewMultiSampleTypeFullscreen
_BSS	ENDS
;	COMDAT ??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@
CONST	SEGMENT
??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@ DB '%ld x %ld x %ld', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_04CGFJFPFD@none?$AA@
CONST	SEGMENT
??_C@_04CGFJFPFD@none?$AA@ DB 'none', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@EABGANAD@?$CFd?5samples?$AA@
CONST	SEGMENT
??_C@_0L@EABGANAD@?$CFd?5samples?$AA@ DB '%d samples', 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_dwItem$80761 = -388
_dwItem$80735 = -376
_fmt$80724 = -364
_strDesc$80723 = -352
_dwItem$80705 = -292
_strMode$80703 = -280
_BitDepth$80700 = -188
_m$80696 = -176
_dwItem$80681 = -164
_d$80677 = -152
_dwItem$80662 = -140
_a$80658 = -128
_dwItem$80634 = -116
_pDevice$ = -104
_pAdapter$ = -92
_bUpdateDlgControls$ = -80
_hwndMultiSampleList$ = -68
_hwndFullscreenRadio$ = -56
_hwndWindowedRadio$ = -44
_hwndFullscreenModeList$ = -32
_hwndDeviceList$ = -20
_hwndAdapterList$ = -8
_hDlg$ = 8
_msg$ = 12
_wParam$ = 16
_lParam$ = 20
?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z PROC NEAR ; CD3DApplication::SelectDeviceProc, COMDAT

; 1349 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 48 02 00
	00		 sub	 esp, 584		; 00000248H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd b8 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-584]
  00012	b9 92 00 00 00	 mov	 ecx, 146		; 00000092H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1350 :     // Get access to the UI controls
; 1351 :     HWND hwndAdapterList        = GetDlgItem( hDlg, IDC_ADAPTER_COMBO );

  0001e	8b f4		 mov	 esi, esp
  00020	68 ea 03 00 00	 push	 1002			; 000003eaH
  00025	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00028	50		 push	 eax
  00029	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  0002f	3b f4		 cmp	 esi, esp
  00031	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00036	89 45 f8	 mov	 DWORD PTR _hwndAdapterList$[ebp], eax

; 1352 :     HWND hwndDeviceList         = GetDlgItem( hDlg, IDC_DEVICE_COMBO );

  00039	8b f4		 mov	 esi, esp
  0003b	68 e8 03 00 00	 push	 1000			; 000003e8H
  00040	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00043	50		 push	 eax
  00044	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  0004a	3b f4		 cmp	 esi, esp
  0004c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00051	89 45 ec	 mov	 DWORD PTR _hwndDeviceList$[ebp], eax

; 1353 :     HWND hwndFullscreenModeList = GetDlgItem( hDlg, IDC_FULLSCREENMODES_COMBO );

  00054	8b f4		 mov	 esi, esp
  00056	68 eb 03 00 00	 push	 1003			; 000003ebH
  0005b	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  0005e	50		 push	 eax
  0005f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  00065	3b f4		 cmp	 esi, esp
  00067	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0006c	89 45 e0	 mov	 DWORD PTR _hwndFullscreenModeList$[ebp], eax

; 1354 :     HWND hwndWindowedRadio      = GetDlgItem( hDlg, IDC_WINDOW );

  0006f	8b f4		 mov	 esi, esp
  00071	68 f8 03 00 00	 push	 1016			; 000003f8H
  00076	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00079	50		 push	 eax
  0007a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  00080	3b f4		 cmp	 esi, esp
  00082	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00087	89 45 d4	 mov	 DWORD PTR _hwndWindowedRadio$[ebp], eax

; 1355 :     HWND hwndFullscreenRadio    = GetDlgItem( hDlg, IDC_FULLSCREEN );

  0008a	8b f4		 mov	 esi, esp
  0008c	68 fa 03 00 00	 push	 1018			; 000003faH
  00091	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00094	50		 push	 eax
  00095	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  0009b	3b f4		 cmp	 esi, esp
  0009d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a2	89 45 c8	 mov	 DWORD PTR _hwndFullscreenRadio$[ebp], eax

; 1356 :     HWND hwndMultiSampleList    = GetDlgItem( hDlg, IDC_MULTISAMPLE_COMBO );

  000a5	8b f4		 mov	 esi, esp
  000a7	68 ed 03 00 00	 push	 1005			; 000003edH
  000ac	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  000af	50		 push	 eax
  000b0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  000b6	3b f4		 cmp	 esi, esp
  000b8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000bd	89 45 bc	 mov	 DWORD PTR _hwndMultiSampleList$[ebp], eax

; 1357 :     BOOL bUpdateDlgControls     = FALSE;

  000c0	c7 45 b0 00 00
	00 00		 mov	 DWORD PTR _bUpdateDlgControls$[ebp], 0

; 1358 : 
; 1359 :     // Static state for adapter/device/mode selection
; 1360 :     static CD3DApplication* pd3dApp;
; 1361 :     static DWORD  dwOldAdapter, dwNewAdapter;
; 1362 :     static DWORD  dwOldDevice,  dwNewDevice;
; 1363 :     static DWORD  dwOldMode,    dwNewMode;
; 1364 :     static BOOL   bOldWindowed, bNewWindowed;
; 1365 :     static D3DMULTISAMPLE_TYPE OldMultiSampleTypeWindowed, NewMultiSampleTypeWindowed;
; 1366 :     static D3DMULTISAMPLE_TYPE OldMultiSampleTypeFullscreen, NewMultiSampleTypeFullscreen;
; 1367 : 
; 1368 :     // Working variables
; 1369 :     D3DAdapterInfo* pAdapter;
; 1370 :     D3DDeviceInfo*  pDevice;
; 1371 : 
; 1372 :     // Handle the initialization message
; 1373 :     if( WM_INITDIALOG == msg )

  000c7	81 7d 0c 10 01
	00 00		 cmp	 DWORD PTR _msg$[ebp], 272 ; 00000110H
  000ce	0f 85 d7 00 00
	00		 jne	 $L80594

; 1374 :     {
; 1375 :         // Old state
; 1376 :         pd3dApp      = (CD3DApplication*)lParam;

  000d4	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  000d7	a3 00 00 00 00	 mov	 DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A, eax

; 1377 :         dwOldAdapter = pd3dApp->m_dwAdapter;

  000dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  000e1	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  000e7	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1378 :         pAdapter     = &pd3dApp->m_Adapters[dwOldAdapter];

  000ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  000f2	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  000f8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  000fe	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00102	89 55 a4	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1379 : 
; 1380 :         dwOldDevice  = pAdapter->dwCurrentDevice;

  00105	8b 45 a4	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  00108	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  0010e	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1381 :         pDevice      = &pAdapter->devices[dwOldDevice];

  00114	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00119	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  0011f	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  00122	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  00129	89 55 98	 mov	 DWORD PTR _pDevice$[ebp], edx

; 1382 : 
; 1383 :         dwOldMode    = pDevice->dwCurrentMode;

  0012c	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  0012f	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  00135	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1384 :         bOldWindowed = pDevice->bWindowed;

  0013b	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  0013e	8b 88 a0 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3232]
  00144	89 0d 00 00 00
	00		 mov	 DWORD PTR ?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, ecx

; 1385 :         OldMultiSampleTypeWindowed = pDevice->MultiSampleTypeWindowed;

  0014a	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  0014d	8b 88 a4 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3236]
  00153	89 0d 00 00 00
	00		 mov	 DWORD PTR ?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, ecx

; 1386 :         OldMultiSampleTypeFullscreen = pDevice->MultiSampleTypeFullscreen;

  00159	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  0015c	8b 88 a8 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3240]
  00162	89 0d 00 00 00
	00		 mov	 DWORD PTR ?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, ecx

; 1387 : 
; 1388 :         // New state is initially the same as the old state
; 1389 :         dwNewAdapter = dwOldAdapter;

  00168	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0016d	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1390 :         dwNewDevice  = dwOldDevice;

  00172	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00177	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1391 :         dwNewMode    = dwOldMode;

  0017c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00181	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1392 :         bNewWindowed = bOldWindowed;

  00186	a1 00 00 00 00	 mov	 eax, DWORD PTR ?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  0018b	a3 00 00 00 00	 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, eax

; 1393 :         NewMultiSampleTypeWindowed = OldMultiSampleTypeWindowed;

  00190	a1 00 00 00 00	 mov	 eax, DWORD PTR ?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00195	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1394 :         NewMultiSampleTypeFullscreen = OldMultiSampleTypeFullscreen;

  0019a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  0019f	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1395 : 
; 1396 :         // Set flag to update dialog controls below
; 1397 :         bUpdateDlgControls = TRUE;

  001a4	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _bUpdateDlgControls$[ebp], 1
$L80594:

; 1398 :     }
; 1399 : 
; 1400 :     if( WM_COMMAND == msg )

  001ab	81 7d 0c 11 01
	00 00		 cmp	 DWORD PTR _msg$[ebp], 273 ; 00000111H
  001b2	0f 85 86 03 00
	00		 jne	 $L80596

; 1401 :     {
; 1402 :         // Get current UI state
; 1403 :         bNewWindowed  = Button_GetCheck( hwndWindowedRadio );

  001b8	8b f4		 mov	 esi, esp
  001ba	6a 00		 push	 0
  001bc	6a 00		 push	 0
  001be	68 f0 00 00 00	 push	 240			; 000000f0H
  001c3	8b 45 d4	 mov	 eax, DWORD PTR _hwndWindowedRadio$[ebp]
  001c6	50		 push	 eax
  001c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  001cd	3b f4		 cmp	 esi, esp
  001cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001d4	a3 00 00 00 00	 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, eax

; 1404 : 
; 1405 :         if( IDOK == LOWORD(wParam) )

  001d9	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  001dc	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  001e1	0f b7 c8	 movzx	 ecx, ax
  001e4	83 f9 01	 cmp	 ecx, 1
  001e7	0f 85 2c 01 00
	00		 jne	 $L80601

; 1406 :         {
; 1407 :             // Handle the case when the user hits the OK button. Check if any
; 1408 :             // of the options were changed
; 1409 :             if( dwNewAdapter != dwOldAdapter || dwNewDevice  != dwOldDevice  ||
; 1410 :                 dwNewMode    != dwOldMode    || bNewWindowed != bOldWindowed ||
; 1411 :                 NewMultiSampleTypeWindowed != OldMultiSampleTypeWindowed ||
; 1412 :                 NewMultiSampleTypeFullscreen != OldMultiSampleTypeFullscreen )

  001ed	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  001f2	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwOldAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  001f8	75 45		 jne	 SHORT $L80603
  001fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  001ff	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwOldDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00205	75 38		 jne	 SHORT $L80603
  00207	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0020c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwOldMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00212	75 2b		 jne	 SHORT $L80603
  00214	a1 00 00 00 00	 mov	 eax, DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  00219	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?bOldWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  0021f	75 1e		 jne	 SHORT $L80603
  00221	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00226	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?OldMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  0022c	75 11		 jne	 SHORT $L80603
  0022e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00233	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?OldMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00239	0f 84 bb 00 00
	00		 je	 $L80602
$L80603:

; 1413 :             {
; 1414 :                 pd3dApp->m_dwAdapter = dwNewAdapter;

  0023f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00244	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0024a	89 88 48 a4 02
	00		 mov	 DWORD PTR [eax+173128], ecx

; 1415 : 
; 1416 :                 pAdapter = &pd3dApp->m_Adapters[dwNewAdapter];

  00250	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00255	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  0025b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00261	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  00265	89 55 a4	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1417 :                 pAdapter->dwCurrentDevice = dwNewDevice;

  00268	8b 45 a4	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  0026b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00271	89 88 9c 43 00
	00		 mov	 DWORD PTR [eax+17308], ecx

; 1418 : 
; 1419 :                 pAdapter->devices[dwNewDevice].dwCurrentMode = dwNewMode;

  00277	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0027c	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00282	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  00285	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0028b	89 94 01 dc 10
	00 00		 mov	 DWORD PTR [ecx+eax+4316], edx

; 1420 :                 pAdapter->devices[dwNewDevice].bWindowed     = bNewWindowed;

  00292	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00297	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  0029d	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  002a0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  002a6	89 94 01 e0 10
	00 00		 mov	 DWORD PTR [ecx+eax+4320], edx

; 1421 :                 pAdapter->devices[dwNewDevice].MultiSampleTypeWindowed = NewMultiSampleTypeWindowed;

  002ad	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  002b2	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  002b8	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  002bb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  002c1	89 94 01 e4 10
	00 00		 mov	 DWORD PTR [ecx+eax+4324], edx

; 1422 :                 pAdapter->devices[dwNewDevice].MultiSampleTypeFullscreen = NewMultiSampleTypeFullscreen;

  002c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  002cd	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  002d3	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  002d6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  002dc	89 94 01 e8 10
	00 00		 mov	 DWORD PTR [ecx+eax+4328], edx

; 1423 : 
; 1424 :                 EndDialog( hDlg, IDOK );

  002e3	8b f4		 mov	 esi, esp
  002e5	6a 01		 push	 1
  002e7	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  002ea	50		 push	 eax
  002eb	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8
  002f1	3b f4		 cmp	 esi, esp
  002f3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1425 :             }
; 1426 :             else

  002f8	eb 15		 jmp	 SHORT $L80604
$L80602:

; 1427 :                 EndDialog( hDlg, IDCANCEL );

  002fa	8b f4		 mov	 esi, esp
  002fc	6a 02		 push	 2
  002fe	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00301	50		 push	 eax
  00302	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8
  00308	3b f4		 cmp	 esi, esp
  0030a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80604:

; 1428 : 
; 1429 :             return TRUE;

  0030f	b8 01 00 00 00	 mov	 eax, 1
  00314	e9 e3 08 00 00	 jmp	 $L80558
$L80601:

; 1430 :         }
; 1431 :         else if( IDCANCEL == LOWORD(wParam) )

  00319	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0031c	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00321	0f b7 c8	 movzx	 ecx, ax
  00324	83 f9 02	 cmp	 ecx, 2
  00327	75 1f		 jne	 SHORT $L80608

; 1432 :         {
; 1433 :             // Handle the case when the user hits the Cancel button
; 1434 :             EndDialog( hDlg, IDCANCEL );

  00329	8b f4		 mov	 esi, esp
  0032b	6a 02		 push	 2
  0032d	8b 45 08	 mov	 eax, DWORD PTR _hDlg$[ebp]
  00330	50		 push	 eax
  00331	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8
  00337	3b f4		 cmp	 esi, esp
  00339	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1435 :             return TRUE;

  0033e	b8 01 00 00 00	 mov	 eax, 1
  00343	e9 b4 08 00 00	 jmp	 $L80558
$L80608:

; 1436 :         }
; 1437 :         else if( CBN_SELENDOK == HIWORD(wParam) )

  00348	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0034b	c1 e8 10	 shr	 eax, 16			; 00000010H
  0034e	0f b7 c8	 movzx	 ecx, ax
  00351	83 f9 09	 cmp	 ecx, 9
  00354	0f 85 dd 01 00
	00		 jne	 $L80605

; 1438 :         {
; 1439 :             if( LOWORD(wParam) == IDC_ADAPTER_COMBO )

  0035a	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0035d	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00362	0f b7 c8	 movzx	 ecx, ax
  00365	81 f9 ea 03 00
	00		 cmp	 ecx, 1002		; 000003eaH
  0036b	0f 85 83 00 00
	00		 jne	 $L80615

; 1440 :             {
; 1441 :                 dwNewAdapter = ComboBox_GetCurSel( hwndAdapterList );

  00371	8b f4		 mov	 esi, esp
  00373	6a 00		 push	 0
  00375	6a 00		 push	 0
  00377	68 47 01 00 00	 push	 327			; 00000147H
  0037c	8b 45 f8	 mov	 eax, DWORD PTR _hwndAdapterList$[ebp]
  0037f	50		 push	 eax
  00380	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00386	3b f4		 cmp	 esi, esp
  00388	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0038d	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1442 :                 pAdapter     = &pd3dApp->m_Adapters[dwNewAdapter];

  00392	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00397	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  0039d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  003a3	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  003a7	89 55 a4	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1443 : 
; 1444 :                 dwNewDevice  = pAdapter->dwCurrentDevice;

  003aa	8b 45 a4	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  003ad	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  003b3	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, ecx

; 1445 :                 dwNewMode    = pAdapter->devices[dwNewDevice].dwCurrentMode;

  003b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  003be	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  003c4	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  003c7	8b 94 01 dc 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4316]
  003ce	89 15 00 00 00
	00		 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, edx

; 1446 :                 bNewWindowed = pAdapter->devices[dwNewDevice].bWindowed;

  003d4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  003d9	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  003df	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  003e2	8b 94 01 e0 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4320]
  003e9	89 15 00 00 00
	00		 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, edx

; 1447 :             }
; 1448 :             else if( LOWORD(wParam) == IDC_DEVICE_COMBO )

  003ef	e9 43 01 00 00	 jmp	 $L80605
$L80615:
  003f4	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  003f7	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  003fc	0f b7 c8	 movzx	 ecx, ax
  003ff	81 f9 e8 03 00
	00		 cmp	 ecx, 1000		; 000003e8H
  00405	75 74		 jne	 SHORT $L80621

; 1449 :             {
; 1450 :                 pAdapter     = &pd3dApp->m_Adapters[dwNewAdapter];

  00407	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0040c	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00412	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00418	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  0041c	89 55 a4	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1451 : 
; 1452 :                 dwNewDevice  = ComboBox_GetCurSel( hwndDeviceList );

  0041f	8b f4		 mov	 esi, esp
  00421	6a 00		 push	 0
  00423	6a 00		 push	 0
  00425	68 47 01 00 00	 push	 327			; 00000147H
  0042a	8b 45 ec	 mov	 eax, DWORD PTR _hwndDeviceList$[ebp]
  0042d	50		 push	 eax
  0042e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00434	3b f4		 cmp	 esi, esp
  00436	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0043b	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1453 :                 dwNewMode    = pAdapter->devices[dwNewDevice].dwCurrentMode;

  00440	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00445	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  0044b	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  0044e	8b 94 01 dc 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4316]
  00455	89 15 00 00 00
	00		 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, edx

; 1454 :                 bNewWindowed = pAdapter->devices[dwNewDevice].bWindowed;

  0045b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00460	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  00466	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  00469	8b 94 01 e0 10
	00 00		 mov	 edx, DWORD PTR [ecx+eax+4320]
  00470	89 15 00 00 00
	00		 mov	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, edx

; 1455 :             }
; 1456 :             else if( LOWORD(wParam) == IDC_FULLSCREENMODES_COMBO )

  00476	e9 bc 00 00 00	 jmp	 $L80605
$L80621:
  0047b	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0047e	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00483	0f b7 c8	 movzx	 ecx, ax
  00486	81 f9 eb 03 00
	00		 cmp	 ecx, 1003		; 000003ebH
  0048c	75 26		 jne	 SHORT $L80627

; 1457 :             {
; 1458 :                 dwNewMode = ComboBox_GetCurSel( hwndFullscreenModeList );

  0048e	8b f4		 mov	 esi, esp
  00490	6a 00		 push	 0
  00492	6a 00		 push	 0
  00494	68 47 01 00 00	 push	 327			; 00000147H
  00499	8b 45 e0	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  0049c	50		 push	 eax
  0049d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  004a3	3b f4		 cmp	 esi, esp
  004a5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004aa	a3 00 00 00 00	 mov	 DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA, eax

; 1459 :             }
; 1460 :             else if( LOWORD(wParam) == IDC_MULTISAMPLE_COMBO )

  004af	e9 83 00 00 00	 jmp	 $L80605
$L80627:
  004b4	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  004b7	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  004bc	0f b7 c8	 movzx	 ecx, ax
  004bf	81 f9 ed 03 00
	00		 cmp	 ecx, 1005		; 000003edH
  004c5	75 70		 jne	 SHORT $L80605

; 1461 :             {
; 1462 :                 DWORD dwItem = ComboBox_GetCurSel( hwndMultiSampleList );

  004c7	8b f4		 mov	 esi, esp
  004c9	6a 00		 push	 0
  004cb	6a 00		 push	 0
  004cd	68 47 01 00 00	 push	 327			; 00000147H
  004d2	8b 45 bc	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  004d5	50		 push	 eax
  004d6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  004dc	3b f4		 cmp	 esi, esp
  004de	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004e3	89 45 8c	 mov	 DWORD PTR _dwItem$80634[ebp], eax

; 1463 :                 if( bNewWindowed )

  004e6	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  004ed	74 25		 je	 SHORT $L80637

; 1464 :                     NewMultiSampleTypeWindowed = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  004ef	8b f4		 mov	 esi, esp
  004f1	6a 00		 push	 0
  004f3	8b 45 8c	 mov	 eax, DWORD PTR _dwItem$80634[ebp]
  004f6	50		 push	 eax
  004f7	68 50 01 00 00	 push	 336			; 00000150H
  004fc	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  004ff	51		 push	 ecx
  00500	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00506	3b f4		 cmp	 esi, esp
  00508	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0050d	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1465 :                 else

  00512	eb 23		 jmp	 SHORT $L80605
$L80637:

; 1466 :                     NewMultiSampleTypeFullscreen = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  00514	8b f4		 mov	 esi, esp
  00516	6a 00		 push	 0
  00518	8b 45 8c	 mov	 eax, DWORD PTR _dwItem$80634[ebp]
  0051b	50		 push	 eax
  0051c	68 50 01 00 00	 push	 336			; 00000150H
  00521	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00524	51		 push	 ecx
  00525	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0052b	3b f4		 cmp	 esi, esp
  0052d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00532	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax
$L80605:

; 1467 :             }
; 1468 :         }
; 1469 :         // Keep the UI current
; 1470 :         bUpdateDlgControls = TRUE;

  00537	c7 45 b0 01 00
	00 00		 mov	 DWORD PTR _bUpdateDlgControls$[ebp], 1
$L80596:

; 1471 :     }
; 1472 : 
; 1473 :     // Update the dialog controls
; 1474 :     if( bUpdateDlgControls )

  0053e	83 7d b0 00	 cmp	 DWORD PTR _bUpdateDlgControls$[ebp], 0
  00542	0f 84 b2 06 00
	00		 je	 $L80649

; 1475 :     {
; 1476 :         // Reset the content in each of the combo boxes
; 1477 :         ComboBox_ResetContent( hwndAdapterList );

  00548	8b f4		 mov	 esi, esp
  0054a	6a 00		 push	 0
  0054c	6a 00		 push	 0
  0054e	68 4b 01 00 00	 push	 331			; 0000014bH
  00553	8b 45 f8	 mov	 eax, DWORD PTR _hwndAdapterList$[ebp]
  00556	50		 push	 eax
  00557	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0055d	3b f4		 cmp	 esi, esp
  0055f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1478 :         ComboBox_ResetContent( hwndDeviceList );

  00564	8b f4		 mov	 esi, esp
  00566	6a 00		 push	 0
  00568	6a 00		 push	 0
  0056a	68 4b 01 00 00	 push	 331			; 0000014bH
  0056f	8b 45 ec	 mov	 eax, DWORD PTR _hwndDeviceList$[ebp]
  00572	50		 push	 eax
  00573	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00579	3b f4		 cmp	 esi, esp
  0057b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1479 :         ComboBox_ResetContent( hwndFullscreenModeList );

  00580	8b f4		 mov	 esi, esp
  00582	6a 00		 push	 0
  00584	6a 00		 push	 0
  00586	68 4b 01 00 00	 push	 331			; 0000014bH
  0058b	8b 45 e0	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  0058e	50		 push	 eax
  0058f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00595	3b f4		 cmp	 esi, esp
  00597	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1480 :         ComboBox_ResetContent( hwndMultiSampleList );

  0059c	8b f4		 mov	 esi, esp
  0059e	6a 00		 push	 0
  005a0	6a 00		 push	 0
  005a2	68 4b 01 00 00	 push	 331			; 0000014bH
  005a7	8b 45 bc	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  005aa	50		 push	 eax
  005ab	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  005b1	3b f4		 cmp	 esi, esp
  005b3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1481 : 
; 1482 :         pAdapter = &pd3dApp->m_Adapters[dwNewAdapter];

  005b8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  005bd	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  005c3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  005c9	8d 54 01 04	 lea	 edx, DWORD PTR [ecx+eax+4]
  005cd	89 55 a4	 mov	 DWORD PTR _pAdapter$[ebp], edx

; 1483 :         pDevice  = &pAdapter->devices[dwNewDevice];

  005d0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  005d5	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  005db	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  005de	8d 94 01 40 04
	00 00		 lea	 edx, DWORD PTR [ecx+eax+1088]
  005e5	89 55 98	 mov	 DWORD PTR _pDevice$[ebp], edx

; 1484 : 
; 1485 :         // Add a list of adapters to the adapter combo box
; 1486 :         for( DWORD a=0; a < pd3dApp->m_dwNumAdapters; a++ )

  005e8	c7 45 80 00 00
	00 00		 mov	 DWORD PTR _a$80658[ebp], 0
  005ef	eb 09		 jmp	 SHORT $L80659
$L80660:
  005f1	8b 45 80	 mov	 eax, DWORD PTR _a$80658[ebp]
  005f4	83 c0 01	 add	 eax, 1
  005f7	89 45 80	 mov	 DWORD PTR _a$80658[ebp], eax
$L80659:
  005fa	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  005ff	8b 4d 80	 mov	 ecx, DWORD PTR _a$80658[ebp]
  00602	3b 88 44 a4 02
	00		 cmp	 ecx, DWORD PTR [eax+173124]
  00608	0f 83 8b 00 00
	00		 jae	 $L80661

; 1487 :         {
; 1488 :             // Add device name to the combo box
; 1489 :             DWORD dwItem = ComboBox_AddString( hwndAdapterList,
; 1490 :                              pd3dApp->m_Adapters[a].d3dAdapterIdentifier.Description );

  0060e	8b 45 80	 mov	 eax, DWORD PTR _a$80658[ebp]
  00611	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  00617	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  0061d	8d 94 01 04 02
	00 00		 lea	 edx, DWORD PTR [ecx+eax+516]
  00624	8b f4		 mov	 esi, esp
  00626	52		 push	 edx
  00627	6a 00		 push	 0
  00629	68 43 01 00 00	 push	 323			; 00000143H
  0062e	8b 45 f8	 mov	 eax, DWORD PTR _hwndAdapterList$[ebp]
  00631	50		 push	 eax
  00632	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00638	3b f4		 cmp	 esi, esp
  0063a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0063f	89 85 74 ff ff
	ff		 mov	 DWORD PTR _dwItem$80662[ebp], eax

; 1491 : 
; 1492 :             // Set the item data to identify this adapter
; 1493 :             ComboBox_SetItemData( hwndAdapterList, dwItem, a );

  00645	8b f4		 mov	 esi, esp
  00647	8b 45 80	 mov	 eax, DWORD PTR _a$80658[ebp]
  0064a	50		 push	 eax
  0064b	8b 8d 74 ff ff
	ff		 mov	 ecx, DWORD PTR _dwItem$80662[ebp]
  00651	51		 push	 ecx
  00652	68 51 01 00 00	 push	 337			; 00000151H
  00657	8b 55 f8	 mov	 edx, DWORD PTR _hwndAdapterList$[ebp]
  0065a	52		 push	 edx
  0065b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00661	3b f4		 cmp	 esi, esp
  00663	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1494 : 
; 1495 :             // Set the combobox selection on the current adapater
; 1496 :             if( a == dwNewAdapter )

  00668	8b 45 80	 mov	 eax, DWORD PTR _a$80658[ebp]
  0066b	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00671	75 21		 jne	 SHORT $L80672

; 1497 :                 ComboBox_SetCurSel( hwndAdapterList, dwItem );

  00673	8b f4		 mov	 esi, esp
  00675	6a 00		 push	 0
  00677	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _dwItem$80662[ebp]
  0067d	50		 push	 eax
  0067e	68 4e 01 00 00	 push	 334			; 0000014eH
  00683	8b 4d f8	 mov	 ecx, DWORD PTR _hwndAdapterList$[ebp]
  00686	51		 push	 ecx
  00687	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0068d	3b f4		 cmp	 esi, esp
  0068f	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80672:

; 1498 :         }

  00694	e9 58 ff ff ff	 jmp	 $L80660
$L80661:

; 1499 : 
; 1500 :         // Add a list of devices to the device combo box
; 1501 :         for( DWORD d=0; d < pAdapter->dwNumDevices; d++ )

  00699	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _d$80677[ebp], 0
  006a3	eb 0f		 jmp	 SHORT $L80678
$L80679:
  006a5	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _d$80677[ebp]
  006ab	83 c0 01	 add	 eax, 1
  006ae	89 85 68 ff ff
	ff		 mov	 DWORD PTR _d$80677[ebp], eax
$L80678:
  006b4	8b 45 a4	 mov	 eax, DWORD PTR _pAdapter$[ebp]
  006b7	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _d$80677[ebp]
  006bd	3b 88 3c 04 00
	00		 cmp	 ecx, DWORD PTR [eax+1084]
  006c3	0f 83 91 00 00
	00		 jae	 $L80680

; 1502 :         {
; 1503 :             // Add device name to the combo box
; 1504 :             DWORD dwItem = ComboBox_AddString( hwndDeviceList,
; 1505 :                                                pAdapter->devices[d].strDesc );

  006c9	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _d$80677[ebp]
  006cf	69 c0 ac 0c 00
	00		 imul	 eax, 3244		; 00000cacH
  006d5	8b f4		 mov	 esi, esp
  006d7	8b 4d a4	 mov	 ecx, DWORD PTR _pAdapter$[ebp]
  006da	8b 94 01 18 05
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1304]
  006e1	52		 push	 edx
  006e2	6a 00		 push	 0
  006e4	68 43 01 00 00	 push	 323			; 00000143H
  006e9	8b 45 ec	 mov	 eax, DWORD PTR _hwndDeviceList$[ebp]
  006ec	50		 push	 eax
  006ed	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  006f3	3b f4		 cmp	 esi, esp
  006f5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006fa	89 85 5c ff ff
	ff		 mov	 DWORD PTR _dwItem$80681[ebp], eax

; 1506 : 
; 1507 :             // Set the item data to identify this device
; 1508 :             ComboBox_SetItemData( hwndDeviceList, dwItem, d );

  00700	8b f4		 mov	 esi, esp
  00702	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _d$80677[ebp]
  00708	50		 push	 eax
  00709	8b 8d 5c ff ff
	ff		 mov	 ecx, DWORD PTR _dwItem$80681[ebp]
  0070f	51		 push	 ecx
  00710	68 51 01 00 00	 push	 337			; 00000151H
  00715	8b 55 ec	 mov	 edx, DWORD PTR _hwndDeviceList$[ebp]
  00718	52		 push	 edx
  00719	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0071f	3b f4		 cmp	 esi, esp
  00721	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1509 : 
; 1510 :             // Set the combobox selection on the current device
; 1511 :             if( d == dwNewDevice )

  00726	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR _d$80677[ebp]
  0072c	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwNewDevice@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  00732	75 21		 jne	 SHORT $L80691

; 1512 :                 ComboBox_SetCurSel( hwndDeviceList, dwItem );

  00734	8b f4		 mov	 esi, esp
  00736	6a 00		 push	 0
  00738	8b 85 5c ff ff
	ff		 mov	 eax, DWORD PTR _dwItem$80681[ebp]
  0073e	50		 push	 eax
  0073f	68 4e 01 00 00	 push	 334			; 0000014eH
  00744	8b 4d ec	 mov	 ecx, DWORD PTR _hwndDeviceList$[ebp]
  00747	51		 push	 ecx
  00748	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0074e	3b f4		 cmp	 esi, esp
  00750	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80691:

; 1513 :         }

  00755	e9 4b ff ff ff	 jmp	 $L80679
$L80680:

; 1514 : 
; 1515 :         // Add a list of modes to the mode combo box
; 1516 :         for( DWORD m=0; m < pDevice->dwNumModes; m++ )

  0075a	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$80696[ebp], 0
  00764	eb 0f		 jmp	 SHORT $L80697
$L80698:
  00766	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  0076c	83 c0 01	 add	 eax, 1
  0076f	89 85 50 ff ff
	ff		 mov	 DWORD PTR _m$80696[ebp], eax
$L80697:
  00775	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00778	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR _m$80696[ebp]
  0077e	3b 88 e0 00 00
	00		 cmp	 ecx, DWORD PTR [eax+224]
  00784	0f 83 1a 01 00
	00		 jae	 $L80699

; 1517 :         {
; 1518 :             DWORD BitDepth = 16;

  0078a	c7 85 44 ff ff
	ff 10 00 00 00	 mov	 DWORD PTR _BitDepth$80700[ebp], 16 ; 00000010H

; 1519 :             if( pDevice->modes[m].Format == D3DFMT_X8R8G8B8 ||
; 1520 :                 pDevice->modes[m].Format == D3DFMT_A8R8G8B8 ||
; 1521 :                 pDevice->modes[m].Format == D3DFMT_R8G8B8 )

  00794	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  0079a	6b c0 14	 imul	 eax, 20			; 00000014H
  0079d	8b 4d 98	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  007a0	83 bc 01 ec 00
	00 00 16	 cmp	 DWORD PTR [ecx+eax+236], 22 ; 00000016H
  007a8	74 2c		 je	 SHORT $L80702
  007aa	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  007b0	6b c0 14	 imul	 eax, 20			; 00000014H
  007b3	8b 4d 98	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  007b6	83 bc 01 ec 00
	00 00 15	 cmp	 DWORD PTR [ecx+eax+236], 21 ; 00000015H
  007be	74 16		 je	 SHORT $L80702
  007c0	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  007c6	6b c0 14	 imul	 eax, 20			; 00000014H
  007c9	8b 4d 98	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  007cc	83 bc 01 ec 00
	00 00 14	 cmp	 DWORD PTR [ecx+eax+236], 20 ; 00000014H
  007d4	75 0a		 jne	 SHORT $L80701
$L80702:

; 1522 :             {
; 1523 :                 BitDepth = 32;

  007d6	c7 85 44 ff ff
	ff 20 00 00 00	 mov	 DWORD PTR _BitDepth$80700[ebp], 32 ; 00000020H
$L80701:

; 1524 :             }
; 1525 : 
; 1526 :             // Add mode desc to the combo box
; 1527 :             TCHAR strMode[80];
; 1528 :             _stprintf( strMode, _T("%ld x %ld x %ld"), pDevice->modes[m].Width,
; 1529 :                                                        pDevice->modes[m].Height,
; 1530 :                                                        BitDepth );

  007e0	8b 85 44 ff ff
	ff		 mov	 eax, DWORD PTR _BitDepth$80700[ebp]
  007e6	50		 push	 eax
  007e7	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR _m$80696[ebp]
  007ed	6b c9 14	 imul	 ecx, 20			; 00000014H
  007f0	8b 55 98	 mov	 edx, DWORD PTR _pDevice$[ebp]
  007f3	8b 84 0a e8 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+232]
  007fa	50		 push	 eax
  007fb	8b 8d 50 ff ff
	ff		 mov	 ecx, DWORD PTR _m$80696[ebp]
  00801	6b c9 14	 imul	 ecx, 20			; 00000014H
  00804	8b 55 98	 mov	 edx, DWORD PTR _pDevice$[ebp]
  00807	8b 84 0a e4 00
	00 00		 mov	 eax, DWORD PTR [edx+ecx+228]
  0080e	50		 push	 eax
  0080f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BA@ICADIDGG@?$CFld?5x?5?$CFld?5x?5?$CFld?$AA@
  00814	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _strMode$80703[ebp]
  0081a	51		 push	 ecx
  0081b	e8 00 00 00 00	 call	 _sprintf
  00820	83 c4 14	 add	 esp, 20			; 00000014H

; 1531 :             DWORD dwItem = ComboBox_AddString( hwndFullscreenModeList, strMode );

  00823	8b f4		 mov	 esi, esp
  00825	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _strMode$80703[ebp]
  0082b	50		 push	 eax
  0082c	6a 00		 push	 0
  0082e	68 43 01 00 00	 push	 323			; 00000143H
  00833	8b 4d e0	 mov	 ecx, DWORD PTR _hwndFullscreenModeList$[ebp]
  00836	51		 push	 ecx
  00837	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0083d	3b f4		 cmp	 esi, esp
  0083f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00844	89 85 dc fe ff
	ff		 mov	 DWORD PTR _dwItem$80705[ebp], eax

; 1532 : 
; 1533 :             // Set the item data to identify this mode
; 1534 :             ComboBox_SetItemData( hwndFullscreenModeList, dwItem, m );

  0084a	8b f4		 mov	 esi, esp
  0084c	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  00852	50		 push	 eax
  00853	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _dwItem$80705[ebp]
  00859	51		 push	 ecx
  0085a	68 51 01 00 00	 push	 337			; 00000151H
  0085f	8b 55 e0	 mov	 edx, DWORD PTR _hwndFullscreenModeList$[ebp]
  00862	52		 push	 edx
  00863	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00869	3b f4		 cmp	 esi, esp
  0086b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1535 : 
; 1536 :             // Set the combobox selection on the current mode
; 1537 :             if( m == dwNewMode )

  00870	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  00876	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0087c	75 21		 jne	 SHORT $L80715

; 1538 :                 ComboBox_SetCurSel( hwndFullscreenModeList, dwItem );

  0087e	8b f4		 mov	 esi, esp
  00880	6a 00		 push	 0
  00882	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$80705[ebp]
  00888	50		 push	 eax
  00889	68 4e 01 00 00	 push	 334			; 0000014eH
  0088e	8b 4d e0	 mov	 ecx, DWORD PTR _hwndFullscreenModeList$[ebp]
  00891	51		 push	 ecx
  00892	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00898	3b f4		 cmp	 esi, esp
  0089a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80715:

; 1539 :         }

  0089f	e9 c2 fe ff ff	 jmp	 $L80698
$L80699:

; 1540 : 
; 1541 :         // Add a list of multisample modes to the multisample combo box
; 1542 :         for( m=0; m <= 16; m++ )

  008a4	c7 85 50 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _m$80696[ebp], 0
  008ae	eb 0f		 jmp	 SHORT $L80720
$L80721:
  008b0	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  008b6	83 c0 01	 add	 eax, 1
  008b9	89 85 50 ff ff
	ff		 mov	 DWORD PTR _m$80696[ebp], eax
$L80720:
  008bf	83 bd 50 ff ff
	ff 10		 cmp	 DWORD PTR _m$80696[ebp], 16 ; 00000010H
  008c6	0f 87 b4 01 00
	00		 ja	 $L80722

; 1543 :         {
; 1544 :             TCHAR strDesc[50];
; 1545 : 
; 1546 :             D3DFORMAT fmt;
; 1547 :             if( bNewWindowed )

  008cc	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  008d3	74 20		 je	 SHORT $L80725

; 1548 :                 fmt = pd3dApp->m_Adapters[dwNewAdapter].d3ddmDesktop.Format;

  008d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  008da	69 c0 a0 43 00
	00		 imul	 eax, 17312		; 000043a0H
  008e0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  008e6	8b 94 01 3c 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax+1084]
  008ed	89 95 94 fe ff
	ff		 mov	 DWORD PTR _fmt$80724[ebp], edx

; 1549 :             else

  008f3	eb 18		 jmp	 SHORT $L80726
$L80725:

; 1550 :                 fmt = pDevice->modes[dwNewMode].Format;

  008f5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwNewMode@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  008fa	6b c0 14	 imul	 eax, 20			; 00000014H
  008fd	8b 4d 98	 mov	 ecx, DWORD PTR _pDevice$[ebp]
  00900	8b 94 01 ec 00
	00 00		 mov	 edx, DWORD PTR [ecx+eax+236]
  00907	89 95 94 fe ff
	ff		 mov	 DWORD PTR _fmt$80724[ebp], edx
$L80726:

; 1551 : 
; 1552 :             if ( m == 1 ) // 1 is not a valid multisample type

  0090d	83 bd 50 ff ff
	ff 01		 cmp	 DWORD PTR _m$80696[ebp], 1
  00914	75 02		 jne	 SHORT $L80727

; 1553 :                 continue;

  00916	eb 98		 jmp	 SHORT $L80721
$L80727:

; 1554 : 
; 1555 :             if( SUCCEEDED( pd3dApp->m_pD3D->CheckDeviceMultiSampleType( dwNewAdapter,
; 1556 :                 pDevice->DeviceType, fmt, bNewWindowed, (D3DMULTISAMPLE_TYPE)m ) ) )

  00918	8b f4		 mov	 esi, esp
  0091a	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  00920	50		 push	 eax
  00921	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA
  00927	51		 push	 ecx
  00928	8b 95 94 fe ff
	ff		 mov	 edx, DWORD PTR _fmt$80724[ebp]
  0092e	52		 push	 edx
  0092f	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00932	8b 08		 mov	 ecx, DWORD PTR [eax]
  00934	51		 push	 ecx
  00935	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?dwNewAdapter@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4KA
  0093b	52		 push	 edx
  0093c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  00941	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00947	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?pd3dApp@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4PAV2@A
  0094d	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  00953	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00955	50		 push	 eax
  00956	ff 51 2c	 call	 DWORD PTR [ecx+44]
  00959	3b f4		 cmp	 esi, esp
  0095b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00960	85 c0		 test	 eax, eax
  00962	0f 8c 13 01 00
	00		 jl	 $L80730

; 1557 :             {
; 1558 :                 if( m == 0 )

  00968	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR _m$80696[ebp], 0
  0096f	75 1d		 jne	 SHORT $L80731

; 1559 :                     lstrcpy( strDesc, _T("none") );

  00971	8b f4		 mov	 esi, esp
  00973	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_04CGFJFPFD@none?$AA@
  00978	8d 85 a0 fe ff
	ff		 lea	 eax, DWORD PTR _strDesc$80723[ebp]
  0097e	50		 push	 eax
  0097f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcpyA@8
  00985	3b f4		 cmp	 esi, esp
  00987	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1560 :                 else

  0098c	eb 25		 jmp	 SHORT $L80733
$L80731:

; 1561 :                     wsprintf( strDesc, _T("%d samples"), m );

  0098e	8b f4		 mov	 esi, esp
  00990	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  00996	50		 push	 eax
  00997	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@EABGANAD@?$CFd?5samples?$AA@
  0099c	8d 8d a0 fe ff
	ff		 lea	 ecx, DWORD PTR _strDesc$80723[ebp]
  009a2	51		 push	 ecx
  009a3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  009a9	83 c4 0c	 add	 esp, 12			; 0000000cH
  009ac	3b f4		 cmp	 esi, esp
  009ae	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80733:

; 1562 : 
; 1563 :                 // Add device name to the combo box
; 1564 :                 DWORD dwItem = ComboBox_AddString( hwndMultiSampleList, strDesc );

  009b3	8b f4		 mov	 esi, esp
  009b5	8d 85 a0 fe ff
	ff		 lea	 eax, DWORD PTR _strDesc$80723[ebp]
  009bb	50		 push	 eax
  009bc	6a 00		 push	 0
  009be	68 43 01 00 00	 push	 323			; 00000143H
  009c3	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  009c6	51		 push	 ecx
  009c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  009cd	3b f4		 cmp	 esi, esp
  009cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  009d4	89 85 88 fe ff
	ff		 mov	 DWORD PTR _dwItem$80735[ebp], eax

; 1565 : 
; 1566 :                 // Set the item data to identify this multisample type
; 1567 :                 ComboBox_SetItemData( hwndMultiSampleList, dwItem, m );

  009da	8b f4		 mov	 esi, esp
  009dc	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  009e2	50		 push	 eax
  009e3	8b 8d 88 fe ff
	ff		 mov	 ecx, DWORD PTR _dwItem$80735[ebp]
  009e9	51		 push	 ecx
  009ea	68 51 01 00 00	 push	 337			; 00000151H
  009ef	8b 55 bc	 mov	 edx, DWORD PTR _hwndMultiSampleList$[ebp]
  009f2	52		 push	 edx
  009f3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  009f9	3b f4		 cmp	 esi, esp
  009fb	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1568 : 
; 1569 :                 // Set the combobox selection on the current multisample type
; 1570 :                 if( bNewWindowed )

  00a00	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  00a07	74 3a		 je	 SHORT $L80745

; 1571 :                 {
; 1572 :                     if( (D3DMULTISAMPLE_TYPE)m == NewMultiSampleTypeWindowed || m == 0 )

  00a09	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  00a0f	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00a15	74 09		 je	 SHORT $L80748
  00a17	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR _m$80696[ebp], 0
  00a1e	75 21		 jne	 SHORT $L80747
$L80748:

; 1573 :                         ComboBox_SetCurSel( hwndMultiSampleList, dwItem );

  00a20	8b f4		 mov	 esi, esp
  00a22	6a 00		 push	 0
  00a24	8b 85 88 fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$80735[ebp]
  00a2a	50		 push	 eax
  00a2b	68 4e 01 00 00	 push	 334			; 0000014eH
  00a30	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00a33	51		 push	 ecx
  00a34	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00a3a	3b f4		 cmp	 esi, esp
  00a3c	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80747:

; 1574 :                 }
; 1575 :                 else

  00a41	eb 38		 jmp	 SHORT $L80730
$L80745:

; 1576 :                 {
; 1577 :                     if( (D3DMULTISAMPLE_TYPE)m == NewMultiSampleTypeFullscreen || m == 0 )

  00a43	8b 85 50 ff ff
	ff		 mov	 eax, DWORD PTR _m$80696[ebp]
  00a49	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A
  00a4f	74 09		 je	 SHORT $L80756
  00a51	83 bd 50 ff ff
	ff 00		 cmp	 DWORD PTR _m$80696[ebp], 0
  00a58	75 21		 jne	 SHORT $L80730
$L80756:

; 1578 :                         ComboBox_SetCurSel( hwndMultiSampleList, dwItem );

  00a5a	8b f4		 mov	 esi, esp
  00a5c	6a 00		 push	 0
  00a5e	8b 85 88 fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$80735[ebp]
  00a64	50		 push	 eax
  00a65	68 4e 01 00 00	 push	 334			; 0000014eH
  00a6a	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00a6d	51		 push	 ecx
  00a6e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00a74	3b f4		 cmp	 esi, esp
  00a76	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80730:

; 1579 :                 }
; 1580 :             }
; 1581 :         }

  00a7b	e9 30 fe ff ff	 jmp	 $L80721
$L80722:

; 1582 :         DWORD dwItem = ComboBox_GetCurSel( hwndMultiSampleList );

  00a80	8b f4		 mov	 esi, esp
  00a82	6a 00		 push	 0
  00a84	6a 00		 push	 0
  00a86	68 47 01 00 00	 push	 327			; 00000147H
  00a8b	8b 45 bc	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  00a8e	50		 push	 eax
  00a8f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00a95	3b f4		 cmp	 esi, esp
  00a97	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00a9c	89 85 7c fe ff
	ff		 mov	 DWORD PTR _dwItem$80761[ebp], eax

; 1583 :         if( bNewWindowed )

  00aa2	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  00aa9	74 28		 je	 SHORT $L80764

; 1584 :             NewMultiSampleTypeWindowed = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  00aab	8b f4		 mov	 esi, esp
  00aad	6a 00		 push	 0
  00aaf	8b 85 7c fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$80761[ebp]
  00ab5	50		 push	 eax
  00ab6	68 50 01 00 00	 push	 336			; 00000150H
  00abb	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00abe	51		 push	 ecx
  00abf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00ac5	3b f4		 cmp	 esi, esp
  00ac7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00acc	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax

; 1585 :         else

  00ad1	eb 26		 jmp	 SHORT $L80770
$L80764:

; 1586 :             NewMultiSampleTypeFullscreen = (D3DMULTISAMPLE_TYPE)ComboBox_GetItemData( hwndMultiSampleList, dwItem );

  00ad3	8b f4		 mov	 esi, esp
  00ad5	6a 00		 push	 0
  00ad7	8b 85 7c fe ff
	ff		 mov	 eax, DWORD PTR _dwItem$80761[ebp]
  00add	50		 push	 eax
  00ade	68 50 01 00 00	 push	 336			; 00000150H
  00ae3	8b 4d bc	 mov	 ecx, DWORD PTR _hwndMultiSampleList$[ebp]
  00ae6	51		 push	 ecx
  00ae7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00aed	3b f4		 cmp	 esi, esp
  00aef	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00af4	a3 00 00 00 00	 mov	 DWORD PTR ?NewMultiSampleTypeFullscreen@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4W4_D3DMULTISAMPLE_TYPE@@A, eax
$L80770:

; 1587 :         EnableWindow( hwndMultiSampleList, ComboBox_GetCount( hwndMultiSampleList ) > 1);

  00af9	8b f4		 mov	 esi, esp
  00afb	6a 00		 push	 0
  00afd	6a 00		 push	 0
  00aff	68 46 01 00 00	 push	 326			; 00000146H
  00b04	8b 45 bc	 mov	 eax, DWORD PTR _hwndMultiSampleList$[ebp]
  00b07	50		 push	 eax
  00b08	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00b0e	3b f4		 cmp	 esi, esp
  00b10	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00b15	33 c9		 xor	 ecx, ecx
  00b17	83 f8 01	 cmp	 eax, 1
  00b1a	0f 9f c1	 setg	 cl
  00b1d	8b f4		 mov	 esi, esp
  00b1f	51		 push	 ecx
  00b20	8b 55 bc	 mov	 edx, DWORD PTR _hwndMultiSampleList$[ebp]
  00b23	52		 push	 edx
  00b24	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00b2a	3b f4		 cmp	 esi, esp
  00b2c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1588 :         EnableWindow( hwndWindowedRadio, pDevice->bCanDoWindowed );

  00b31	8b f4		 mov	 esi, esp
  00b33	8b 45 98	 mov	 eax, DWORD PTR _pDevice$[ebp]
  00b36	8b 88 dc 00 00
	00		 mov	 ecx, DWORD PTR [eax+220]
  00b3c	51		 push	 ecx
  00b3d	8b 55 d4	 mov	 edx, DWORD PTR _hwndWindowedRadio$[ebp]
  00b40	52		 push	 edx
  00b41	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00b47	3b f4		 cmp	 esi, esp
  00b49	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1589 : 
; 1590 :         if( bNewWindowed )

  00b4e	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?bNewWindowed@?1??SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z@4HA, 0
  00b55	74 4f		 je	 SHORT $L80778

; 1591 :         {
; 1592 :             Button_SetCheck( hwndWindowedRadio,   TRUE );

  00b57	8b f4		 mov	 esi, esp
  00b59	6a 00		 push	 0
  00b5b	6a 01		 push	 1
  00b5d	68 f1 00 00 00	 push	 241			; 000000f1H
  00b62	8b 45 d4	 mov	 eax, DWORD PTR _hwndWindowedRadio$[ebp]
  00b65	50		 push	 eax
  00b66	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00b6c	3b f4		 cmp	 esi, esp
  00b6e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1593 :             Button_SetCheck( hwndFullscreenRadio, FALSE );

  00b73	8b f4		 mov	 esi, esp
  00b75	6a 00		 push	 0
  00b77	6a 00		 push	 0
  00b79	68 f1 00 00 00	 push	 241			; 000000f1H
  00b7e	8b 45 c8	 mov	 eax, DWORD PTR _hwndFullscreenRadio$[ebp]
  00b81	50		 push	 eax
  00b82	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00b88	3b f4		 cmp	 esi, esp
  00b8a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1594 :             EnableWindow( hwndFullscreenModeList, FALSE );

  00b8f	8b f4		 mov	 esi, esp
  00b91	6a 00		 push	 0
  00b93	8b 45 e0	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  00b96	50		 push	 eax
  00b97	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00b9d	3b f4		 cmp	 esi, esp
  00b9f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1595 :         }
; 1596 :         else

  00ba4	eb 4d		 jmp	 SHORT $L80785
$L80778:

; 1597 :         {
; 1598 :             Button_SetCheck( hwndWindowedRadio,   FALSE );

  00ba6	8b f4		 mov	 esi, esp
  00ba8	6a 00		 push	 0
  00baa	6a 00		 push	 0
  00bac	68 f1 00 00 00	 push	 241			; 000000f1H
  00bb1	8b 45 d4	 mov	 eax, DWORD PTR _hwndWindowedRadio$[ebp]
  00bb4	50		 push	 eax
  00bb5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00bbb	3b f4		 cmp	 esi, esp
  00bbd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1599 :             Button_SetCheck( hwndFullscreenRadio, TRUE );

  00bc2	8b f4		 mov	 esi, esp
  00bc4	6a 00		 push	 0
  00bc6	6a 01		 push	 1
  00bc8	68 f1 00 00 00	 push	 241			; 000000f1H
  00bcd	8b 45 c8	 mov	 eax, DWORD PTR _hwndFullscreenRadio$[ebp]
  00bd0	50		 push	 eax
  00bd1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  00bd7	3b f4		 cmp	 esi, esp
  00bd9	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1600 :             EnableWindow( hwndFullscreenModeList, TRUE );

  00bde	8b f4		 mov	 esi, esp
  00be0	6a 01		 push	 1
  00be2	8b 45 e0	 mov	 eax, DWORD PTR _hwndFullscreenModeList$[ebp]
  00be5	50		 push	 eax
  00be6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnableWindow@8
  00bec	3b f4		 cmp	 esi, esp
  00bee	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80785:

; 1601 :         }
; 1602 :         return TRUE;

  00bf3	b8 01 00 00 00	 mov	 eax, 1
  00bf8	eb 02		 jmp	 SHORT $L80558
$L80649:

; 1603 :     }
; 1604 : 
; 1605 :     return FALSE;

  00bfa	33 c0		 xor	 eax, eax
$L80558:

; 1606 : }

  00bfc	52		 push	 edx
  00bfd	8b cd		 mov	 ecx, ebp
  00bff	50		 push	 eax
  00c00	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81215
  00c06	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00c0b	58		 pop	 eax
  00c0c	5a		 pop	 edx
  00c0d	5f		 pop	 edi
  00c0e	5e		 pop	 esi
  00c0f	5b		 pop	 ebx
  00c10	81 c4 48 02 00
	00		 add	 esp, 584		; 00000248H
  00c16	3b ec		 cmp	 ebp, esp
  00c18	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00c1d	8b e5		 mov	 esp, ebp
  00c1f	5d		 pop	 ebp
  00c20	c2 10 00	 ret	 16			; 00000010H
$L81215:
  00c23	02 00 00 00	 DD	 2
  00c27	00 00 00 00	 DD	 $L81214
$L81214:
  00c2b	e8 fe ff ff	 DD	 -280			; fffffee8H
  00c2f	50 00 00 00	 DD	 80			; 00000050H
  00c33	00 00 00 00	 DD	 $L81212
  00c37	a0 fe ff ff	 DD	 -352			; fffffea0H
  00c3b	32 00 00 00	 DD	 50			; 00000032H
  00c3f	00 00 00 00	 DD	 $L81213
$L81213:
  00c43	73		 DB	 115			; 00000073H
  00c44	74		 DB	 116			; 00000074H
  00c45	72		 DB	 114			; 00000072H
  00c46	44		 DB	 68			; 00000044H
  00c47	65		 DB	 101			; 00000065H
  00c48	73		 DB	 115			; 00000073H
  00c49	63		 DB	 99			; 00000063H
  00c4a	00		 DB	 0
$L81212:
  00c4b	73		 DB	 115			; 00000073H
  00c4c	74		 DB	 116			; 00000074H
  00c4d	72		 DB	 114			; 00000072H
  00c4e	4d		 DB	 77			; 0000004dH
  00c4f	6f		 DB	 111			; 0000006fH
  00c50	64		 DB	 100			; 00000064H
  00c51	65		 DB	 101			; 00000065H
  00c52	00		 DB	 0
?SelectDeviceProc@CD3DApplication@@KGHPAUHWND__@@IIJ@Z ENDP ; CD3DApplication::SelectDeviceProc
_TEXT	ENDS
PUBLIC	?Render3DEnvironment@CD3DApplication@@IAEJXZ	; CD3DApplication::Render3DEnvironment
EXTRN	__imp__LoadAcceleratorsA@8:NEAR
EXTRN	__imp__TranslateAcceleratorA@12:NEAR
EXTRN	__imp__GetMessageA@16:NEAR
EXTRN	__imp__TranslateMessage@4:NEAR
EXTRN	__imp__DispatchMessageA@4:NEAR
EXTRN	__imp__PeekMessageA@20:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?Run@CD3DApplication@@UAEHXZ
_TEXT	SEGMENT
_msg$ = -68
_bGotMsg$ = -32
_hAccel$ = -20
_this$ = -8
?Run@CD3DApplication@@UAEHXZ PROC NEAR			; CD3DApplication::Run, COMDAT
; _this$ = ecx

; 1616 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd f8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-264]
  00013	b9 42 00 00 00	 mov	 ecx, 66			; 00000042H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1617 :     // Load keyboard accelerators
; 1618 :     HACCEL hAccel = LoadAccelerators( NULL, MAKEINTRESOURCE(IDR_MAIN_ACCEL) );

  00023	8b f4		 mov	 esi, esp
  00025	6a 71		 push	 113			; 00000071H
  00027	6a 00		 push	 0
  00029	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LoadAcceleratorsA@8
  0002f	3b f4		 cmp	 esi, esp
  00031	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00036	89 45 ec	 mov	 DWORD PTR _hAccel$[ebp], eax

; 1619 : 
; 1620 :     // Now we're ready to recieve and process Windows messages.
; 1621 :     BOOL bGotMsg;
; 1622 :     MSG  msg;
; 1623 :     msg.message = WM_NULL;

  00039	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _msg$[ebp+4], 0

; 1624 :     PeekMessage( &msg, NULL, 0U, 0U, PM_NOREMOVE );

  00040	8b f4		 mov	 esi, esp
  00042	6a 00		 push	 0
  00044	6a 00		 push	 0
  00046	6a 00		 push	 0
  00048	6a 00		 push	 0
  0004a	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  0004d	50		 push	 eax
  0004e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PeekMessageA@20
  00054	3b f4		 cmp	 esi, esp
  00056	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80802:

; 1625 : 
; 1626 :     while( WM_QUIT != msg.message  )

  0005b	83 7d c0 12	 cmp	 DWORD PTR _msg$[ebp+4], 18 ; 00000012H
  0005f	0f 84 e3 00 00
	00		 je	 $L80803

; 1627 :     {
; 1628 :         // Use PeekMessage() if the app is active, so we can use idle time to
; 1629 :         // render the scene. Else, use GetMessage() to avoid eating CPU time.
; 1630 :         if( m_bActive )

  00065	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00068	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0006f	74 20		 je	 SHORT $L80804

; 1631 :             bGotMsg = PeekMessage( &msg, NULL, 0U, 0U, PM_REMOVE );

  00071	8b f4		 mov	 esi, esp
  00073	6a 01		 push	 1
  00075	6a 00		 push	 0
  00077	6a 00		 push	 0
  00079	6a 00		 push	 0
  0007b	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  0007e	50		 push	 eax
  0007f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__PeekMessageA@20
  00085	3b f4		 cmp	 esi, esp
  00087	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008c	89 45 e0	 mov	 DWORD PTR _bGotMsg$[ebp], eax

; 1632 :         else

  0008f	eb 1c		 jmp	 SHORT $L80805
$L80804:

; 1633 :             bGotMsg = GetMessage( &msg, NULL, 0U, 0U );

  00091	8b f4		 mov	 esi, esp
  00093	6a 00		 push	 0
  00095	6a 00		 push	 0
  00097	6a 00		 push	 0
  00099	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  0009c	50		 push	 eax
  0009d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetMessageA@16
  000a3	3b f4		 cmp	 esi, esp
  000a5	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000aa	89 45 e0	 mov	 DWORD PTR _bGotMsg$[ebp], eax
$L80805:

; 1634 : 
; 1635 :         if( bGotMsg )

  000ad	83 7d e0 00	 cmp	 DWORD PTR _bGotMsg$[ebp], 0
  000b1	74 4d		 je	 SHORT $L80806

; 1636 :         {
; 1637 :             // Translate and dispatch the message
; 1638 :             if( 0 == TranslateAccelerator( m_hWnd, hAccel, &msg ) )

  000b3	8b f4		 mov	 esi, esp
  000b5	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  000b8	50		 push	 eax
  000b9	8b 4d ec	 mov	 ecx, DWORD PTR _hAccel$[ebp]
  000bc	51		 push	 ecx
  000bd	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000c0	8b 82 98 a4 02
	00		 mov	 eax, DWORD PTR [edx+173208]
  000c6	50		 push	 eax
  000c7	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TranslateAcceleratorA@12
  000cd	3b f4		 cmp	 esi, esp
  000cf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000d4	85 c0		 test	 eax, eax
  000d6	75 26		 jne	 SHORT $L80807

; 1639 :             {
; 1640 :                 TranslateMessage( &msg );

  000d8	8b f4		 mov	 esi, esp
  000da	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  000dd	50		 push	 eax
  000de	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__TranslateMessage@4
  000e4	3b f4		 cmp	 esi, esp
  000e6	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1641 :                 DispatchMessage( &msg );

  000eb	8b f4		 mov	 esi, esp
  000ed	8d 45 bc	 lea	 eax, DWORD PTR _msg$[ebp]
  000f0	50		 push	 eax
  000f1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DispatchMessageA@4
  000f7	3b f4		 cmp	 esi, esp
  000f9	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80807:

; 1642 :             }
; 1643 :         }
; 1644 :         else

  000fe	eb 43		 jmp	 SHORT $L80808
$L80806:

; 1645 :         {
; 1646 :             // Render a frame during idle time (no messages are waiting)
; 1647 :             if( m_bActive && m_bReady )

  00100	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00103	83 b8 50 a4 02
	00 00		 cmp	 DWORD PTR [eax+173136], 0
  0010a	74 37		 je	 SHORT $L80808
  0010c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0010f	83 b8 54 a4 02
	00 00		 cmp	 DWORD PTR [eax+173140], 0
  00116	74 2b		 je	 SHORT $L80808

; 1648 :             {
; 1649 :                 if( FAILED( Render3DEnvironment() ) )

  00118	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0011b	e8 00 00 00 00	 call	 ?Render3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Render3DEnvironment
  00120	85 c0		 test	 eax, eax
  00122	7d 1f		 jge	 SHORT $L80808

; 1650 :                     SendMessage( m_hWnd, WM_CLOSE, 0, 0 );

  00124	8b f4		 mov	 esi, esp
  00126	6a 00		 push	 0
  00128	6a 00		 push	 0
  0012a	6a 10		 push	 16			; 00000010H
  0012c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0012f	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  00135	51		 push	 ecx
  00136	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  0013c	3b f4		 cmp	 esi, esp
  0013e	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80808:

; 1651 :             }
; 1652 :         }
; 1653 :     }

  00143	e9 13 ff ff ff	 jmp	 $L80802
$L80803:

; 1654 : 
; 1655 :     return (INT)msg.wParam;

  00148	8b 45 c4	 mov	 eax, DWORD PTR _msg$[ebp+8]

; 1656 : }

  0014b	52		 push	 edx
  0014c	8b cd		 mov	 ecx, ebp
  0014e	50		 push	 eax
  0014f	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81220
  00155	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0015a	58		 pop	 eax
  0015b	5a		 pop	 edx
  0015c	5f		 pop	 edi
  0015d	5e		 pop	 esi
  0015e	5b		 pop	 ebx
  0015f	81 c4 08 01 00
	00		 add	 esp, 264		; 00000108H
  00165	3b ec		 cmp	 ebp, esp
  00167	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0016c	8b e5		 mov	 esp, ebp
  0016e	5d		 pop	 ebp
  0016f	c3		 ret	 0
$L81220:
  00170	01 00 00 00	 DD	 1
  00174	00 00 00 00	 DD	 $L81219
$L81219:
  00178	bc ff ff ff	 DD	 -68			; ffffffbcH
  0017c	1c 00 00 00	 DD	 28			; 0000001cH
  00180	00 00 00 00	 DD	 $L81218
$L81218:
  00184	6d		 DB	 109			; 0000006dH
  00185	73		 DB	 115			; 00000073H
  00186	67		 DB	 103			; 00000067H
  00187	00		 DB	 0
?Run@CD3DApplication@@UAEHXZ ENDP			; CD3DApplication::Run
_TEXT	ENDS
PUBLIC	??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	__real@00000000
PUBLIC	__real@3f800000
PUBLIC	??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@ ; `string'
PUBLIC	??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@		; `string'
PUBLIC	??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@		; `string'
PUBLIC	??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@		; `string'
PUBLIC	??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@		; `string'
PUBLIC	??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@	; `string'
PUBLIC	??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@		; `string'
PUBLIC	??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@ ; `string'
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@ DB '%.02'
	DB	'f fps (%dx%dx%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@
CONST	SEGMENT
??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@ DB ' (D16)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@
CONST	SEGMENT
??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@ DB ' (D15S1)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@
CONST	SEGMENT
??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@ DB ' (D24X8)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@
CONST	SEGMENT
??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@ DB ' (D24S8)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@
CONST	SEGMENT
??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@ DB ' (D24X4S4)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@
CONST	SEGMENT
??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@ DB ' (D32)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@ DB ' (2x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@ DB ' (3x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@ DB ' (4x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@ DB ' (5x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@ DB ' (6x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@ DB ' (7x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@ DB ' (8x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@ DB ' (9x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@ DB ' (10x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@ DB ' (11x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@ DB ' (12x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@ DB ' (13x Multisample)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@ DB ' (14x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@ DB ' (15x Multisample)'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@
CONST	SEGMENT
??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@ DB ' (16x Multisample)'
	DB	00H						; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Render3DEnvironment@CD3DApplication@@IAEJXZ
_TEXT	SEGMENT
tv347 = -344
tv230 = -340
tv205 = -340
_MultiSampleType$80872 = -140
_pModeInfo$80854 = -128
_pDeviceInfo$80853 = -116
_pAdapterInfo$80852 = -104
_mode$80850 = -92
_fTime$80848 = -68
_fElapsedAppTime$ = -56
_fAppTime$ = -44
_pAdapterInfo$80831 = -32
_hr$ = -20
_this$ = -8
?Render3DEnvironment@CD3DApplication@@IAEJXZ PROC NEAR	; CD3DApplication::Render3DEnvironment, COMDAT
; _this$ = ecx

; 1666 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 58 01 00
	00		 sub	 esp, 344		; 00000158H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd a8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-344]
  00013	b9 56 00 00 00	 mov	 ecx, 86			; 00000056H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1667 :     HRESULT hr;
; 1668 : 
; 1669 :     // Test the cooperative level to see if it's okay to render
; 1670 :     if( FAILED( hr = m_pd3dDevice->TestCooperativeLevel() ) )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0002c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0002f	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00035	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00037	8b f4		 mov	 esi, esp
  00039	50		 push	 eax
  0003a	ff 51 0c	 call	 DWORD PTR [ecx+12]
  0003d	3b f4		 cmp	 esi, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00047	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0004b	0f 8d a9 00 00
	00		 jge	 $L80818

; 1671 :     {
; 1672 :         // If the device was lost, do not render until we get it back
; 1673 :         if( D3DERR_DEVICELOST == hr )

  00051	81 7d ec 68 08
	76 88		 cmp	 DWORD PTR _hr$[ebp], -2005530520 ; 88760868H
  00058	75 07		 jne	 SHORT $L80823

; 1674 :             return S_OK;

  0005a	33 c0		 xor	 eax, eax
  0005c	e9 09 06 00 00	 jmp	 $L80815
$L80823:

; 1675 : 
; 1676 :         // Check if the device needs to be resized.
; 1677 :         if( D3DERR_DEVICENOTRESET == hr )

  00061	81 7d ec 69 08
	76 88		 cmp	 DWORD PTR _hr$[ebp], -2005530519 ; 88760869H
  00068	0f 85 84 00 00
	00		 jne	 $L80829

; 1678 :         {
; 1679 :             // If we are windowed, read the desktop mode and use the same format for
; 1680 :             // the back buffer
; 1681 :             if( m_bWindowed )

  0006e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00071	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  00078	74 5f		 je	 SHORT $L80830

; 1682 :             {
; 1683 :                 D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  0007a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007d	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  00083	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  00089	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0008c	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  00090	89 45 e0	 mov	 DWORD PTR _pAdapterInfo$80831[ebp], eax

; 1684 :                 m_pD3D->GetAdapterDisplayMode( m_dwAdapter, &pAdapterInfo->d3ddmDesktop );

  00093	8b 45 e0	 mov	 eax, DWORD PTR _pAdapterInfo$80831[ebp]
  00096	05 2c 04 00 00	 add	 eax, 1068		; 0000042cH
  0009b	8b f4		 mov	 esi, esp
  0009d	50		 push	 eax
  0009e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000a1	8b 91 48 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173128]
  000a7	52		 push	 edx
  000a8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ab	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  000b1	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000b4	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000ba	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000bc	50		 push	 eax
  000bd	ff 51 20	 call	 DWORD PTR [ecx+32]
  000c0	3b f4		 cmp	 esi, esp
  000c2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1685 :                 m_d3dpp.BackBufferFormat = pAdapterInfo->d3ddmDesktop.Format;

  000c7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ca	8b 4d e0	 mov	 ecx, DWORD PTR _pAdapterInfo$80831[ebp]
  000cd	8b 91 38 04 00
	00		 mov	 edx, DWORD PTR [ecx+1080]
  000d3	89 90 6c a4 02
	00		 mov	 DWORD PTR [eax+173164], edx
$L80830:

; 1686 :             }
; 1687 : 
; 1688 :             if( FAILED( hr = Resize3DEnvironment() ) )

  000d9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000dc	e8 00 00 00 00	 call	 ?Resize3DEnvironment@CD3DApplication@@IAEJXZ ; CD3DApplication::Resize3DEnvironment
  000e1	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  000e4	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  000e8	7d 08		 jge	 SHORT $L80829

; 1689 :                 return hr;

  000ea	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  000ed	e9 78 05 00 00	 jmp	 $L80815
$L80829:

; 1690 :         }
; 1691 :         return hr;

  000f2	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  000f5	e9 70 05 00 00	 jmp	 $L80815
$L80818:

; 1692 :     }
; 1693 : 
; 1694 :     // Get the app's time, in seconds. Skip rendering if no time elapsed
; 1695 :     FLOAT fAppTime        = DXUtil_Timer( TIMER_GETAPPTIME );

  000fa	6a 05		 push	 5
  000fc	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00101	d9 5d d4	 fstp	 DWORD PTR _fAppTime$[ebp]

; 1696 :     FLOAT fElapsedAppTime = DXUtil_Timer( TIMER_GETELAPSEDTIME );

  00104	6a 06		 push	 6
  00106	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0010b	d9 5d c8	 fstp	 DWORD PTR _fElapsedAppTime$[ebp]

; 1697 :     if( ( 0.0f == fElapsedAppTime ) && m_bFrameMoving )

  0010e	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000
  00114	d8 5d c8	 fcomp	 DWORD PTR _fElapsedAppTime$[ebp]
  00117	df e0		 fnstsw	 ax
  00119	f6 c4 44	 test	 ah, 68			; 00000044H
  0011c	7a 13		 jp	 SHORT $L80836
  0011e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00121	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  00128	74 07		 je	 SHORT $L80836

; 1698 :         return S_OK;

  0012a	33 c0		 xor	 eax, eax
  0012c	e9 39 05 00 00	 jmp	 $L80815
$L80836:

; 1699 : 
; 1700 :     // FrameMove (animate) the scene
; 1701 :     if( m_bFrameMoving || m_bSingleStep )

  00131	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00134	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0013b	75 0c		 jne	 SHORT $L80839
  0013d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00140	83 b8 60 a4 02
	00 00		 cmp	 DWORD PTR [eax+173152], 0
  00147	74 4a		 je	 SHORT $L80838
$L80839:

; 1702 :     {
; 1703 :         // Store the time for the app
; 1704 :         m_fTime        = fAppTime;

  00149	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014c	8b 4d d4	 mov	 ecx, DWORD PTR _fAppTime$[ebp]
  0014f	89 88 c8 a5 02
	00		 mov	 DWORD PTR [eax+173512], ecx

; 1705 :         m_fElapsedTime = fElapsedAppTime;

  00155	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00158	8b 4d c8	 mov	 ecx, DWORD PTR _fElapsedAppTime$[ebp]
  0015b	89 88 cc a5 02
	00		 mov	 DWORD PTR [eax+173516], ecx

; 1706 : 
; 1707 :         // Frame move the scene
; 1708 :         if( FAILED( hr = FrameMove() ) )

  00161	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00164	8b 10		 mov	 edx, DWORD PTR [eax]
  00166	8b f4		 mov	 esi, esp
  00168	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0016b	ff 52 14	 call	 DWORD PTR [edx+20]
  0016e	3b f4		 cmp	 esi, esp
  00170	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00175	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00178	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0017c	7d 08		 jge	 SHORT $L80841

; 1709 :             return hr;

  0017e	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  00181	e9 e4 04 00 00	 jmp	 $L80815
$L80841:

; 1710 : 
; 1711 :         m_bSingleStep = FALSE;

  00186	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00189	c7 80 60 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173152], 0
$L80838:

; 1712 :     }
; 1713 : 
; 1714 :     // Render the scene as normal
; 1715 :     if( FAILED( hr = Render() ) )

  00193	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00196	8b 10		 mov	 edx, DWORD PTR [eax]
  00198	8b f4		 mov	 esi, esp
  0019a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0019d	ff 52 18	 call	 DWORD PTR [edx+24]
  001a0	3b f4		 cmp	 esi, esp
  001a2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001a7	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  001aa	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001ae	7d 08		 jge	 SHORT $L80843

; 1716 :         return hr;

  001b0	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]
  001b3	e9 b2 04 00 00	 jmp	 $L80815
$L80843:

; 1717 : 
; 1718 :     // Keep track of the frame count
; 1719 :     {
; 1720 :         static FLOAT fLastTime = 0.0f;
; 1721 :         static DWORD dwFrames  = 0L;
; 1722 :         FLOAT fTime = DXUtil_Timer( TIMER_GETABSOLUTETIME );

  001b8	6a 04		 push	 4
  001ba	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  001bf	d9 5d bc	 fstp	 DWORD PTR _fTime$80848[ebp]

; 1723 :         ++dwFrames;

  001c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA
  001c7	83 c0 01	 add	 eax, 1
  001ca	a3 00 00 00 00	 mov	 DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA, eax

; 1724 : 
; 1725 :         // Update the scene stats once per second
; 1726 :         if( fTime - fLastTime > 1.0f )

  001cf	d9 45 bc	 fld	 DWORD PTR _fTime$80848[ebp]
  001d2	d8 25 00 00 00
	00		 fsub	 DWORD PTR ?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA
  001d8	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  001de	df e0		 fnstsw	 ax
  001e0	f6 c4 41	 test	 ah, 65			; 00000041H
  001e3	0f 85 56 04 00
	00		 jne	 $L80849

; 1727 :         {
; 1728 :             m_fFPS    = dwFrames / (fTime - fLastTime);

  001e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA
  001ee	89 85 a8 fe ff
	ff		 mov	 DWORD PTR tv347[ebp], eax
  001f4	c7 85 ac fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv347[ebp+4], 0
  001fe	df ad a8 fe ff
	ff		 fild	 QWORD PTR tv347[ebp]
  00204	d9 45 bc	 fld	 DWORD PTR _fTime$80848[ebp]
  00207	d8 25 00 00 00
	00		 fsub	 DWORD PTR ?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA
  0020d	de f9		 fdivp	 ST(1), ST(0)
  0020f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00212	d9 99 d0 a5 02
	00		 fstp	 DWORD PTR [ecx+173520]

; 1729 :             fLastTime = fTime;

  00218	8b 45 bc	 mov	 eax, DWORD PTR _fTime$80848[ebp]
  0021b	a3 00 00 00 00	 mov	 DWORD PTR ?fLastTime@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4MA, eax

; 1730 :             dwFrames  = 0L;

  00220	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?dwFrames@?BJ@??Render3DEnvironment@CD3DApplication@@IAEJXZ@4KA, 0

; 1731 : 
; 1732 :             // Get adapter's current mode so we can report
; 1733 :             // bit depth (back buffer depth may be unknown)
; 1734 :             D3DDISPLAYMODE mode;
; 1735 :             m_pD3D->GetAdapterDisplayMode(m_dwAdapter, &mode);

  0022a	8b f4		 mov	 esi, esp
  0022c	8d 45 a4	 lea	 eax, DWORD PTR _mode$80850[ebp]
  0022f	50		 push	 eax
  00230	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00233	8b 91 48 a4 02
	00		 mov	 edx, DWORD PTR [ecx+173128]
  00239	52		 push	 edx
  0023a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0023d	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  00243	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00246	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  0024c	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0024e	50		 push	 eax
  0024f	ff 51 20	 call	 DWORD PTR [ecx+32]
  00252	3b f4		 cmp	 esi, esp
  00254	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1736 : 
; 1737 :             _stprintf( m_strFrameStats, _T("%.02f fps (%dx%dx%d)"), m_fFPS,
; 1738 :                        m_d3dsdBackBuffer.Width, m_d3dsdBackBuffer.Height,
; 1739 :                        mode.Format==D3DFMT_X8R8G8B8?32:16 );

  00259	33 c0		 xor	 eax, eax
  0025b	83 7d b0 16	 cmp	 DWORD PTR _mode$80850[ebp+12], 22 ; 00000016H
  0025f	0f 95 c0	 setne	 al
  00262	48		 dec	 eax
  00263	83 e0 10	 and	 eax, 16			; 00000010H
  00266	83 c0 10	 add	 eax, 16			; 00000010H
  00269	50		 push	 eax
  0026a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0026d	8b 91 9c a5 02
	00		 mov	 edx, DWORD PTR [ecx+173468]
  00273	52		 push	 edx
  00274	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00277	8b 88 98 a5 02
	00		 mov	 ecx, DWORD PTR [eax+173464]
  0027d	51		 push	 ecx
  0027e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00281	d9 82 d0 a5 02
	00		 fld	 DWORD PTR [edx+173520]
  00287	83 ec 08	 sub	 esp, 8
  0028a	dd 1c 24	 fstp	 QWORD PTR [esp]
  0028d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BF@CIOJMCE@?$CF?402f?5fps?5?$CI?$CFdx?$CFdx?$CFd?$CJ?$AA@
  00292	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00295	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  0029a	50		 push	 eax
  0029b	e8 00 00 00 00	 call	 _sprintf
  002a0	83 c4 1c	 add	 esp, 28			; 0000001cH

; 1740 :             D3DAdapterInfo* pAdapterInfo = &m_Adapters[m_dwAdapter];

  002a3	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a6	8b 88 48 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173128]
  002ac	69 c9 a0 43 00
	00		 imul	 ecx, 17312		; 000043a0H
  002b2	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002b5	8d 44 0a 04	 lea	 eax, DWORD PTR [edx+ecx+4]
  002b9	89 45 98	 mov	 DWORD PTR _pAdapterInfo$80852[ebp], eax

; 1741 :             D3DDeviceInfo*  pDeviceInfo  = &pAdapterInfo->devices[pAdapterInfo->dwCurrentDevice];

  002bc	8b 45 98	 mov	 eax, DWORD PTR _pAdapterInfo$80852[ebp]
  002bf	8b 88 9c 43 00
	00		 mov	 ecx, DWORD PTR [eax+17308]
  002c5	69 c9 ac 0c 00
	00		 imul	 ecx, 3244		; 00000cacH
  002cb	8b 55 98	 mov	 edx, DWORD PTR _pAdapterInfo$80852[ebp]
  002ce	8d 84 0a 40 04
	00 00		 lea	 eax, DWORD PTR [edx+ecx+1088]
  002d5	89 45 8c	 mov	 DWORD PTR _pDeviceInfo$80853[ebp], eax

; 1742 :             D3DModeInfo*    pModeInfo    = &pDeviceInfo->modes[pDeviceInfo->dwCurrentMode];

  002d8	8b 45 8c	 mov	 eax, DWORD PTR _pDeviceInfo$80853[ebp]
  002db	8b 88 9c 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3228]
  002e1	6b c9 14	 imul	 ecx, 20			; 00000014H
  002e4	8b 55 8c	 mov	 edx, DWORD PTR _pDeviceInfo$80853[ebp]
  002e7	8d 84 0a e4 00
	00 00		 lea	 eax, DWORD PTR [edx+ecx+228]
  002ee	89 45 80	 mov	 DWORD PTR _pModeInfo$80854[ebp], eax

; 1743 :             if( m_bUseDepthBuffer )

  002f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002f4	83 b8 8c a6 02
	00 00		 cmp	 DWORD PTR [eax+173708], 0
  002fb	0f 84 f0 00 00
	00		 je	 $L80855

; 1744 :             {
; 1745 : 
; 1746 :                 switch( pModeInfo->DepthStencilFormat )
; 1747 :                 {

  00301	8b 45 80	 mov	 eax, DWORD PTR _pModeInfo$80854[ebp]
  00304	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00307	89 8d ac fe ff
	ff		 mov	 DWORD PTR tv205[ebp], ecx
  0030d	8b 95 ac fe ff
	ff		 mov	 edx, DWORD PTR tv205[ebp]
  00313	83 ea 47	 sub	 edx, 71			; 00000047H
  00316	89 95 ac fe ff
	ff		 mov	 DWORD PTR tv205[ebp], edx
  0031c	83 bd ac fe ff
	ff 09		 cmp	 DWORD PTR tv205[ebp], 9
  00323	0f 87 c8 00 00
	00		 ja	 $L80855
  00329	8b 85 ac fe ff
	ff		 mov	 eax, DWORD PTR tv205[ebp]
  0032f	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $L81230[eax*4]
$L80860:

; 1748 :                 case D3DFMT_D16:
; 1749 :                     lstrcat( m_strFrameStats, _T(" (D16)") );

  00336	8b f4		 mov	 esi, esp
  00338	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_06MHJFPJMC@?5?$CID16?$CJ?$AA@
  0033d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00340	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00345	50		 push	 eax
  00346	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0034c	3b f4		 cmp	 esi, esp
  0034e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1750 :                     break;

  00353	e9 99 00 00 00	 jmp	 $L80855
$L80862:

; 1751 :                 case D3DFMT_D15S1:
; 1752 :                     lstrcat( m_strFrameStats, _T(" (D15S1)") );

  00358	8b f4		 mov	 esi, esp
  0035a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08BPGABCIF@?5?$CID15S1?$CJ?$AA@
  0035f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00362	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00367	50		 push	 eax
  00368	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0036e	3b f4		 cmp	 esi, esp
  00370	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1753 :                     break;

  00375	eb 7a		 jmp	 SHORT $L80855
$L80864:

; 1754 :                 case D3DFMT_D24X8:
; 1755 :                     lstrcat( m_strFrameStats, _T(" (D24X8)") );

  00377	8b f4		 mov	 esi, esp
  00379	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08HMEEPFBF@?5?$CID24X8?$CJ?$AA@
  0037e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00381	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00386	50		 push	 eax
  00387	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0038d	3b f4		 cmp	 esi, esp
  0038f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1756 :                     break;

  00394	eb 5b		 jmp	 SHORT $L80855
$L80866:

; 1757 :                 case D3DFMT_D24S8:
; 1758 :                     lstrcat( m_strFrameStats, _T(" (D24S8)") );

  00396	8b f4		 mov	 esi, esp
  00398	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_08KLEFHCBE@?5?$CID24S8?$CJ?$AA@
  0039d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003a0	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  003a5	50		 push	 eax
  003a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003ac	3b f4		 cmp	 esi, esp
  003ae	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1759 :                     break;

  003b3	eb 3c		 jmp	 SHORT $L80855
$L80868:

; 1760 :                 case D3DFMT_D24X4S4:
; 1761 :                     lstrcat( m_strFrameStats, _T(" (D24X4S4)") );

  003b5	8b f4		 mov	 esi, esp
  003b7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@FMDEODJN@?5?$CID24X4S4?$CJ?$AA@
  003bc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003bf	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  003c4	50		 push	 eax
  003c5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003cb	3b f4		 cmp	 esi, esp
  003cd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1762 :                     break;

  003d2	eb 1d		 jmp	 SHORT $L80855
$L80870:

; 1763 :                 case D3DFMT_D32:
; 1764 :                     lstrcat( m_strFrameStats, _T(" (D32)") );

  003d4	8b f4		 mov	 esi, esp
  003d6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_06GKJFJJJF@?5?$CID32?$CJ?$AA@
  003db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003de	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  003e3	50		 push	 eax
  003e4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  003ea	3b f4		 cmp	 esi, esp
  003ec	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80855:

; 1765 :                     break;
; 1766 :                 }
; 1767 :             }
; 1768 : 
; 1769 :             D3DMULTISAMPLE_TYPE MultiSampleType;
; 1770 :             if( m_bWindowed )

  003f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003f4	83 b8 4c a4 02
	00 00		 cmp	 DWORD PTR [eax+173132], 0
  003fb	74 11		 je	 SHORT $L80873

; 1771 :                 MultiSampleType = pDeviceInfo->MultiSampleTypeWindowed;

  003fd	8b 45 8c	 mov	 eax, DWORD PTR _pDeviceInfo$80853[ebp]
  00400	8b 88 a4 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3236]
  00406	89 8d 74 ff ff
	ff		 mov	 DWORD PTR _MultiSampleType$80872[ebp], ecx

; 1772 :             else

  0040c	eb 0f		 jmp	 SHORT $L80874
$L80873:

; 1773 :                 MultiSampleType = pDeviceInfo->MultiSampleTypeFullscreen;

  0040e	8b 45 8c	 mov	 eax, DWORD PTR _pDeviceInfo$80853[ebp]
  00411	8b 88 a8 0c 00
	00		 mov	 ecx, DWORD PTR [eax+3240]
  00417	89 8d 74 ff ff
	ff		 mov	 DWORD PTR _MultiSampleType$80872[ebp], ecx
$L80874:

; 1774 :             switch( MultiSampleType )
; 1775 :             {

  0041d	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _MultiSampleType$80872[ebp]
  00423	89 85 ac fe ff
	ff		 mov	 DWORD PTR tv230[ebp], eax
  00429	8b 8d ac fe ff
	ff		 mov	 ecx, DWORD PTR tv230[ebp]
  0042f	83 e9 02	 sub	 ecx, 2
  00432	89 8d ac fe ff
	ff		 mov	 DWORD PTR tv230[ebp], ecx
  00438	83 bd ac fe ff
	ff 0e		 cmp	 DWORD PTR tv230[ebp], 14 ; 0000000eH
  0043f	0f 87 fa 01 00
	00		 ja	 $L80849
  00445	8b 95 ac fe ff
	ff		 mov	 edx, DWORD PTR tv230[ebp]
  0044b	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L81231[edx*4]
$L80879:

; 1776 :             case D3DMULTISAMPLE_2_SAMPLES:
; 1777 :                 lstrcat( m_strFrameStats, _T(" (2x Multisample)") );

  00452	8b f4		 mov	 esi, esp
  00454	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@FFPABJLE@?5?$CI2x?5Multisample?$CJ?$AA@
  00459	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0045c	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00461	50		 push	 eax
  00462	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00468	3b f4		 cmp	 esi, esp
  0046a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1778 :                 break;

  0046f	e9 cb 01 00 00	 jmp	 $L80849
$L80881:

; 1779 :             case D3DMULTISAMPLE_3_SAMPLES:
; 1780 :                 lstrcat( m_strFrameStats, _T(" (3x Multisample)") );

  00474	8b f4		 mov	 esi, esp
  00476	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@PLJIIICF@?5?$CI3x?5Multisample?$CJ?$AA@
  0047b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0047e	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00483	50		 push	 eax
  00484	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0048a	3b f4		 cmp	 esi, esp
  0048c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1781 :                 break;

  00491	e9 a9 01 00 00	 jmp	 $L80849
$L80883:

; 1782 :             case D3DMULTISAMPLE_4_SAMPLES:
; 1783 :                 lstrcat( m_strFrameStats, _T(" (4x Multisample)") );

  00496	8b f4		 mov	 esi, esp
  00498	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@GGBHAFA@?5?$CI4x?5Multisample?$CJ?$AA@
  0049d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004a0	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  004a5	50		 push	 eax
  004a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004ac	3b f4		 cmp	 esi, esp
  004ae	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1784 :                 break;

  004b3	e9 87 01 00 00	 jmp	 $L80849
$L80885:

; 1785 :             case D3DMULTISAMPLE_5_SAMPLES:
; 1786 :                 lstrcat( m_strFrameStats, _T(" (5x Multisample)") );

  004b8	8b f4		 mov	 esi, esp
  004ba	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@KIAJOBMB@?5?$CI5x?5Multisample?$CJ?$AA@
  004bf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004c2	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  004c7	50		 push	 eax
  004c8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004ce	3b f4		 cmp	 esi, esp
  004d0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1787 :                 break;

  004d5	e9 65 01 00 00	 jmp	 $L80849
$L80887:

; 1788 :             case D3DMULTISAMPLE_6_SAMPLES:
; 1789 :                 lstrcat( m_strFrameStats, _T(" (6x Multisample)") );

  004da	8b f4		 mov	 esi, esp
  004dc	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@IBMBFFDD@?5?$CI6x?5Multisample?$CJ?$AA@
  004e1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  004e4	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  004e9	50		 push	 eax
  004ea	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  004f0	3b f4		 cmp	 esi, esp
  004f2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1790 :                 break;

  004f7	e9 43 01 00 00	 jmp	 $L80849
$L80889:

; 1791 :             case D3DMULTISAMPLE_7_SAMPLES:
; 1792 :                 lstrcat( m_strFrameStats, _T(" (7x Multisample)") );

  004fc	8b f4		 mov	 esi, esp
  004fe	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@CPKJMEKC@?5?$CI7x?5Multisample?$CJ?$AA@
  00503	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00506	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  0050b	50		 push	 eax
  0050c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00512	3b f4		 cmp	 esi, esp
  00514	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1793 :                 break;

  00519	e9 21 01 00 00	 jmp	 $L80849
$L80891:

; 1794 :             case D3DMULTISAMPLE_8_SAMPLES:
; 1795 :                 lstrcat( m_strFrameStats, _T(" (8x Multisample)") );

  0051e	8b f4		 mov	 esi, esp
  00520	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@KBEDKDJI@?5?$CI8x?5Multisample?$CJ?$AA@
  00525	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00528	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  0052d	50		 push	 eax
  0052e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00534	3b f4		 cmp	 esi, esp
  00536	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1796 :                 break;

  0053b	e9 ff 00 00 00	 jmp	 $L80849
$L80893:

; 1797 :             case D3DMULTISAMPLE_9_SAMPLES:
; 1798 :                 lstrcat( m_strFrameStats, _T(" (9x Multisample)") );

  00540	8b f4		 mov	 esi, esp
  00542	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@PCLDCAJ@?5?$CI9x?5Multisample?$CJ?$AA@
  00547	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0054a	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  0054f	50		 push	 eax
  00550	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00556	3b f4		 cmp	 esi, esp
  00558	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1799 :                 break;

  0055d	e9 dd 00 00 00	 jmp	 $L80849
$L80895:

; 1800 :             case D3DMULTISAMPLE_10_SAMPLES:
; 1801 :                 lstrcat( m_strFrameStats, _T(" (10x Multisample)") );

  00562	8b f4		 mov	 esi, esp
  00564	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@CIHBPPEN@?5?$CI10x?5Multisample?$CJ?$AA@
  00569	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0056c	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00571	50		 push	 eax
  00572	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00578	3b f4		 cmp	 esi, esp
  0057a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1802 :                 break;

  0057f	e9 bb 00 00 00	 jmp	 $L80849
$L80897:

; 1803 :             case D3DMULTISAMPLE_11_SAMPLES:
; 1804 :                 lstrcat( m_strFrameStats, _T(" (11x Multisample)") );

  00584	8b f4		 mov	 esi, esp
  00586	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@IGBJGONM@?5?$CI11x?5Multisample?$CJ?$AA@
  0058b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0058e	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00593	50		 push	 eax
  00594	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  0059a	3b f4		 cmp	 esi, esp
  0059c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1805 :                 break;

  005a1	e9 99 00 00 00	 jmp	 $L80849
$L80899:

; 1806 :             case D3DMULTISAMPLE_12_SAMPLES:
; 1807 :                 lstrcat( m_strFrameStats, _T(" (12x Multisample)") );

  005a6	8b f4		 mov	 esi, esp
  005a8	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@KPNBNKCO@?5?$CI12x?5Multisample?$CJ?$AA@
  005ad	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005b0	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  005b5	50		 push	 eax
  005b6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  005bc	3b f4		 cmp	 esi, esp
  005be	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1808 :                 break;

  005c3	eb 7a		 jmp	 SHORT $L80849
$L80901:

; 1809 :             case D3DMULTISAMPLE_13_SAMPLES:
; 1810 :                 lstrcat( m_strFrameStats, _T(" (13x Multisample)") );

  005c5	8b f4		 mov	 esi, esp
  005c7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@BLJELLP@?5?$CI13x?5Multisample?$CJ?$AA@
  005cc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005cf	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  005d4	50		 push	 eax
  005d5	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  005db	3b f4		 cmp	 esi, esp
  005dd	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1811 :                 break;

  005e2	eb 5b		 jmp	 SHORT $L80849
$L80903:

; 1812 :             case D3DMULTISAMPLE_14_SAMPLES:
; 1813 :                 lstrcat( m_strFrameStats, _T(" (14x Multisample)") );

  005e4	8b f4		 mov	 esi, esp
  005e6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@PMEALDMK@?5?$CI14x?5Multisample?$CJ?$AA@
  005eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  005ee	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  005f3	50		 push	 eax
  005f4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  005fa	3b f4		 cmp	 esi, esp
  005fc	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1814 :                 break;

  00601	eb 3c		 jmp	 SHORT $L80849
$L80905:

; 1815 :             case D3DMULTISAMPLE_15_SAMPLES:
; 1816 :                 lstrcat( m_strFrameStats, _T(" (15x Multisample)") );

  00603	8b f4		 mov	 esi, esp
  00605	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@FCCICCFL@?5?$CI15x?5Multisample?$CJ?$AA@
  0060a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0060d	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00612	50		 push	 eax
  00613	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00619	3b f4		 cmp	 esi, esp
  0061b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1817 :                 break;

  00620	eb 1d		 jmp	 SHORT $L80849
$L80907:

; 1818 :             case D3DMULTISAMPLE_16_SAMPLES:
; 1819 :                 lstrcat( m_strFrameStats, _T(" (16x Multisample)") );

  00622	8b f4		 mov	 esi, esp
  00624	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@HLOAJGKJ@?5?$CI16x?5Multisample?$CJ?$AA@
  00629	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0062c	05 2e a6 02 00	 add	 eax, 173614		; 0002a62eH
  00631	50		 push	 eax
  00632	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__lstrcatA@8
  00638	3b f4		 cmp	 esi, esp
  0063a	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80849:

; 1820 :                 break;
; 1821 :             }
; 1822 :         }
; 1823 :     }
; 1824 : 
; 1825 :     // Show the frame on the primary surface.
; 1826 :     m_pd3dDevice->Present( NULL, NULL, NULL, NULL );

  0063f	8b f4		 mov	 esi, esp
  00641	6a 00		 push	 0
  00643	6a 00		 push	 0
  00645	6a 00		 push	 0
  00647	6a 00		 push	 0
  00649	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0064c	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  00652	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00655	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  0065b	8b 09		 mov	 ecx, DWORD PTR [ecx]
  0065d	50		 push	 eax
  0065e	ff 51 3c	 call	 DWORD PTR [ecx+60]
  00661	3b f4		 cmp	 esi, esp
  00663	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1827 : 
; 1828 :     return S_OK;

  00668	33 c0		 xor	 eax, eax
$L80815:

; 1829 : }

  0066a	52		 push	 edx
  0066b	8b cd		 mov	 ecx, ebp
  0066d	50		 push	 eax
  0066e	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81229
  00674	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00679	58		 pop	 eax
  0067a	5a		 pop	 edx
  0067b	5f		 pop	 edi
  0067c	5e		 pop	 esi
  0067d	5b		 pop	 ebx
  0067e	81 c4 58 01 00
	00		 add	 esp, 344		; 00000158H
  00684	3b ec		 cmp	 ebp, esp
  00686	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0068b	8b e5		 mov	 esp, ebp
  0068d	5d		 pop	 ebp
  0068e	c3		 ret	 0
$L81229:
  0068f	01 00 00 00	 DD	 1
  00693	00 00 00 00	 DD	 $L81228
$L81228:
  00697	a4 ff ff ff	 DD	 -92			; ffffffa4H
  0069b	10 00 00 00	 DD	 16			; 00000010H
  0069f	00 00 00 00	 DD	 $L81227
$L81227:
  006a3	6d		 DB	 109			; 0000006dH
  006a4	6f		 DB	 111			; 0000006fH
  006a5	64		 DB	 100			; 00000064H
  006a6	65		 DB	 101			; 00000065H
  006a7	00		 DB	 0
$L81230:
  006a8	00 00 00 00	 DD	 $L80870
  006ac	00 00 00 00	 DD	 $L80855
  006b0	00 00 00 00	 DD	 $L80862
  006b4	00 00 00 00	 DD	 $L80855
  006b8	00 00 00 00	 DD	 $L80866
  006bc	00 00 00 00	 DD	 $L80855
  006c0	00 00 00 00	 DD	 $L80864
  006c4	00 00 00 00	 DD	 $L80855
  006c8	00 00 00 00	 DD	 $L80868
  006cc	00 00 00 00	 DD	 $L80860
$L81231:
  006d0	00 00 00 00	 DD	 $L80879
  006d4	00 00 00 00	 DD	 $L80881
  006d8	00 00 00 00	 DD	 $L80883
  006dc	00 00 00 00	 DD	 $L80885
  006e0	00 00 00 00	 DD	 $L80887
  006e4	00 00 00 00	 DD	 $L80889
  006e8	00 00 00 00	 DD	 $L80891
  006ec	00 00 00 00	 DD	 $L80893
  006f0	00 00 00 00	 DD	 $L80895
  006f4	00 00 00 00	 DD	 $L80897
  006f8	00 00 00 00	 DD	 $L80899
  006fc	00 00 00 00	 DD	 $L80901
  00700	00 00 00 00	 DD	 $L80903
  00704	00 00 00 00	 DD	 $L80905
  00708	00 00 00 00	 DD	 $L80907
?Render3DEnvironment@CD3DApplication@@IAEJXZ ENDP	; CD3DApplication::Render3DEnvironment
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Pause@CD3DApplication@@UAEXH@Z
_TEXT	SEGMENT
_this$ = -8
_bPause$ = 8
?Pause@CD3DApplication@@UAEXH@Z PROC NEAR		; CD3DApplication::Pause, COMDAT
; _this$ = ecx

; 1839 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1840 :     static DWORD dwAppPausedCount = 0L;
; 1841 : 
; 1842 :     dwAppPausedCount += ( bPause ? +1 : -1 );

  00023	33 c0		 xor	 eax, eax
  00025	83 7d 08 00	 cmp	 DWORD PTR _bPause$[ebp], 0
  00029	0f 95 c0	 setne	 al
  0002c	8d 44 00 ff	 lea	 eax, DWORD PTR [eax+eax-1]
  00030	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA
  00036	03 c8		 add	 ecx, eax
  00038	89 0d 00 00 00
	00		 mov	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, ecx

; 1843 :     m_bReady          = ( dwAppPausedCount ? FALSE : TRUE );

  0003e	33 c0		 xor	 eax, eax
  00040	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, 0
  00047	0f 94 c0	 sete	 al
  0004a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004d	89 81 54 a4 02
	00		 mov	 DWORD PTR [ecx+173140], eax

; 1844 : 
; 1845 :     // Handle the first pause request (of many, nestable pause requests)
; 1846 :     if( bPause && ( 1 == dwAppPausedCount ) )

  00053	83 7d 08 00	 cmp	 DWORD PTR _bPause$[ebp], 0
  00057	74 1e		 je	 SHORT $L80916
  00059	83 3d 00 00 00
	00 01		 cmp	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, 1
  00060	75 15		 jne	 SHORT $L80916

; 1847 :     {
; 1848 :         // Stop the scene from animating
; 1849 :         if( m_bFrameMoving )

  00062	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00065	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0006c	74 09		 je	 SHORT $L80916

; 1850 :             DXUtil_Timer( TIMER_STOP );

  0006e	6a 02		 push	 2
  00070	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00075	dd d8		 fstp	 ST(0)
$L80916:

; 1851 :     }
; 1852 : 
; 1853 :     if( 0 == dwAppPausedCount )

  00077	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?dwAppPausedCount@?1??Pause@CD3DApplication@@UAEXH@Z@4KA, 0
  0007e	75 15		 jne	 SHORT $L80913

; 1854 :     {
; 1855 :         // Restart the timers
; 1856 :         if( m_bFrameMoving )

  00080	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00083	83 b8 5c a4 02
	00 00		 cmp	 DWORD PTR [eax+173148], 0
  0008a	74 09		 je	 SHORT $L80913

; 1857 :             DXUtil_Timer( TIMER_START );

  0008c	6a 01		 push	 1
  0008e	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  00093	dd d8		 fstp	 ST(0)
$L80913:

; 1858 :     }
; 1859 : }

  00095	5f		 pop	 edi
  00096	5e		 pop	 esi
  00097	5b		 pop	 ebx
  00098	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0009e	3b ec		 cmp	 ebp, esp
  000a0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a5	8b e5		 mov	 esp, ebp
  000a7	5d		 pop	 ebp
  000a8	c2 04 00	 ret	 4
?Pause@CD3DApplication@@UAEXH@Z ENDP			; CD3DApplication::Pause
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ
_TEXT	SEGMENT
_this$ = -8
?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ PROC NEAR	; CD3DApplication::Cleanup3DEnvironment, COMDAT
; _this$ = ecx

; 1869 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1870 :     m_bActive = FALSE;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	c7 80 50 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173136], 0

; 1871 :     m_bReady  = FALSE;

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	c7 80 54 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173140], 0

; 1872 : 
; 1873 :     if( m_pd3dDevice )

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	83 b8 a8 a4 02
	00 00		 cmp	 DWORD PTR [eax+173224], 0
  00047	0f 84 84 00 00
	00		 je	 $L80923

; 1874 :     {
; 1875 :         InvalidateDeviceObjects();

  0004d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00050	8b 10		 mov	 edx, DWORD PTR [eax]
  00052	8b f4		 mov	 esi, esp
  00054	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00057	ff 52 1c	 call	 DWORD PTR [edx+28]
  0005a	3b f4		 cmp	 esi, esp
  0005c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1876 :         DeleteDeviceObjects();

  00061	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00064	8b 10		 mov	 edx, DWORD PTR [eax]
  00066	8b f4		 mov	 esi, esp
  00068	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0006b	ff 52 20	 call	 DWORD PTR [edx+32]
  0006e	3b f4		 cmp	 esi, esp
  00070	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1877 : 
; 1878 :         m_pd3dDevice->Release();

  00075	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00078	8b 88 a8 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173224]
  0007e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00081	8b 82 a8 a4 02
	00		 mov	 eax, DWORD PTR [edx+173224]
  00087	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00089	8b f4		 mov	 esi, esp
  0008b	50		 push	 eax
  0008c	ff 51 08	 call	 DWORD PTR [ecx+8]
  0008f	3b f4		 cmp	 esi, esp
  00091	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1879 :         m_pD3D->Release();

  00096	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00099	8b 88 a4 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173220]
  0009f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000a2	8b 82 a4 a4 02
	00		 mov	 eax, DWORD PTR [edx+173220]
  000a8	8b 09		 mov	 ecx, DWORD PTR [ecx]
  000aa	8b f4		 mov	 esi, esp
  000ac	50		 push	 eax
  000ad	ff 51 08	 call	 DWORD PTR [ecx+8]
  000b0	3b f4		 cmp	 esi, esp
  000b2	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1880 : 
; 1881 :         m_pd3dDevice = NULL;

  000b7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ba	c7 80 a8 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173224], 0

; 1882 :         m_pD3D       = NULL;

  000c4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c7	c7 80 a4 a4 02
	00 00 00 00 00	 mov	 DWORD PTR [eax+173220], 0
$L80923:

; 1883 :     }
; 1884 : 
; 1885 :     FinalCleanup();

  000d1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d4	8b 10		 mov	 edx, DWORD PTR [eax]
  000d6	8b f4		 mov	 esi, esp
  000d8	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000db	ff 52 24	 call	 DWORD PTR [edx+36]
  000de	3b f4		 cmp	 esi, esp
  000e0	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1886 : }

  000e5	5f		 pop	 edi
  000e6	5e		 pop	 esi
  000e7	5b		 pop	 ebx
  000e8	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000ee	3b ec		 cmp	 ebp, esp
  000f0	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000f5	8b e5		 mov	 esp, ebp
  000f7	5d		 pop	 ebp
  000f8	c3		 ret	 0
?Cleanup3DEnvironment@CD3DApplication@@IAEXXZ ENDP	; CD3DApplication::Cleanup3DEnvironment
_TEXT	ENDS
PUBLIC	??_C@_0OH@MILJLCEI@Could?5not?5initialize?5Direct3D?4?5Y@ ; `string'
PUBLIC	??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@ ; `string'
PUBLIC	??_C@_0KK@JFIPNOIF@This?5sample?5cannot?5run?5in?5a?5desk@ ; `string'
PUBLIC	??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@ ; `string'
PUBLIC	??_C@_0GA@ECMGHJPC@This?5sample?5requires?5functionali@ ; `string'
PUBLIC	??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@ ; `string'
PUBLIC	??_C@_0LK@LADJGJGC@Your?5Direct3D?5hardware?5accelerat@ ; `string'
PUBLIC	??_C@_0NK@NAGIAHJH@This?5sample?5requires?5functionali@ ; `string'
PUBLIC	??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@ ; `string'
PUBLIC	??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@ ; `string'
PUBLIC	??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@ ; `string'
PUBLIC	??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@ ; `string'
PUBLIC	??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@	; `string'
PUBLIC	??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@ ; `string'
PUBLIC	??_C@_0EJ@NBPBFOLL@Generic?5application?5error?4?5Enabl@ ; `string'
PUBLIC	??_C@_0BN@OAKIKKMM@?6?6This?5sample?5will?5now?5exit?4?$AA@ ; `string'
PUBLIC	??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@ ; `string'
EXTRN	__imp__MessageBoxA@16:NEAR
EXTRN	_strcpy:NEAR
EXTRN	_strcat:NEAR
;	COMDAT ??_C@_0OH@MILJLCEI@Could?5not?5initialize?5Direct3D?4?5Y@
CONST	SEGMENT
??_C@_0OH@MILJLCEI@Could?5not?5initialize?5Direct3D?4?5Y@ DB 'Could not i'
	DB	'nitialize Direct3D. You may', 0aH, 'want to check that the la'
	DB	'test version of', 0aH, 'DirectX is correctly installed on you'
	DB	'r', 0aH, 'system.  Also make sure that this program', 0aH, 'w'
	DB	'as compiled with header files that match', 0aH, 'the installe'
	DB	'd DirectX DLLs.', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@
CONST	SEGMENT
??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@ DB 'Could not f'
	DB	'ind any compatible Direct3D', 0aH, 'devices.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0KK@JFIPNOIF@This?5sample?5cannot?5run?5in?5a?5desk@
CONST	SEGMENT
??_C@_0KK@JFIPNOIF@This?5sample?5cannot?5run?5in?5a?5desk@ DB 'This sampl'
	DB	'e cannot run in a desktop', 0aH, 'window with the current dis'
	DB	'play settings.', 0aH, 'Please change your desktop settings to'
	DB	' a', 0aH, '16- or 32-bit display mode and re-run this', 0aH, 's'
	DB	'ample.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@
CONST	SEGMENT
??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@ DB 'No hardware-a'
	DB	'ccelerated Direct3D devices', 0aH, 'were found.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0GA@ECMGHJPC@This?5sample?5requires?5functionali@
CONST	SEGMENT
??_C@_0GA@ECMGHJPC@This?5sample?5requires?5functionali@ DB 'This sample r'
	DB	'equires functionality that is', 0aH, 'not available on your D'
	DB	'irect3D hardware', 0aH, 'accelerator.', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT
??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@ DB 'Your Direct3D'
	DB	' hardware accelerator cannot', 0aH, 'render into a window.', 0aH
	DB	'Press F2 while the app is running to see a', 0aH, 'list of av'
	DB	'ailable devices and modes.', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0LK@LADJGJGC@Your?5Direct3D?5hardware?5accelerat@
CONST	SEGMENT
??_C@_0LK@LADJGJGC@Your?5Direct3D?5hardware?5accelerat@ DB 'Your Direct3D'
	DB	' hardware accelerator cannot', 0aH, 'render into a window wit'
	DB	'h the current', 0aH, 'desktop display settings.', 0aH, 'Press'
	DB	' F2 while the app is running to see a', 0aH, 'list of availab'
	DB	'le devices and modes.', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0NK@NAGIAHJH@This?5sample?5requires?5functionali@
CONST	SEGMENT
??_C@_0NK@NAGIAHJH@This?5sample?5requires?5functionali@ DB 'This sample r'
	DB	'equires functionality that is', 0aH, 'not available on your D'
	DB	'irect3D hardware', 0aH, 'accelerator with the current desktop'
	DB	' display', 0aH, 'settings.', 0aH, 'Press F2 while the app is '
	DB	'running to see a', 0aH, 'list of available devices and modes.'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@
CONST	SEGMENT
??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@ DB 'Could not'
	DB	' load required media.', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@
CONST	SEGMENT
??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@ DB 'Could not r'
	DB	'eset the Direct3D device.', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@
CONST	SEGMENT
??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@ DB 'A D3D obj'
	DB	'ect has a non-zero reference', 0aH, 'count (meaning things we'
	DB	're not properly', 0aH, 'cleaned up).', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@
CONST	SEGMENT
??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@ DB 'Warning: No'
	DB	'thing will be rendered.', 0aH, 'The reference rendering devic'
	DB	'e was selected, but your', 0aH, 'computer only has a reduced-'
	DB	'functionality reference device', 0aH, 'installed.  Install th'
	DB	'e DirectX SDK to get the full', 0aH, 'reference device.', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@
CONST	SEGMENT
??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@ DB 'Not enough memory.', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@
CONST	SEGMENT
??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@ DB 'Not enough video'
	DB	' memory.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0EJ@NBPBFOLL@Generic?5application?5error?4?5Enabl@
CONST	SEGMENT
??_C@_0EJ@NBPBFOLL@Generic?5application?5error?4?5Enabl@ DB 'Generic appl'
	DB	'ication error. Enable', 0aH, 'debug output for detailed infor'
	DB	'mation.', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@OAKIKKMM@?6?6This?5sample?5will?5now?5exit?4?$AA@
CONST	SEGMENT
??_C@_0BN@OAKIKKMM@?6?6This?5sample?5will?5now?5exit?4?$AA@ DB 0aH, 0aH, 'T'
	DB	'his sample will now exit.', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@
CONST	SEGMENT
??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@ DB 0aH, 0aH, 'S'
	DB	'witching to the reference rasterizer,', 0aH, 'a software devi'
	DB	'ce that implements the entire', 0aH, 'Direct3D feature set, b'
	DB	'ut runs very slowly.', 00H			; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z
_TEXT	SEGMENT
tv64 = -728
_strMsg$ = -528
_this$ = -8
_hr$ = 8
_dwType$ = 12
?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z PROC NEAR	; CD3DApplication::DisplayErrorMsg, COMDAT
; _this$ = ecx

; 1896 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 02 00
	00		 sub	 esp, 728		; 000002d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 28 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-728]
  00013	b9 b6 00 00 00	 mov	 ecx, 182		; 000000b6H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 1897 :     TCHAR strMsg[512];
; 1898 : 
; 1899 :     switch( hr )
; 1900 :     {

  00023	8b 45 08	 mov	 eax, DWORD PTR _hr$[ebp]
  00026	89 85 28 fd ff
	ff		 mov	 DWORD PTR tv64[ebp], eax
  0002c	81 bd 28 fd ff
	ff 08 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929208 ; 82000008H
  00036	0f 8f 96 00 00
	00		 jg	 $L81238
  0003c	81 bd 28 fd ff
	ff 08 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929208 ; 82000008H
  00046	0f 84 69 01 00
	00		 je	 $L80946
  0004c	81 bd 28 fd ff
	ff 04 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929212 ; 82000004H
  00056	7f 45		 jg	 SHORT $L81239
  00058	81 bd 28 fd ff
	ff 04 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929212 ; 82000004H
  00062	0f 84 e9 00 00
	00		 je	 $L80938
  00068	81 bd 28 fd ff
	ff 0e 00 07 80	 cmp	 DWORD PTR tv64[ebp], -2147024882 ; 8007000eH
  00072	0f 84 ca 01 00
	00		 je	 $L80959
  00078	81 bd 28 fd ff
	ff 01 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929215 ; 82000001H
  00082	0f 84 97 00 00
	00		 je	 $L80934
  00088	81 bd 28 fd ff
	ff 03 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929213 ; 82000003H
  00092	0f 84 a0 00 00
	00		 je	 $L80936
  00098	e9 d1 01 00 00	 jmp	 $L80967
$L81239:
  0009d	81 bd 28 fd ff
	ff 05 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929211 ; 82000005H
  000a7	0f 84 bd 00 00
	00		 je	 $L80940
  000ad	81 bd 28 fd ff
	ff 06 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929210 ; 82000006H
  000b7	0f 84 c6 00 00
	00		 je	 $L80942
  000bd	81 bd 28 fd ff
	ff 07 00 00 82	 cmp	 DWORD PTR tv64[ebp], -2113929209 ; 82000007H
  000c7	0f 84 cf 00 00
	00		 je	 $L80944
  000cd	e9 9c 01 00 00	 jmp	 $L80967
$L81238:
  000d2	81 bd 28 fd ff
	ff 7c 01 76 88	 cmp	 DWORD PTR tv64[ebp], -2005532292 ; 8876017cH
  000dc	7f 3c		 jg	 SHORT $L81240
  000de	81 bd 28 fd ff
	ff 7c 01 76 88	 cmp	 DWORD PTR tv64[ebp], -2005532292 ; 8876017cH
  000e8	0f 84 6a 01 00
	00		 je	 $L80965
  000ee	8b 8d 28 fd ff
	ff		 mov	 ecx, DWORD PTR tv64[ebp]
  000f4	81 c1 f7 ff ff
	7d		 add	 ecx, 2113929207		; 7dfffff7H
  000fa	89 8d 28 fd ff
	ff		 mov	 DWORD PTR tv64[ebp], ecx
  00100	83 bd 28 fd ff
	ff 04		 cmp	 DWORD PTR tv64[ebp], 4
  00107	0f 87 61 01 00
	00		 ja	 $L80967
  0010d	8b 95 28 fd ff
	ff		 mov	 edx, DWORD PTR tv64[ebp]
  00113	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L81244[edx*4]
$L81240:
  0011a	e9 4f 01 00 00	 jmp	 $L80967
$L80934:

; 1901 :         case D3DAPPERR_NODIRECT3D:
; 1902 :             _tcscpy( strMsg, _T("Could not initialize Direct3D. You may\n")
; 1903 :                              _T("want to check that the latest version of\n")
; 1904 :                              _T("DirectX is correctly installed on your\n")
; 1905 :                              _T("system.  Also make sure that this program\n")
; 1906 :                              _T("was compiled with header files that match\n")
; 1907 :                              _T("the installed DirectX DLLs.") );

  0011f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0OH@MILJLCEI@Could?5not?5initialize?5Direct3D?4?5Y@
  00124	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0012a	50		 push	 eax
  0012b	e8 00 00 00 00	 call	 _strcpy
  00130	83 c4 08	 add	 esp, 8

; 1908 :             break;

  00133	e9 4a 01 00 00	 jmp	 $L80931
$L80936:

; 1909 : 
; 1910 :         case D3DAPPERR_NOCOMPATIBLEDEVICES:
; 1911 :             _tcscpy( strMsg, _T("Could not find any compatible Direct3D\n")
; 1912 :                              _T("devices.") );

  00138	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DA@NILKFAHG@Could?5not?5find?5any?5compatible?5Di@
  0013d	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00143	50		 push	 eax
  00144	e8 00 00 00 00	 call	 _strcpy
  00149	83 c4 08	 add	 esp, 8

; 1913 :             break;

  0014c	e9 31 01 00 00	 jmp	 $L80931
$L80938:

; 1914 : 
; 1915 :         case D3DAPPERR_NOWINDOWABLEDEVICES:
; 1916 :             _tcscpy( strMsg, _T("This sample cannot run in a desktop\n")
; 1917 :                              _T("window with the current display settings.\n")
; 1918 :                              _T("Please change your desktop settings to a\n")
; 1919 :                              _T("16- or 32-bit display mode and re-run this\n")
; 1920 :                              _T("sample.") );

  00151	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0KK@JFIPNOIF@This?5sample?5cannot?5run?5in?5a?5desk@
  00156	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0015c	50		 push	 eax
  0015d	e8 00 00 00 00	 call	 _strcpy
  00162	83 c4 08	 add	 esp, 8

; 1921 :             break;

  00165	e9 18 01 00 00	 jmp	 $L80931
$L80940:

; 1922 : 
; 1923 :         case D3DAPPERR_NOHARDWAREDEVICE:
; 1924 :             _tcscpy( strMsg, _T("No hardware-accelerated Direct3D devices\n")
; 1925 :                              _T("were found.") );

  0016a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DF@BENIABML@No?5hardware?9accelerated?5Direct3D@
  0016f	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00175	50		 push	 eax
  00176	e8 00 00 00 00	 call	 _strcpy
  0017b	83 c4 08	 add	 esp, 8

; 1926 :             break;

  0017e	e9 ff 00 00 00	 jmp	 $L80931
$L80942:

; 1927 : 
; 1928 :         case D3DAPPERR_HALNOTCOMPATIBLE:
; 1929 :             _tcscpy( strMsg, _T("This sample requires functionality that is\n")
; 1930 :                              _T("not available on your Direct3D hardware\n")
; 1931 :                              _T("accelerator.") );

  00183	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0GA@ECMGHJPC@This?5sample?5requires?5functionali@
  00188	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0018e	50		 push	 eax
  0018f	e8 00 00 00 00	 call	 _strcpy
  00194	83 c4 08	 add	 esp, 8

; 1932 :             break;

  00197	e9 e6 00 00 00	 jmp	 $L80931
$L80944:

; 1933 : 
; 1934 :         case D3DAPPERR_NOWINDOWEDHAL:
; 1935 :             _tcscpy( strMsg, _T("Your Direct3D hardware accelerator cannot\n")
; 1936 :                              _T("render into a window.\n")
; 1937 :                              _T("Press F2 while the app is running to see a\n")
; 1938 :                              _T("list of available devices and modes.") );

  0019c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0JA@FHOGLLAO@Your?5Direct3D?5hardware?5accelerat@
  001a1	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001a7	50		 push	 eax
  001a8	e8 00 00 00 00	 call	 _strcpy
  001ad	83 c4 08	 add	 esp, 8

; 1939 :             break;

  001b0	e9 cd 00 00 00	 jmp	 $L80931
$L80946:

; 1940 : 
; 1941 :         case D3DAPPERR_NODESKTOPHAL:
; 1942 :             _tcscpy( strMsg, _T("Your Direct3D hardware accelerator cannot\n")
; 1943 :                              _T("render into a window with the current\n")
; 1944 :                              _T("desktop display settings.\n")
; 1945 :                              _T("Press F2 while the app is running to see a\n")
; 1946 :                              _T("list of available devices and modes.") );

  001b5	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0LK@LADJGJGC@Your?5Direct3D?5hardware?5accelerat@
  001ba	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001c0	50		 push	 eax
  001c1	e8 00 00 00 00	 call	 _strcpy
  001c6	83 c4 08	 add	 esp, 8

; 1947 :             break;

  001c9	e9 b4 00 00 00	 jmp	 $L80931
$L80948:

; 1948 : 
; 1949 :         case D3DAPPERR_NOHALTHISMODE:
; 1950 :             _tcscpy( strMsg, _T("This sample requires functionality that is\n")
; 1951 :                              _T("not available on your Direct3D hardware\n")
; 1952 :                              _T("accelerator with the current desktop display\n")
; 1953 :                              _T("settings.\n")
; 1954 :                              _T("Press F2 while the app is running to see a\n")
; 1955 :                              _T("list of available devices and modes.") );

  001ce	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0NK@NAGIAHJH@This?5sample?5requires?5functionali@
  001d3	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001d9	50		 push	 eax
  001da	e8 00 00 00 00	 call	 _strcpy
  001df	83 c4 08	 add	 esp, 8

; 1956 :             break;

  001e2	e9 9b 00 00 00	 jmp	 $L80931
$L80950:

; 1957 : 
; 1958 :         case D3DAPPERR_MEDIANOTFOUND:
; 1959 :             _tcscpy( strMsg, _T("Could not load required media." ) );

  001e7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BP@DDMILEGD@Could?5not?5load?5required?5media?4?$AA@
  001ec	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  001f2	50		 push	 eax
  001f3	e8 00 00 00 00	 call	 _strcpy
  001f8	83 c4 08	 add	 esp, 8

; 1960 :             break;

  001fb	e9 82 00 00 00	 jmp	 $L80931
$L80952:

; 1961 : 
; 1962 :         case D3DAPPERR_RESIZEFAILED:
; 1963 :             _tcscpy( strMsg, _T("Could not reset the Direct3D device." ) );

  00200	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CF@JCBOIPFJ@Could?5not?5reset?5the?5Direct3D?5dev@
  00205	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0020b	50		 push	 eax
  0020c	e8 00 00 00 00	 call	 _strcpy
  00211	83 c4 08	 add	 esp, 8

; 1964 :             break;

  00214	eb 6c		 jmp	 SHORT $L80931
$L80954:

; 1965 : 
; 1966 :         case D3DAPPERR_NONZEROREFCOUNT:
; 1967 :             _tcscpy( strMsg, _T("A D3D object has a non-zero reference\n")
; 1968 :                              _T("count (meaning things were not properly\n")
; 1969 :                              _T("cleaned up).") );

  00216	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0FL@JAPAPODB@A?5D3D?5object?5has?5a?5non?9zero?5refe@
  0021b	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00221	50		 push	 eax
  00222	e8 00 00 00 00	 call	 _strcpy
  00227	83 c4 08	 add	 esp, 8

; 1970 :             break;

  0022a	eb 56		 jmp	 SHORT $L80931
$L80956:

; 1971 : 
; 1972 :         case D3DAPPERR_NULLREFDEVICE:
; 1973 :             _tcscpy( strMsg, _T("Warning: Nothing will be rendered.\n")
; 1974 :                              _T("The reference rendering device was selected, but your\n")
; 1975 :                              _T("computer only has a reduced-functionality reference device\n")
; 1976 :                              _T("installed.  Install the DirectX SDK to get the full\n")
; 1977 :                              _T("reference device.\n") );

  0022c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0NL@EFFPMEHJ@Warning?3?5Nothing?5will?5be?5rendere@
  00231	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00237	50		 push	 eax
  00238	e8 00 00 00 00	 call	 _strcpy
  0023d	83 c4 08	 add	 esp, 8

; 1978 :             break;

  00240	eb 40		 jmp	 SHORT $L80931
$L80959:

; 1979 : 
; 1980 :         case E_OUTOFMEMORY:
; 1981 :             _tcscpy( strMsg, _T("Not enough memory.") );

  00242	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@NLHHLHNB@Not?5enough?5memory?4?$AA@
  00247	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  0024d	50		 push	 eax
  0024e	e8 00 00 00 00	 call	 _strcpy
  00253	83 c4 08	 add	 esp, 8

; 1982 :             break;

  00256	eb 2a		 jmp	 SHORT $L80931
$L80965:

; 1983 : 
; 1984 :         case D3DERR_OUTOFVIDEOMEMORY:
; 1985 :             _tcscpy( strMsg, _T("Not enough video memory.") );

  00258	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BJ@IMKDBANA@Not?5enough?5video?5memory?4?$AA@
  0025d	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00263	50		 push	 eax
  00264	e8 00 00 00 00	 call	 _strcpy
  00269	83 c4 08	 add	 esp, 8

; 1986 :             break;

  0026c	eb 14		 jmp	 SHORT $L80931
$L80967:

; 1987 : 
; 1988 :         default:
; 1989 :             _tcscpy( strMsg, _T("Generic application error. Enable\n")
; 1990 :                              _T("debug output for detailed information.") );

  0026e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0EJ@NBPBFOLL@Generic?5application?5error?4?5Enabl@
  00273	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00279	50		 push	 eax
  0027a	e8 00 00 00 00	 call	 _strcpy
  0027f	83 c4 08	 add	 esp, 8
$L80931:

; 1991 :     }
; 1992 : 
; 1993 :     if( MSGERR_APPMUSTEXIT == dwType )

  00282	83 7d 0c 01	 cmp	 DWORD PTR _dwType$[ebp], 1
  00286	75 65		 jne	 SHORT $L80969

; 1994 :     {
; 1995 :         _tcscat( strMsg, _T("\n\nThis sample will now exit.") );

  00288	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BN@OAKIKKMM@?6?6This?5sample?5will?5now?5exit?4?$AA@
  0028d	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  00293	50		 push	 eax
  00294	e8 00 00 00 00	 call	 _strcat
  00299	83 c4 08	 add	 esp, 8

; 1996 :         MessageBox( NULL, strMsg, m_strWindowTitle, MB_ICONERROR|MB_OK );

  0029c	8b f4		 mov	 esi, esp
  0029e	6a 10		 push	 16			; 00000010H
  002a0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002a3	8b 88 88 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173704]
  002a9	51		 push	 ecx
  002aa	8d 95 f0 fd ff
	ff		 lea	 edx, DWORD PTR _strMsg$[ebp]
  002b0	52		 push	 edx
  002b1	6a 00		 push	 0
  002b3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
  002b9	3b f4		 cmp	 esi, esp
  002bb	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 1997 : 
; 1998 :         // Close the window, which shuts down the app
; 1999 :         if( m_hWnd )

  002c0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002c3	83 b8 98 a4 02
	00 00		 cmp	 DWORD PTR [eax+173208], 0
  002ca	74 1f		 je	 SHORT $L80971

; 2000 :             SendMessage( m_hWnd, WM_CLOSE, 0, 0 );

  002cc	8b f4		 mov	 esi, esp
  002ce	6a 00		 push	 0
  002d0	6a 00		 push	 0
  002d2	6a 10		 push	 16			; 00000010H
  002d4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002d7	8b 88 98 a4 02
	00		 mov	 ecx, DWORD PTR [eax+173208]
  002dd	51		 push	 ecx
  002de	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16
  002e4	3b f4		 cmp	 esi, esp
  002e6	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80971:

; 2001 :     }
; 2002 :     else

  002eb	eb 3e		 jmp	 SHORT $L80972
$L80969:

; 2003 :     {
; 2004 :         if( MSGWARN_SWITCHEDTOREF == dwType )

  002ed	83 7d 0c 02	 cmp	 DWORD PTR _dwType$[ebp], 2
  002f1	75 14		 jne	 SHORT $L80973

; 2005 :             _tcscat( strMsg, _T("\n\nSwitching to the reference rasterizer,\n")
; 2006 :                              _T("a software device that implements the entire\n")
; 2007 :                              _T("Direct3D feature set, but runs very slowly.") );

  002f3	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0IC@MFMIPNPF@?6?6Switching?5to?5the?5reference?5ras@
  002f8	8d 85 f0 fd ff
	ff		 lea	 eax, DWORD PTR _strMsg$[ebp]
  002fe	50		 push	 eax
  002ff	e8 00 00 00 00	 call	 _strcat
  00304	83 c4 08	 add	 esp, 8
$L80973:

; 2008 :         MessageBox( NULL, strMsg, m_strWindowTitle, MB_ICONWARNING|MB_OK );

  00307	8b f4		 mov	 esi, esp
  00309	6a 30		 push	 48			; 00000030H
  0030b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0030e	8b 88 88 a6 02
	00		 mov	 ecx, DWORD PTR [eax+173704]
  00314	51		 push	 ecx
  00315	8d 95 f0 fd ff
	ff		 lea	 edx, DWORD PTR _strMsg$[ebp]
  0031b	52		 push	 edx
  0031c	6a 00		 push	 0
  0031e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
  00324	3b f4		 cmp	 esi, esp
  00326	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80972:

; 2009 :     }
; 2010 : 
; 2011 :     return hr;

  0032b	8b 45 08	 mov	 eax, DWORD PTR _hr$[ebp]

; 2012 : }

  0032e	52		 push	 edx
  0032f	8b cd		 mov	 ecx, ebp
  00331	50		 push	 eax
  00332	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L81243
  00338	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0033d	58		 pop	 eax
  0033e	5a		 pop	 edx
  0033f	5f		 pop	 edi
  00340	5e		 pop	 esi
  00341	5b		 pop	 ebx
  00342	81 c4 d8 02 00
	00		 add	 esp, 728		; 000002d8H
  00348	3b ec		 cmp	 ebp, esp
  0034a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0034f	8b e5		 mov	 esp, ebp
  00351	5d		 pop	 ebp
  00352	c2 08 00	 ret	 8
$L81243:
  00355	01 00 00 00	 DD	 1
  00359	00 00 00 00	 DD	 $L81242
$L81242:
  0035d	f0 fd ff ff	 DD	 -528			; fffffdf0H
  00361	00 02 00 00	 DD	 512			; 00000200H
  00365	00 00 00 00	 DD	 $L81241
$L81241:
  00369	73		 DB	 115			; 00000073H
  0036a	74		 DB	 116			; 00000074H
  0036b	72		 DB	 114			; 00000072H
  0036c	4d		 DB	 77			; 0000004dH
  0036d	73		 DB	 115			; 00000073H
  0036e	67		 DB	 103			; 00000067H
  0036f	00		 DB	 0
$L81244:
  00370	00 00 00 00	 DD	 $L80948
  00374	00 00 00 00	 DD	 $L80954
  00378	00 00 00 00	 DD	 $L80950
  0037c	00 00 00 00	 DD	 $L80952
  00380	00 00 00 00	 DD	 $L80956
?DisplayErrorMsg@CD3DApplication@@IAEJJK@Z ENDP		; CD3DApplication::DisplayErrorMsg
_TEXT	ENDS
END
