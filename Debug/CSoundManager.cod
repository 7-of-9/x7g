; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9466 

	TITLE	CSoundManager.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0BL@ENOEMALK@FSOUND_GetMaxChannels?3?5?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CK@PIPFKNDE@?$CK?$CK?$CK?5NO?5MP3s?5FOUND?5IN?5SPECIFIED?5F@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BK@HFDKNLML@?4?4?2resource?2wav1?2?$CF03d?4MP3?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BK@EPPADKJF@?4?4?2resource?2wav1?2?$CF03d?4WAV?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0FO@GCOJMBHH@Potential?5User?9Error?3?6?6CSoundMan@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0P@IKGFOFMG@?$CFs?5?$CI?$CFd?1?$CFd?$CJ?5?$DO?$DO?$DO?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0P@EJMKLPMO@?$DM?$DM?$DM?5?$CI?$CFd?1?$CFd?$CJ?5?$CFs?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CM@KOJBNNOC@ERROR?3?5PlaySFX?$CI?$CJ?5?9?5Couldn?8t?5play@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CO@FDJEOOMN@ERROR?3?5PlaySFX3D?$CI?$CJ?5?9?5Couldn?8t?5pl@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_05GHFCCCAJ@?$CK?4MP3?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_05BMGBEOOC@?$CFs?2?$CFs?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0EP@KJCKJAPI@c?3?2documents?5and?5settings?2dom?2my@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CB@EPBEIALG@m_pszMusicFiles?$FL?5m_nMusicFiles?5?$FN@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CG@FEJOHLO@m_pszMusicFilesShort?$FL?5m_nMusicFi@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@PBM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@ABU_D3DMATRIX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??BD3DXCOLOR@@QBEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0CSoundManager@@QAE@PADHH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1CSoundManager@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SongSkip@CSoundManager@@QAEHH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render@CSoundManager@@QAEJPAVCx7@@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?PlaySFX@CSoundManager@@QAEHH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?PlaySFX3D@CSoundManager@@QAEHHPAUD3DXVECTOR3@@0M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?UpdateSFX3D@CSoundManager@@QAEXHPAUD3DXVECTOR3@@0M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FrameMove3D@CSoundManager@@QAEXPAUD3DXVECTOR3@@000@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FrameMoveSkip@CSoundManager@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__LINE__Var@?1??GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z@4JA
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	??0CSoundManager@@QAE@PADHH@Z			; CSoundManager::CSoundManager
PUBLIC	?SongSkip@CSoundManager@@QAEHH@Z		; CSoundManager::SongSkip
PUBLIC	?GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z	; CSoundManager::GetMusicFilesInFolder
PUBLIC	??_C@_0BL@ENOEMALK@FSOUND_GetMaxChannels?3?5?$CFd?6?$AA@ ; `string'
PUBLIC	??_C@_0CK@PIPFKNDE@?$CK?$CK?$CK?5NO?5MP3s?5FOUND?5IN?5SPECIFIED?5F@ ; `string'
PUBLIC	??_C@_0BK@HFDKNLML@?4?4?2resource?2wav1?2?$CF03d?4MP3?$AA@ ; `string'
PUBLIC	??_C@_0BK@EPPADKJF@?4?4?2resource?2wav1?2?$CF03d?4WAV?$AA@ ; `string'
PUBLIC	??_C@_0FO@GCOJMBHH@Potential?5User?9Error?3?6?6CSoundMan@ ; `string'
PUBLIC	__real@437f0000
PUBLIC	__real@3da3d70a
EXTRN	?Msg@@YAXPAD@Z:NEAR				; Msg
EXTRN	?ods@@YAXPADZZ:NEAR				; ods
EXTRN	?rnd@@YAMXZ:NEAR				; rnd
EXTRN	_strcpy:NEAR
EXTRN	_strlen:NEAR
EXTRN	__RTC_InitBase:NEAR
EXTRN	__RTC_Shutdown:NEAR
EXTRN	__ftol2:NEAR
EXTRN	___security_cookie:DWORD
EXTRN	@_RTC_CheckStackVars@8:NEAR
EXTRN	@__security_check_cookie@4:NEAR
EXTRN	__RTC_CheckEsp:NEAR
EXTRN	__fltused:NEAR
EXTRN	_sprintf:NEAR
EXTRN	_FSOUND_SetDriver@4:NEAR
EXTRN	_FSOUND_SetMinHardwareChannels@4:NEAR
EXTRN	_FSOUND_Init@12:NEAR
EXTRN	_FSOUND_SetSFXMasterVolume@4:NEAR
EXTRN	_FSOUND_GetMaxChannels@0:NEAR
EXTRN	_FSOUND_Sample_Load@16:NEAR
;	COMDAT rtc$IMZ
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\csoundmanager.cpp
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT __real@437f0000
CONST	SEGMENT
__real@437f0000 DD 0437f0000r			; 255
CONST	ENDS
;	COMDAT ??_C@_0BL@ENOEMALK@FSOUND_GetMaxChannels?3?5?$CFd?6?$AA@
CONST	SEGMENT
??_C@_0BL@ENOEMALK@FSOUND_GetMaxChannels?3?5?$CFd?6?$AA@ DB 'FSOUND_GetMa'
	DB	'xChannels: %d', 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@PIPFKNDE@?$CK?$CK?$CK?5NO?5MP3s?5FOUND?5IN?5SPECIFIED?5F@
CONST	SEGMENT
??_C@_0CK@PIPFKNDE@?$CK?$CK?$CK?5NO?5MP3s?5FOUND?5IN?5SPECIFIED?5F@ DB '*'
	DB	'** NO MP3s FOUND IN SPECIFIED FOLDER ***', 00H ; `string'
CONST	ENDS
;	COMDAT __real@3da3d70a
CONST	SEGMENT
__real@3da3d70a DD 03da3d70ar			; 0.08
CONST	ENDS
;	COMDAT ??_C@_0BK@HFDKNLML@?4?4?2resource?2wav1?2?$CF03d?4MP3?$AA@
CONST	SEGMENT
??_C@_0BK@HFDKNLML@?4?4?2resource?2wav1?2?$CF03d?4MP3?$AA@ DB '..\resourc'
	DB	'e\wav1\%03d.MP3', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@EPPADKJF@?4?4?2resource?2wav1?2?$CF03d?4WAV?$AA@
CONST	SEGMENT
??_C@_0BK@EPPADKJF@?4?4?2resource?2wav1?2?$CF03d?4WAV?$AA@ DB '..\resourc'
	DB	'e\wav1\%03d.WAV', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FO@GCOJMBHH@Potential?5User?9Error?3?6?6CSoundMan@
CONST	SEGMENT
??_C@_0FO@GCOJMBHH@Potential?5User?9Error?3?6?6CSoundMan@ DB 'Potential U'
	DB	'ser-Error:', 0aH, 0aH, 'CSoundManager::CSoundManager() - FSOU'
	DB	'ND_Sample_Load(szFile...) == NULL', 00H	; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ??0CSoundManager@@QAE@PADHH@Z
_TEXT	SEGMENT
tv249 = -496
tv95 = -492
_i$93676 = -292
_szFile$ = -280
_this$ = -12
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_szPath$ = 8
_nMusic$ = 12
_nSFX$ = 16
??0CSoundManager@@QAE@PADHH@Z PROC NEAR			; CSoundManager::CSoundManager, COMDAT
; _this$ = ecx

; 6    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 01 00
	00		 sub	 esp, 496		; 000001f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 10 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-496]
  00013	b9 7c 00 00 00	 mov	 ecx, 124		; 0000007cH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00025	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00028	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002b	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx

; 7    : 	char szFile[ 256 ];
; 8    : 
; 9    : //
; 10   : // Initialize members:
; 11   : //
; 12   : 	m_bFMOD_OK = FALSE ;

  0002e	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00031	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 13   : 
; 14   : 	m_bMusic = ( nMusic > 0 );

  00038	33 c0		 xor	 eax, eax
  0003a	83 7d 0c 00	 cmp	 DWORD PTR _nMusic$[ebp], 0
  0003e	0f 9f c0	 setg	 al
  00041	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  00044	88 41 08	 mov	 BYTE PTR [ecx+8], al

; 15   : 	m_fMusicMasterVol = (float)nMusic / 255 ;

  00047	db 45 0c	 fild	 DWORD PTR _nMusic$[ebp]
  0004a	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@437f0000
  00050	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00053	d9 58 0c	 fstp	 DWORD PTR [eax+12]

; 16   : 	m_pfssMusicStream = NULL ;

  00056	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00059	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 17   : 	m_bMusic_Playing = FALSE ;

  00060	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00063	c7 40 1c 00 00
	00 00		 mov	 DWORD PTR [eax+28], 0

; 18   : 	m_nMusicFiles = 0 ;

  0006a	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0006d	c7 40 20 00 00
	00 00		 mov	 DWORD PTR [eax+32], 0

; 19   : 	m_ndxCurMusicFile = 0 ;

  00074	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00077	c7 40 24 00 00
	00 00		 mov	 DWORD PTR [eax+36], 0

; 20   : 
; 21   : 	m_bSFX = ( nSFX > 0 );

  0007e	33 c0		 xor	 eax, eax
  00080	83 7d 10 00	 cmp	 DWORD PTR _nSFX$[ebp], 0
  00084	0f 9f c0	 setg	 al
  00087	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  0008a	88 81 2c 08 00
	00		 mov	 BYTE PTR [ecx+2092], al

; 22   : 	m_fSFXMasterVol = (float)nSFX / 255 ;

  00090	db 45 10	 fild	 DWORD PTR _nSFX$[ebp]
  00093	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@437f0000
  00099	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	d9 98 30 08 00
	00		 fstp	 DWORD PTR [eax+2096]

; 23   : 	m_nSFX = 0 ;

  000a2	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  000a5	c7 80 34 18 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6196], 0

; 24   : 	for (int i = 0 ; i < MAX_SFX ; i ++)

  000af	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$93676[ebp], 0
  000b9	eb 0f		 jmp	 SHORT $L93677
$L93678:
  000bb	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  000c1	83 c0 01	 add	 eax, 1
  000c4	89 85 dc fe ff
	ff		 mov	 DWORD PTR _i$93676[ebp], eax
$L93677:
  000ca	81 bd dc fe ff
	ff 00 04 00 00	 cmp	 DWORD PTR _i$93676[ebp], 1024 ; 00000400H
  000d4	7d 16		 jge	 SHORT $L93679

; 25   : 		m_pfssSFX[ i ] = NULL;

  000d6	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  000dc	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  000df	c7 84 81 34 08
	00 00 00 00 00
	00		 mov	 DWORD PTR [ecx+eax*4+2100], 0
  000ea	eb cf		 jmp	 SHORT $L93678
$L93679:

; 26   : 
; 27   : 	m_bUseSoundSystem = ( m_bMusic || m_bSFX );

  000ec	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  000ef	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  000f3	85 c9		 test	 ecx, ecx
  000f5	75 1a		 jne	 SHORT $L93890
  000f7	8b 55 f4	 mov	 edx, DWORD PTR _this$[ebp]
  000fa	0f b6 82 2c 08
	00 00		 movzx	 eax, BYTE PTR [edx+2092]
  00101	85 c0		 test	 eax, eax
  00103	75 0c		 jne	 SHORT $L93890
  00105	c7 85 14 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv95[ebp], 0
  0010f	eb 0a		 jmp	 SHORT $L93891
$L93890:
  00111	c7 85 14 fe ff
	ff 01 00 00 00	 mov	 DWORD PTR tv95[ebp], 1
$L93891:
  0011b	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  0011e	8b 95 14 fe ff
	ff		 mov	 edx, DWORD PTR tv95[ebp]
  00124	89 11		 mov	 DWORD PTR [ecx], edx

; 28   : 
; 29   : #ifndef USE_SOUND_SYSTEM
; 30   : 	return ;
; 31   : #endif
; 32   : 	if( !m_bUseSoundSystem )

  00126	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00129	83 38 00	 cmp	 DWORD PTR [eax], 0
  0012c	75 05		 jne	 SHORT $L93680

; 33   : 		return ;

  0012e	e9 3a 02 00 00	 jmp	 $L93672
$L93680:

; 34   : 
; 35   : //
; 36   : // Initialize FMOD:
; 37   : //
; 38   : 	FSOUND_SetDriver(0) ;								// Default soundcard

  00133	6a 00		 push	 0
  00135	e8 00 00 00 00	 call	 _FSOUND_SetDriver@4

; 39   : 	FSOUND_SetMinHardwareChannels( CHANNELS );			// This no. of channels will always be available, even on hardware without this many channels! (it will fall back to software for all of them)

  0013a	6a 40		 push	 64			; 00000040H
  0013c	e8 00 00 00 00	 call	 _FSOUND_SetMinHardwareChannels@4

; 40   : 	if (FSOUND_Init(44100, CHANNELS, 0) == FALSE)		// ask for some SW channels in addition to the hardware's channels

  00141	6a 00		 push	 0
  00143	6a 40		 push	 64			; 00000040H
  00145	68 44 ac 00 00	 push	 44100			; 0000ac44H
  0014a	e8 00 00 00 00	 call	 _FSOUND_Init@12
  0014f	0f be c0	 movsx	 eax, al
  00152	85 c0		 test	 eax, eax
  00154	75 05		 jne	 SHORT $L93681

; 41   : 	// maybe no soundcard?!
; 42   : 		return ;

  00156	e9 12 02 00 00	 jmp	 $L93672
$L93681:

; 43   : 
; 44   : 	m_bFMOD_OK = TRUE ;

  0015b	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0015e	c7 40 04 01 00
	00 00		 mov	 DWORD PTR [eax+4], 1

; 45   : 
; 46   : 	FSOUND_SetSFXMasterVolume( 255 );

  00165	68 ff 00 00 00	 push	 255			; 000000ffH
  0016a	e8 00 00 00 00	 call	 _FSOUND_SetSFXMasterVolume@4

; 47   : 
; 48   : //
; 49   : // Dbg diags:
; 50   : //
; 51   : 	ods( "FSOUND_GetMaxChannels: %d\n", FSOUND_GetMaxChannels() );

  0016f	e8 00 00 00 00	 call	 _FSOUND_GetMaxChannels@0
  00174	50		 push	 eax
  00175	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@ENOEMALK@FSOUND_GetMaxChannels?3?5?$CFd?6?$AA@
  0017a	e8 00 00 00 00	 call	 ?ods@@YAXPADZZ		; ods
  0017f	83 c4 08	 add	 esp, 8

; 52   : 
; 53   : //
; 54   : // Get list of music files, and start off the first one:
; 55   : //
; 56   : 	m_nMusicFiles = 0 ;

  00182	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00185	c7 40 20 00 00
	00 00		 mov	 DWORD PTR [eax+32], 0

; 57   : 	m_ndxCurMusicFile = 0 ;

  0018c	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0018f	c7 40 24 00 00
	00 00		 mov	 DWORD PTR [eax+36], 0

; 58   : 	if( m_bMusic )

  00196	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00199	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0019d	85 c9		 test	 ecx, ecx
  0019f	0f 84 a2 00 00
	00		 je	 $L93683

; 59   : 	{
; 60   : 		if( szPath )

  001a5	83 7d 08 00	 cmp	 DWORD PTR _szPath$[ebp], 0
  001a9	74 0e		 je	 SHORT $L93684

; 61   : 			GetMusicFilesInFolder( szPath );

  001ab	8b 45 08	 mov	 eax, DWORD PTR _szPath$[ebp]
  001ae	50		 push	 eax
  001af	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  001b2	e8 00 00 00 00	 call	 ?GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z ; CSoundManager::GetMusicFilesInFolder

; 62   : 		else

  001b7	eb 07		 jmp	 SHORT $L93685
$L93684:

; 63   : 			m_bMusic = false ;

  001b9	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001bc	c6 40 08 00	 mov	 BYTE PTR [eax+8], 0
$L93685:

; 64   : 
; 65   : 		if( m_nMusicFiles > 0 )

  001c0	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001c3	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  001c7	7e 1b		 jle	 SHORT $L93686

; 66   : 			SongSkip( (int)( rnd() * (float)m_nMusicFiles ) );

  001c9	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  001ce	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001d1	da 48 20	 fimul	 DWORD PTR [eax+32]
  001d4	e8 00 00 00 00	 call	 __ftol2
  001d9	50		 push	 eax
  001da	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  001dd	e8 00 00 00 00	 call	 ?SongSkip@CSoundManager@@QAEHH@Z ; CSoundManager::SongSkip

; 67   : 		else

  001e2	eb 63		 jmp	 SHORT $L93683
$L93686:

; 68   : 		{
; 69   : 			m_bScrollFromLeft = false ;

  001e4	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001e7	c6 80 40 1c 00
	00 00		 mov	 BYTE PTR [eax+7232], 0

; 70   : 			strcpy( m_szInfo, "*** NO MP3s FOUND IN SPECIFIED FOLDER ***" );

  001ee	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CK@PIPFKNDE@?$CK?$CK?$CK?5NO?5MP3s?5FOUND?5IN?5SPECIFIED?5F@
  001f3	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001f6	05 38 18 00 00	 add	 eax, 6200		; 00001838H
  001fb	50		 push	 eax
  001fc	e8 00 00 00 00	 call	 _strcpy
  00201	83 c4 08	 add	 esp, 8

; 71   : 			m_fInfoLifetime = (float)strlen( m_szInfo ) * 0.08f ;

  00204	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00207	05 38 18 00 00	 add	 eax, 6200		; 00001838H
  0020c	50		 push	 eax
  0020d	e8 00 00 00 00	 call	 _strlen
  00212	83 c4 04	 add	 esp, 4
  00215	89 85 10 fe ff
	ff		 mov	 DWORD PTR tv249[ebp], eax
  0021b	c7 85 14 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv249[ebp+4], 0
  00225	df ad 10 fe ff
	ff		 fild	 QWORD PTR tv249[ebp]
  0022b	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3da3d70a
  00231	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  00234	d9 99 38 1c 00
	00		 fstp	 DWORD PTR [ecx+7224]

; 72   : 			m_fInfoAge = 0 ;

  0023a	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0023d	c7 80 3c 1c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7228], 0
$L93683:

; 73   : 		}
; 74   : 	}
; 75   : 
; 76   : //
; 77   : // Load all SFX samples (search order is MP3 then WAV)
; 78   : //
; 79   : 	m_nSFX = 0 ;

  00247	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0024a	c7 80 34 18 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+6196], 0

; 80   : 	if( m_bSFX )

  00254	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00257	0f b6 88 2c 08
	00 00		 movzx	 ecx, BYTE PTR [eax+2092]
  0025e	85 c9		 test	 ecx, ecx
  00260	0f 84 07 01 00
	00		 je	 $L93672

; 81   : 	{
; 82   : 		m_nSFX = NO_SFXs ;

  00266	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00269	c7 80 34 18 00
	00 0c 00 00 00	 mov	 DWORD PTR [eax+6196], 12 ; 0000000cH

; 83   : 		for( i = 0 ; i < m_nSFX ; i++ )

  00273	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$93676[ebp], 0
  0027d	eb 0f		 jmp	 SHORT $L93693
$L93694:
  0027f	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  00285	83 c0 01	 add	 eax, 1
  00288	89 85 dc fe ff
	ff		 mov	 DWORD PTR _i$93676[ebp], eax
$L93693:
  0028e	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00291	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _i$93676[ebp]
  00297	3b 88 34 18 00
	00		 cmp	 ecx, DWORD PTR [eax+6196]
  0029d	0f 8d ca 00 00
	00		 jge	 $L93672

; 84   : 		{
; 85   : 			sprintf( szFile, "..\\resource\\wav1\\%03d.MP3", i+1 );

  002a3	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  002a9	83 c0 01	 add	 eax, 1
  002ac	50		 push	 eax
  002ad	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BK@HFDKNLML@?4?4?2resource?2wav1?2?$CF03d?4MP3?$AA@
  002b2	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _szFile$[ebp]
  002b8	51		 push	 ecx
  002b9	e8 00 00 00 00	 call	 _sprintf
  002be	83 c4 0c	 add	 esp, 12			; 0000000cH

; 86   : 			m_pfssSFX[ i ] = FSOUND_Sample_Load( i, szFile, FSOUND_HW3D, 0 );

  002c1	6a 00		 push	 0
  002c3	68 00 10 00 00	 push	 4096			; 00001000H
  002c8	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _szFile$[ebp]
  002ce	50		 push	 eax
  002cf	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _i$93676[ebp]
  002d5	51		 push	 ecx
  002d6	e8 00 00 00 00	 call	 _FSOUND_Sample_Load@16
  002db	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _i$93676[ebp]
  002e1	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  002e4	89 84 91 34 08
	00 00		 mov	 DWORD PTR [ecx+edx*4+2100], eax

; 87   : 			if( !m_pfssSFX[ i ] )

  002eb	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  002f1	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  002f4	83 bc 81 34 08
	00 00 00	 cmp	 DWORD PTR [ecx+eax*4+2100], 0
  002fc	75 6a		 jne	 SHORT $L93697

; 88   : 			{
; 89   : 				sprintf( szFile, "..\\resource\\wav1\\%03d.WAV", i+1 );

  002fe	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  00304	83 c0 01	 add	 eax, 1
  00307	50		 push	 eax
  00308	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BK@EPPADKJF@?4?4?2resource?2wav1?2?$CF03d?4WAV?$AA@
  0030d	8d 8d e8 fe ff
	ff		 lea	 ecx, DWORD PTR _szFile$[ebp]
  00313	51		 push	 ecx
  00314	e8 00 00 00 00	 call	 _sprintf
  00319	83 c4 0c	 add	 esp, 12			; 0000000cH

; 90   : 				m_pfssSFX[ i ] = FSOUND_Sample_Load( i, szFile, FSOUND_HW3D, 0 );

  0031c	6a 00		 push	 0
  0031e	68 00 10 00 00	 push	 4096			; 00001000H
  00323	8d 85 e8 fe ff
	ff		 lea	 eax, DWORD PTR _szFile$[ebp]
  00329	50		 push	 eax
  0032a	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _i$93676[ebp]
  00330	51		 push	 ecx
  00331	e8 00 00 00 00	 call	 _FSOUND_Sample_Load@16
  00336	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _i$93676[ebp]
  0033c	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  0033f	89 84 91 34 08
	00 00		 mov	 DWORD PTR [ecx+edx*4+2100], eax

; 91   : 				if( !m_pfssSFX[ i ] )

  00346	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _i$93676[ebp]
  0034c	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  0034f	83 bc 81 34 08
	00 00 00	 cmp	 DWORD PTR [ecx+eax*4+2100], 0
  00357	75 0f		 jne	 SHORT $L93697

; 92   : 				{
; 93   : 					Msg( "Potential User-Error:\n\nCSoundManager::CSoundManager() - FSOUND_Sample_Load(szFile...) == NULL" );

  00359	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0FO@GCOJMBHH@Potential?5User?9Error?3?6?6CSoundMan@
  0035e	e8 00 00 00 00	 call	 ?Msg@@YAXPAD@Z		; Msg
  00363	83 c4 04	 add	 esp, 4

; 94   : 					return ;

  00366	eb 05		 jmp	 SHORT $L93672
$L93697:

; 95   : 				}
; 96   : 			}
; 97   : 		}

  00368	e9 12 ff ff ff	 jmp	 $L93694
$L93672:

; 98   : 	}
; 99   : }

  0036d	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00370	52		 push	 edx
  00371	8b cd		 mov	 ecx, ebp
  00373	50		 push	 eax
  00374	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L93907
  0037a	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0037f	58		 pop	 eax
  00380	5a		 pop	 edx
  00381	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00384	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00387	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0038c	5f		 pop	 edi
  0038d	5e		 pop	 esi
  0038e	5b		 pop	 ebx
  0038f	81 c4 f0 01 00
	00		 add	 esp, 496		; 000001f0H
  00395	3b ec		 cmp	 ebp, esp
  00397	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0039c	8b e5		 mov	 esp, ebp
  0039e	5d		 pop	 ebp
  0039f	c2 0c 00	 ret	 12			; 0000000cH
$L93907:
  003a2	01 00 00 00	 DD	 1
  003a6	00 00 00 00	 DD	 $L93906
$L93906:
  003aa	e8 fe ff ff	 DD	 -280			; fffffee8H
  003ae	00 01 00 00	 DD	 256			; 00000100H
  003b2	00 00 00 00	 DD	 $L93903
$L93903:
  003b6	73		 DB	 115			; 00000073H
  003b7	7a		 DB	 122			; 0000007aH
  003b8	46		 DB	 70			; 00000046H
  003b9	69		 DB	 105			; 00000069H
  003ba	6c		 DB	 108			; 0000006cH
  003bb	65		 DB	 101			; 00000065H
  003bc	00		 DB	 0
??0CSoundManager@@QAE@PADHH@Z ENDP			; CSoundManager::CSoundManager
_TEXT	ENDS
PUBLIC	??1CSoundManager@@QAE@XZ			; CSoundManager::~CSoundManager
EXTRN	_FSOUND_Stream_Stop@4:NEAR
EXTRN	_FSOUND_Stream_Close@4:NEAR
EXTRN	_free:NEAR
EXTRN	_FSOUND_Close@0:NEAR
EXTRN	_FSOUND_Sample_Free@4:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ??1CSoundManager@@QAE@XZ
_TEXT	SEGMENT
_i$93707 = -20
_this$ = -8
??1CSoundManager@@QAE@XZ PROC NEAR			; CSoundManager::~CSoundManager, COMDAT
; _this$ = ecx

; 102  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00013	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 103  : #ifndef USE_SOUND_SYSTEM
; 104  : 	return ;
; 105  : #endif 
; 106  : 	if( !m_bUseSoundSystem ) return ;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 38 00	 cmp	 DWORD PTR [eax], 0
  00029	75 05		 jne	 SHORT $L93704
  0002b	e9 bc 00 00 00	 jmp	 $L93703
$L93704:

; 107  : 
; 108  : // stop current song;
; 109  : 	if( m_pfssMusicStream )

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  00037	74 21		 je	 SHORT $L93705

; 110  : 	{
; 111  : 		if( m_bMusic_Playing ) FSOUND_Stream_Stop( m_pfssMusicStream );

  00039	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0003c	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  00040	74 0c		 je	 SHORT $L93706
  00042	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00045	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00048	51		 push	 ecx
  00049	e8 00 00 00 00	 call	 _FSOUND_Stream_Stop@4
$L93706:

; 112  : 		FSOUND_Stream_Close( m_pfssMusicStream );

  0004e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00051	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00054	51		 push	 ecx
  00055	e8 00 00 00 00	 call	 _FSOUND_Stream_Close@4
$L93705:

; 113  : 	}
; 114  : 
; 115  : // stop all sound fx;
; 116  : 	for( int i=0 ; i<m_nSFX ; i++ )

  0005a	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$93707[ebp], 0
  00061	eb 09		 jmp	 SHORT $L93708
$L93709:
  00063	8b 45 ec	 mov	 eax, DWORD PTR _i$93707[ebp]
  00066	83 c0 01	 add	 eax, 1
  00069	89 45 ec	 mov	 DWORD PTR _i$93707[ebp], eax
$L93708:
  0006c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006f	8b 4d ec	 mov	 ecx, DWORD PTR _i$93707[ebp]
  00072	3b 88 34 18 00
	00		 cmp	 ecx, DWORD PTR [eax+6196]
  00078	7d 25		 jge	 SHORT $L93710

; 117  : 		if( m_pfssSFX[i] ) FSOUND_Sample_Free( m_pfssSFX[i] );

  0007a	8b 45 ec	 mov	 eax, DWORD PTR _i$93707[ebp]
  0007d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00080	83 bc 81 34 08
	00 00 00	 cmp	 DWORD PTR [ecx+eax*4+2100], 0
  00088	74 13		 je	 SHORT $L93711
  0008a	8b 45 ec	 mov	 eax, DWORD PTR _i$93707[ebp]
  0008d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00090	8b 94 81 34 08
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+2100]
  00097	52		 push	 edx
  00098	e8 00 00 00 00	 call	 _FSOUND_Sample_Free@4
$L93711:

; 118  : 
; 119  : // deallocate track list;
; 120  : 	for( i=0 ; i<m_nMusicFiles ; i++ )

  0009d	eb c4		 jmp	 SHORT $L93709
$L93710:
  0009f	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$93707[ebp], 0
  000a6	eb 09		 jmp	 SHORT $L93712
$L93713:
  000a8	8b 45 ec	 mov	 eax, DWORD PTR _i$93707[ebp]
  000ab	83 c0 01	 add	 eax, 1
  000ae	89 45 ec	 mov	 DWORD PTR _i$93707[ebp], eax
$L93712:
  000b1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b4	8b 4d ec	 mov	 ecx, DWORD PTR _i$93707[ebp]
  000b7	3b 48 20	 cmp	 ecx, DWORD PTR [eax+32]
  000ba	7d 2b		 jge	 SHORT $L93714

; 121  : 	{
; 122  : 		free( m_pszMusicFiles[i] );

  000bc	8b 45 ec	 mov	 eax, DWORD PTR _i$93707[ebp]
  000bf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000c2	8b 54 81 28	 mov	 edx, DWORD PTR [ecx+eax*4+40]
  000c6	52		 push	 edx
  000c7	e8 00 00 00 00	 call	 _free
  000cc	83 c4 04	 add	 esp, 4

; 123  : 		free( m_pszMusicFilesShort[i] );

  000cf	8b 45 ec	 mov	 eax, DWORD PTR _i$93707[ebp]
  000d2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d5	8b 94 81 28 04
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+1064]
  000dc	52		 push	 edx
  000dd	e8 00 00 00 00	 call	 _free
  000e2	83 c4 04	 add	 esp, 4

; 124  : 	}

  000e5	eb c1		 jmp	 SHORT $L93713
$L93714:

; 125  : 
; 126  : 	FSOUND_Close() ;

  000e7	e8 00 00 00 00	 call	 _FSOUND_Close@0
$L93703:

; 127  : }

  000ec	5f		 pop	 edi
  000ed	5e		 pop	 esi
  000ee	5b		 pop	 ebx
  000ef	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  000f5	3b ec		 cmp	 ebp, esp
  000f7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000fc	8b e5		 mov	 esp, ebp
  000fe	5d		 pop	 ebp
  000ff	c3		 ret	 0
??1CSoundManager@@QAE@XZ ENDP				; CSoundManager::~CSoundManager
_TEXT	ENDS
PUBLIC	?PlaySFX@CSoundManager@@QAEHH@Z			; CSoundManager::PlaySFX
PUBLIC	??_C@_0P@IKGFOFMG@?$CFs?5?$CI?$CFd?1?$CFd?$CJ?5?$DO?$DO?$DO?$AA@ ; `string'
PUBLIC	??_C@_0P@EJMKLPMO@?$DM?$DM?$DM?5?$CI?$CFd?1?$CFd?$CJ?5?$CFs?$AA@ ; `string'
PUBLIC	__real@3d8f5c29
EXTRN	_FSOUND_Stream_OpenFile@12:NEAR
EXTRN	_FSOUND_Stream_Play@8:NEAR
EXTRN	_FSOUND_Stream_GetLengthMs@4:NEAR
EXTRN	?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z:NEAR	; DXUtil_Timer
EXTRN	_FSOUND_SetVolume@8:NEAR
;	COMDAT ??_C@_0P@IKGFOFMG@?$CFs?5?$CI?$CFd?1?$CFd?$CJ?5?$DO?$DO?$DO?$AA@
CONST	SEGMENT
??_C@_0P@IKGFOFMG@?$CFs?5?$CI?$CFd?1?$CFd?$CJ?5?$DO?$DO?$DO?$AA@ DB '%s ('
	DB	'%d/%d) >>>', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@EJMKLPMO@?$DM?$DM?$DM?5?$CI?$CFd?1?$CFd?$CJ?5?$CFs?$AA@
CONST	SEGMENT
??_C@_0P@EJMKLPMO@?$DM?$DM?$DM?5?$CI?$CFd?1?$CFd?$CJ?5?$CFs?$AA@ DB '<<< '
	DB	'(%d/%d) %s', 00H				; `string'
CONST	ENDS
;	COMDAT __real@3d8f5c29
CONST	SEGMENT
__real@3d8f5c29 DD 03d8f5c29r			; 0.07
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?SongSkip@CSoundManager@@QAEHH@Z
_TEXT	SEGMENT
tv275 = -212
tv253 = -208
_this$ = -8
_nSkip$ = 8
?SongSkip@CSoundManager@@QAEHH@Z PROC NEAR		; CSoundManager::SongSkip, COMDAT
; _this$ = ecx

; 133  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 2c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-212]
  00013	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 134  : #ifndef USE_SOUND_SYSTEM
; 135  : 	return -1 ;
; 136  : #endif 
; 137  : 	if( !m_bUseSoundSystem ) return -1 ;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 38 00	 cmp	 DWORD PTR [eax], 0
  00029	75 08		 jne	 SHORT $L93719
  0002b	83 c8 ff	 or	 eax, -1
  0002e	e9 3b 02 00 00	 jmp	 $L93718
$L93719:

; 138  : 	if( !m_bMusic ) 		 return -1 ;

  00033	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00036	0f b6 48 08	 movzx	 ecx, BYTE PTR [eax+8]
  0003a	85 c9		 test	 ecx, ecx
  0003c	75 08		 jne	 SHORT $L93720
  0003e	83 c8 ff	 or	 eax, -1
  00041	e9 28 02 00 00	 jmp	 $L93718
$L93720:

; 139  : 
; 140  : // sanity check;
; 141  : 	if( 0==m_nMusicFiles )

  00046	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00049	83 78 20 00	 cmp	 DWORD PTR [eax+32], 0
  0004d	75 08		 jne	 SHORT $L93721

; 142  : 		return -1 ;

  0004f	83 c8 ff	 or	 eax, -1
  00052	e9 17 02 00 00	 jmp	 $L93718
$L93721:

; 143  : 
; 144  : // skip track index;
; 145  : 	m_ndxCurMusicFile += nSkip ;

  00057	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005a	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  0005d	03 4d 08	 add	 ecx, DWORD PTR _nSkip$[ebp]
  00060	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00063	89 4a 24	 mov	 DWORD PTR [edx+36], ecx

; 146  : 	if( m_ndxCurMusicFile > m_nMusicFiles-1 ) m_ndxCurMusicFile = 0 ;

  00066	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00069	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0006c	83 e9 01	 sub	 ecx, 1
  0006f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00072	39 4a 24	 cmp	 DWORD PTR [edx+36], ecx
  00075	7e 0a		 jle	 SHORT $L93722
  00077	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007a	c7 40 24 00 00
	00 00		 mov	 DWORD PTR [eax+36], 0
$L93722:

; 147  : 	if( m_ndxCurMusicFile < 0 )				  m_ndxCurMusicFile = m_nMusicFiles-1 ;

  00081	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00084	83 78 24 00	 cmp	 DWORD PTR [eax+36], 0
  00088	7d 0f		 jge	 SHORT $L93723
  0008a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008d	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00090	83 e9 01	 sub	 ecx, 1
  00093	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00096	89 4a 24	 mov	 DWORD PTR [edx+36], ecx
$L93723:

; 148  : 
; 149  : // stop current track;
; 150  : 	if( m_pfssMusicStream )

  00099	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009c	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  000a0	74 21		 je	 SHORT $L93724

; 151  : 	{
; 152  : 		if( m_bMusic_Playing ) FSOUND_Stream_Stop( m_pfssMusicStream );

  000a2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000a5	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  000a9	74 0c		 je	 SHORT $L93725
  000ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000b1	51		 push	 ecx
  000b2	e8 00 00 00 00	 call	 _FSOUND_Stream_Stop@4
$L93725:

; 153  : 		FSOUND_Stream_Close( m_pfssMusicStream );

  000b7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ba	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000bd	51		 push	 ecx
  000be	e8 00 00 00 00	 call	 _FSOUND_Stream_Close@4
$L93724:

; 154  : 	}
; 155  : 
; 156  : 	m_fTrackBirthday = DXUtil_Timer( TIMER_GETABSOLUTETIME );

  000c3	6a 04		 push	 4
  000c5	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  000ca	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000cd	d9 58 14	 fstp	 DWORD PTR [eax+20]

; 157  : 
; 158  : // start new track on loop;
; 159  : 	m_pfssMusicStream = FSOUND_Stream_OpenFile(m_pszMusicFiles[m_ndxCurMusicFile], FSOUND_2D | FSOUND_LOOP_NORMAL, 0) ;

  000d0	6a 00		 push	 0
  000d2	68 02 20 00 00	 push	 8194			; 00002002H
  000d7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000da	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  000dd	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000e0	8b 44 8a 28	 mov	 eax, DWORD PTR [edx+ecx*4+40]
  000e4	50		 push	 eax
  000e5	e8 00 00 00 00	 call	 _FSOUND_Stream_OpenFile@12
  000ea	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000ed	89 41 18	 mov	 DWORD PTR [ecx+24], eax

; 160  : 	if( m_pfssMusicStream )

  000f0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f3	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  000f7	74 4e		 je	 SHORT $L93726

; 161  : 	{
; 162  : 		m_nMusicChannel = FSOUND_Stream_Play( FSOUND_FREE, m_pfssMusicStream );

  000f9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fc	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000ff	51		 push	 ecx
  00100	6a ff		 push	 -1
  00102	e8 00 00 00 00	 call	 _FSOUND_Stream_Play@8
  00107	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0010a	89 82 28 08 00
	00		 mov	 DWORD PTR [edx+2088], eax

; 163  : 		if( m_nMusicChannel != -1 )

  00110	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00113	83 b8 28 08 00
	00 ff		 cmp	 DWORD PTR [eax+2088], -1
  0011a	74 2b		 je	 SHORT $L93726

; 164  : 		{
; 165  : 			FSOUND_SetVolume( m_nMusicChannel, (int)( m_fMusicMasterVol * 255 ) );

  0011c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0011f	d9 40 0c	 fld	 DWORD PTR [eax+12]
  00122	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  00128	e8 00 00 00 00	 call	 __ftol2
  0012d	50		 push	 eax
  0012e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00131	8b 91 28 08 00
	00		 mov	 edx, DWORD PTR [ecx+2088]
  00137	52		 push	 edx
  00138	e8 00 00 00 00	 call	 _FSOUND_SetVolume@8

; 166  : 			m_bMusic_Playing = TRUE ;

  0013d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00140	c7 40 1c 01 00
	00 00		 mov	 DWORD PTR [eax+28], 1
$L93726:

; 167  : 		}
; 168  : 	}
; 169  : 	if( m_bMusic_Playing )

  00147	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0014a	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  0014e	74 20		 je	 SHORT $L93729

; 170  : 		m_fTrackLengthMS = (float)FSOUND_Stream_GetLengthMs( m_pfssMusicStream ) ;

  00150	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00153	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00156	51		 push	 ecx
  00157	e8 00 00 00 00	 call	 _FSOUND_Stream_GetLengthMs@4
  0015c	89 85 30 ff ff
	ff		 mov	 DWORD PTR tv253[ebp], eax
  00162	db 85 30 ff ff
	ff		 fild	 DWORD PTR tv253[ebp]
  00168	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0016b	d9 5a 10	 fstp	 DWORD PTR [edx+16]

; 171  : 	else

  0016e	eb 0a		 jmp	 SHORT $L93731
$L93729:

; 172  : 		m_fTrackLengthMS = 1000 * 5 ;	// track may have failed to load, give it 5 seconds of silence before autoskipping.

  00170	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00173	c7 40 10 00 40
	9c 45		 mov	 DWORD PTR [eax+16], 1167867904 ; 459c4000H
$L93731:

; 173  : 
; 174  : // setup info string;
; 175  : 	if( nSkip >= 0 )

  0017a	83 7d 08 00	 cmp	 DWORD PTR _nSkip$[ebp], 0
  0017e	7c 0c		 jl	 SHORT $L93732

; 176  : 		m_bScrollFromLeft = false ;

  00180	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00183	c6 80 40 1c 00
	00 00		 mov	 BYTE PTR [eax+7232], 0

; 177  : 	else

  0018a	eb 0a		 jmp	 SHORT $L93733
$L93732:

; 178  : 		m_bScrollFromLeft = true ;

  0018c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0018f	c6 80 40 1c 00
	00 01		 mov	 BYTE PTR [eax+7232], 1
$L93733:

; 179  : 
; 180  : 	if( m_bScrollFromLeft )

  00196	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00199	0f b6 88 40 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7232]
  001a0	85 c9		 test	 ecx, ecx
  001a2	74 3b		 je	 SHORT $L93734

; 181  : 	{
; 182  : 		sprintf( m_szInfo, "%s (%d/%d) >>>",
; 183  : 				 m_pszMusicFilesShort[ m_ndxCurMusicFile ],
; 184  : 				 m_ndxCurMusicFile + 1,
; 185  : 				 m_nMusicFiles );

  001a4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001a7	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  001aa	51		 push	 ecx
  001ab	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001ae	8b 42 24	 mov	 eax, DWORD PTR [edx+36]
  001b1	83 c0 01	 add	 eax, 1
  001b4	50		 push	 eax
  001b5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001b8	8b 51 24	 mov	 edx, DWORD PTR [ecx+36]
  001bb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001be	8b 8c 90 28 04
	00 00		 mov	 ecx, DWORD PTR [eax+edx*4+1064]
  001c5	51		 push	 ecx
  001c6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0P@IKGFOFMG@?$CFs?5?$CI?$CFd?1?$CFd?$CJ?5?$DO?$DO?$DO?$AA@
  001cb	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001ce	81 c2 38 18 00
	00		 add	 edx, 6200		; 00001838H
  001d4	52		 push	 edx
  001d5	e8 00 00 00 00	 call	 _sprintf
  001da	83 c4 14	 add	 esp, 20			; 00000014H

; 186  : 	}
; 187  : 
; 188  : 	else

  001dd	eb 39		 jmp	 SHORT $L93736
$L93734:

; 189  : 	{
; 190  : 		sprintf( m_szInfo, "<<< (%d/%d) %s", 
; 191  : 				 m_ndxCurMusicFile + 1,
; 192  : 				 m_nMusicFiles,
; 193  : 				 m_pszMusicFilesShort[ m_ndxCurMusicFile ] );

  001df	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001e2	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  001e5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001e8	8b 84 8a 28 04
	00 00		 mov	 eax, DWORD PTR [edx+ecx*4+1064]
  001ef	50		 push	 eax
  001f0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001f3	8b 51 20	 mov	 edx, DWORD PTR [ecx+32]
  001f6	52		 push	 edx
  001f7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001fa	8b 48 24	 mov	 ecx, DWORD PTR [eax+36]
  001fd	83 c1 01	 add	 ecx, 1
  00200	51		 push	 ecx
  00201	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0P@EJMKLPMO@?$DM?$DM?$DM?5?$CI?$CFd?1?$CFd?$CJ?5?$CFs?$AA@
  00206	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00209	81 c2 38 18 00
	00		 add	 edx, 6200		; 00001838H
  0020f	52		 push	 edx
  00210	e8 00 00 00 00	 call	 _sprintf
  00215	83 c4 14	 add	 esp, 20			; 00000014H
$L93736:

; 194  : 	}
; 195  : 	m_fInfoLifetime = (float)strlen( m_szInfo ) * 0.07f ;

  00218	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0021b	05 38 18 00 00	 add	 eax, 6200		; 00001838H
  00220	50		 push	 eax
  00221	e8 00 00 00 00	 call	 _strlen
  00226	83 c4 04	 add	 esp, 4
  00229	89 85 2c ff ff
	ff		 mov	 DWORD PTR tv275[ebp], eax
  0022f	c7 85 30 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv275[ebp+4], 0
  00239	df ad 2c ff ff
	ff		 fild	 QWORD PTR tv275[ebp]
  0023f	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3d8f5c29
  00245	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00248	d9 99 38 1c 00
	00		 fstp	 DWORD PTR [ecx+7224]

; 196  : 	m_fInfoAge = 0 ;

  0024e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00251	c7 80 3c 1c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7228], 0

; 197  : 
; 198  : 	PlaySFX( SFX_MENU_MOVE );

  0025b	6a 00		 push	 0
  0025d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00260	e8 00 00 00 00	 call	 ?PlaySFX@CSoundManager@@QAEHH@Z ; CSoundManager::PlaySFX

; 199  : 	return m_nMusicChannel ;

  00265	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00268	8b 80 28 08 00
	00		 mov	 eax, DWORD PTR [eax+2088]
$L93718:

; 200  : }

  0026e	5f		 pop	 edi
  0026f	5e		 pop	 esi
  00270	5b		 pop	 ebx
  00271	81 c4 d4 00 00
	00		 add	 esp, 212		; 000000d4H
  00277	3b ec		 cmp	 ebp, esp
  00279	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0027e	8b e5		 mov	 esp, ebp
  00280	5d		 pop	 ebp
  00281	c2 04 00	 ret	 4
?SongSkip@CSoundManager@@QAEHH@Z ENDP			; CSoundManager::SongSkip
_TEXT	ENDS
PUBLIC	??0D3DXCOLOR@@QAE@MMMM@Z			; D3DXCOLOR::D3DXCOLOR
PUBLIC	??BD3DXCOLOR@@QBEKXZ				; D3DXCOLOR::operator unsigned long
PUBLIC	?Render@CSoundManager@@QAEJPAVCx7@@M@Z		; CSoundManager::Render
PUBLIC	__real@00000000
PUBLIC	__real@3f800000
PUBLIC	__real@40000000
EXTRN	?SetRenderStateDM@CD3DFont@@QAEXXZ:NEAR		; CD3DFont::SetRenderStateDM
EXTRN	?ResetRenderStateDM@CD3DFont@@QAEXXZ:NEAR	; CD3DFont::ResetRenderStateDM
EXTRN	?DrawTextScaledDM@CD3DFont@@QAEJMMMMMKPADKPAU_D3DVIEWPORT8@@@Z:NEAR ; CD3DFont::DrawTextScaledDM
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Render@CSoundManager@@QAEJPAVCx7@@M@Z
_TEXT	SEGMENT
tv193 = -332
_fX$ = -128
_fY$ = -116
_fAmountToScroll$ = -104
_fLenScreenX$ = -92
_fYScale$ = -80
_fXScale$ = -68
_c$ = -56
_i$ = -32
_x$ = -20
_this$ = -8
_pX7$ = 8
_fFPS$ = 12
?Render@CSoundManager@@QAEJPAVCx7@@M@Z PROC NEAR	; CSoundManager::Render, COMDAT
; _this$ = ecx

; 206  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 4c 01 00
	00		 sub	 esp, 332		; 0000014cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd b4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-332]
  00013	b9 53 00 00 00	 mov	 ecx, 83			; 00000053H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 207  : 	if( 0==m_fInfoLifetime )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@00000000
  0002c	d8 98 38 1c 00
	00		 fcomp	 DWORD PTR [eax+7224]
  00032	df e0		 fnstsw	 ax
  00034	f6 c4 44	 test	 ah, 68			; 00000044H
  00037	7a 07		 jp	 SHORT $L93744

; 208  : 		return S_OK ;

  00039	33 c0		 xor	 eax, eax
  0003b	e9 88 01 00 00	 jmp	 $L93743
$L93744:

; 209  : 	
; 210  : // advance age;
; 211  : 	m_fInfoAge += ( 1 / fFPS );

  00040	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3f800000
  00046	d8 75 0c	 fdiv	 DWORD PTR _fFPS$[ebp]
  00049	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004c	d8 80 3c 1c 00
	00		 fadd	 DWORD PTR [eax+7228]
  00052	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00055	d9 99 3c 1c 00
	00		 fstp	 DWORD PTR [ecx+7228]

; 212  : 	if( m_fInfoAge >= m_fInfoLifetime )

  0005b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00061	d9 80 3c 1c 00
	00		 fld	 DWORD PTR [eax+7228]
  00067	d8 99 38 1c 00
	00		 fcomp	 DWORD PTR [ecx+7224]
  0006d	df e0		 fnstsw	 ax
  0006f	f6 c4 01	 test	 ah, 1
  00072	75 14		 jne	 SHORT $L93746

; 213  : 	{
; 214  : 		m_fInfoLifetime = 0 ;

  00074	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00077	c7 80 38 1c 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+7224], 0

; 215  : 		return S_OK ;

  00081	33 c0		 xor	 eax, eax
  00083	e9 40 01 00 00	 jmp	 $L93743
$L93746:

; 216  : 	}
; 217  : 
; 218  : // font hack!
; 219  : 	float x = 0.75f ;

  00088	c7 45 ec 00 00
	40 3f		 mov	 DWORD PTR _x$[ebp], 1061158912 ; 3f400000H

; 220  : 
; 221  : // render;
; 222  : 	float	  i = m_fInfoAge / m_fInfoLifetime ;

  0008f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00092	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00095	d9 80 3c 1c 00
	00		 fld	 DWORD PTR [eax+7228]
  0009b	d8 b1 38 1c 00
	00		 fdiv	 DWORD PTR [ecx+7224]
  000a1	d9 5d e0	 fstp	 DWORD PTR _i$[ebp]

; 223  : 	D3DXCOLOR c( 1,1,1, 1 - ( i * 1 ) );

  000a4	d9 45 e0	 fld	 DWORD PTR _i$[ebp]
  000a7	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3f800000
  000ad	d8 2d 00 00 00
	00		 fsubr	 DWORD PTR __real@3f800000
  000b3	51		 push	 ecx
  000b4	d9 1c 24	 fstp	 DWORD PTR [esp]
  000b7	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000bc	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000c1	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000c6	8d 4d c8	 lea	 ecx, DWORD PTR _c$[ebp]
  000c9	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR

; 224  : 	float	  fXScale = 0.1f ;

  000ce	c7 45 bc cd cc
	cc 3d		 mov	 DWORD PTR _fXScale$[ebp], 1036831949 ; 3dcccccdH

; 225  : 	float	  fYScale = 0.1f ;

  000d5	c7 45 b0 cd cc
	cc 3d		 mov	 DWORD PTR _fYScale$[ebp], 1036831949 ; 3dcccccdH

; 226  : 	float	  fLenScreenX = strlen( m_szInfo ) * ( fXScale / 2 );

  000dc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000df	05 38 18 00 00	 add	 eax, 6200		; 00001838H
  000e4	50		 push	 eax
  000e5	e8 00 00 00 00	 call	 _strlen
  000ea	83 c4 04	 add	 esp, 4
  000ed	89 85 b4 fe ff
	ff		 mov	 DWORD PTR tv193[ebp], eax
  000f3	c7 85 b8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv193[ebp+4], 0
  000fd	df ad b4 fe ff
	ff		 fild	 QWORD PTR tv193[ebp]
  00103	d9 45 bc	 fld	 DWORD PTR _fXScale$[ebp]
  00106	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@40000000
  0010c	de c9		 fmulp	 ST(1), ST(0)
  0010e	d9 5d a4	 fstp	 DWORD PTR _fLenScreenX$[ebp]

; 227  : 	float	  fAmountToScroll = fLenScreenX + 1 ;

  00111	d9 45 a4	 fld	 DWORD PTR _fLenScreenX$[ebp]
  00114	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f800000
  0011a	d9 5d 98	 fstp	 DWORD PTR _fAmountToScroll$[ebp]

; 228  : 	float	  fY = 0 ;

  0011d	c7 45 8c 00 00
	00 00		 mov	 DWORD PTR _fY$[ebp], 0

; 229  : 	float	  fX ;
; 230  : 	if( m_bScrollFromLeft )

  00124	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00127	0f b6 88 40 1c
	00 00		 movzx	 ecx, BYTE PTR [eax+7232]
  0012e	85 c9		 test	 ecx, ecx
  00130	74 15		 je	 SHORT $L93757

; 231  : 		fX = (-fLenScreenX * x) + (fAmountToScroll * i) ;

  00132	d9 45 a4	 fld	 DWORD PTR _fLenScreenX$[ebp]
  00135	d9 e0		 fchs
  00137	d8 4d ec	 fmul	 DWORD PTR _x$[ebp]
  0013a	d9 45 98	 fld	 DWORD PTR _fAmountToScroll$[ebp]
  0013d	d8 4d e0	 fmul	 DWORD PTR _i$[ebp]
  00140	de c1		 faddp	 ST(1), ST(0)
  00142	d9 5d 80	 fstp	 DWORD PTR _fX$[ebp]

; 232  : 	else

  00145	eb 0f		 jmp	 SHORT $L93758
$L93757:

; 233  : 		fX = 1 - ( fAmountToScroll * i );

  00147	d9 45 98	 fld	 DWORD PTR _fAmountToScroll$[ebp]
  0014a	d8 4d e0	 fmul	 DWORD PTR _i$[ebp]
  0014d	d8 2d 00 00 00
	00		 fsubr	 DWORD PTR __real@3f800000
  00153	d9 5d 80	 fstp	 DWORD PTR _fX$[ebp]
$L93758:

; 234  : 
; 235  : 	pX7->m_pTitleFont->SetRenderStateDM() ;

  00156	8b 45 08	 mov	 eax, DWORD PTR _pX7$[ebp]
  00159	8b 88 f4 a8 02
	00		 mov	 ecx, DWORD PTR [eax+174324]
  0015f	e8 00 00 00 00	 call	 ?SetRenderStateDM@CD3DFont@@QAEXXZ ; CD3DFont::SetRenderStateDM

; 236  : 	pX7->m_pTitleFont->DrawTextScaledDM( (fX*2)-1, (fY*2)-1, 0, fXScale, fYScale, c, m_szInfo, D3DFONT_FILTERED, &pX7->m_vpViewport );

  00164	8b 45 08	 mov	 eax, DWORD PTR _pX7$[ebp]
  00167	05 3c a9 02 00	 add	 eax, 174396		; 0002a93cH
  0016c	50		 push	 eax
  0016d	6a 04		 push	 4
  0016f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00172	81 c1 38 18 00
	00		 add	 ecx, 6200		; 00001838H
  00178	51		 push	 ecx
  00179	8d 4d c8	 lea	 ecx, DWORD PTR _c$[ebp]
  0017c	e8 00 00 00 00	 call	 ??BD3DXCOLOR@@QBEKXZ	; D3DXCOLOR::operator unsigned long
  00181	50		 push	 eax
  00182	8b 55 b0	 mov	 edx, DWORD PTR _fYScale$[ebp]
  00185	52		 push	 edx
  00186	8b 45 bc	 mov	 eax, DWORD PTR _fXScale$[ebp]
  00189	50		 push	 eax
  0018a	6a 00		 push	 0
  0018c	d9 45 8c	 fld	 DWORD PTR _fY$[ebp]
  0018f	dc c0		 fadd	 ST(0), ST(0)
  00191	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f800000
  00197	51		 push	 ecx
  00198	d9 1c 24	 fstp	 DWORD PTR [esp]
  0019b	d9 45 80	 fld	 DWORD PTR _fX$[ebp]
  0019e	dc c0		 fadd	 ST(0), ST(0)
  001a0	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f800000
  001a6	51		 push	 ecx
  001a7	d9 1c 24	 fstp	 DWORD PTR [esp]
  001aa	8b 4d 08	 mov	 ecx, DWORD PTR _pX7$[ebp]
  001ad	8b 89 f4 a8 02
	00		 mov	 ecx, DWORD PTR [ecx+174324]
  001b3	e8 00 00 00 00	 call	 ?DrawTextScaledDM@CD3DFont@@QAEJMMMMMKPADKPAU_D3DVIEWPORT8@@@Z ; CD3DFont::DrawTextScaledDM

; 237  : 	pX7->m_pTitleFont->ResetRenderStateDM() ;

  001b8	8b 45 08	 mov	 eax, DWORD PTR _pX7$[ebp]
  001bb	8b 88 f4 a8 02
	00		 mov	 ecx, DWORD PTR [eax+174324]
  001c1	e8 00 00 00 00	 call	 ?ResetRenderStateDM@CD3DFont@@QAEXXZ ; CD3DFont::ResetRenderStateDM

; 238  : 
; 239  : 	return S_OK ;

  001c6	33 c0		 xor	 eax, eax
$L93743:

; 240  : }

  001c8	52		 push	 edx
  001c9	8b cd		 mov	 ecx, ebp
  001cb	50		 push	 eax
  001cc	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L93930
  001d2	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001d7	58		 pop	 eax
  001d8	5a		 pop	 edx
  001d9	5f		 pop	 edi
  001da	5e		 pop	 esi
  001db	5b		 pop	 ebx
  001dc	81 c4 4c 01 00
	00		 add	 esp, 332		; 0000014cH
  001e2	3b ec		 cmp	 ebp, esp
  001e4	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001e9	8b e5		 mov	 esp, ebp
  001eb	5d		 pop	 ebp
  001ec	c2 08 00	 ret	 8
$L93930:
  001ef	01 00 00 00	 DD	 1
  001f3	00 00 00 00	 DD	 $L93929
$L93929:
  001f7	c8 ff ff ff	 DD	 -56			; ffffffc8H
  001fb	10 00 00 00	 DD	 16			; 00000010H
  001ff	00 00 00 00	 DD	 $L93928
$L93928:
  00203	63		 DB	 99			; 00000063H
  00204	00		 DB	 0
?Render@CSoundManager@@QAEJPAVCx7@@M@Z ENDP		; CSoundManager::Render
_TEXT	ENDS
PUBLIC	??_C@_0CM@KOJBNNOC@ERROR?3?5PlaySFX?$CI?$CJ?5?9?5Couldn?8t?5play@ ; `string'
EXTRN	_FSOUND_PlaySound@8:NEAR
;	COMDAT ??_C@_0CM@KOJBNNOC@ERROR?3?5PlaySFX?$CI?$CJ?5?9?5Couldn?8t?5play@
CONST	SEGMENT
??_C@_0CM@KOJBNNOC@ERROR?3?5PlaySFX?$CI?$CJ?5?9?5Couldn?8t?5play@ DB 'ERR'
	DB	'OR: PlaySFX() - Couldn''t play a sample.', 0aH, 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?PlaySFX@CSoundManager@@QAEHH@Z
_TEXT	SEGMENT
_c$ = -20
_this$ = -8
_SFX$ = 8
?PlaySFX@CSoundManager@@QAEHH@Z PROC NEAR		; CSoundManager::PlaySFX, COMDAT
; _this$ = ecx

; 254  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00013	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 255  : #ifndef USE_SOUND_SYSTEM
; 256  : 	return -1 ;
; 257  : #endif 
; 258  : 	if( !m_bUseSoundSystem ) return -1 ;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 38 00	 cmp	 DWORD PTR [eax], 0
  00029	75 05		 jne	 SHORT $L93764
  0002b	83 c8 ff	 or	 eax, -1
  0002e	eb 64		 jmp	 SHORT $L93763
$L93764:

; 259  : 	if( !m_bSFX ) 			 return -1 ;

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	0f b6 88 2c 08
	00 00		 movzx	 ecx, BYTE PTR [eax+2092]
  0003a	85 c9		 test	 ecx, ecx
  0003c	75 05		 jne	 SHORT $L93765
  0003e	83 c8 ff	 or	 eax, -1
  00041	eb 51		 jmp	 SHORT $L93763
$L93765:

; 260  : 
; 261  : 	int c = FSOUND_PlaySound( FSOUND_FREE, m_pfssSFX[ SFX ] );

  00043	8b 45 08	 mov	 eax, DWORD PTR _SFX$[ebp]
  00046	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00049	8b 94 81 34 08
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+2100]
  00050	52		 push	 edx
  00051	6a ff		 push	 -1
  00053	e8 00 00 00 00	 call	 _FSOUND_PlaySound@8
  00058	89 45 ec	 mov	 DWORD PTR _c$[ebp], eax

; 262  : 	if( c != -1 )

  0005b	83 7d ec ff	 cmp	 DWORD PTR _c$[ebp], -1
  0005f	74 23		 je	 SHORT $L93767

; 263  : 	{
; 264  : 		FSOUND_SetVolume( c, (int)( m_fSFXMasterVol * 255 ) );

  00061	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00064	d9 80 30 08 00
	00		 fld	 DWORD PTR [eax+2096]
  0006a	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  00070	e8 00 00 00 00	 call	 __ftol2
  00075	50		 push	 eax
  00076	8b 4d ec	 mov	 ecx, DWORD PTR _c$[ebp]
  00079	51		 push	 ecx
  0007a	e8 00 00 00 00	 call	 _FSOUND_SetVolume@8

; 265  : 		return c ;

  0007f	8b 45 ec	 mov	 eax, DWORD PTR _c$[ebp]
  00082	eb 10		 jmp	 SHORT $L93763
$L93767:

; 266  : 	}
; 267  : 	else
; 268  : 	{
; 269  : 		ods( "ERROR: PlaySFX() - Couldn't play a sample.\n" );

  00084	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CM@KOJBNNOC@ERROR?3?5PlaySFX?$CI?$CJ?5?9?5Couldn?8t?5play@
  00089	e8 00 00 00 00	 call	 ?ods@@YAXPADZZ		; ods
  0008e	83 c4 04	 add	 esp, 4

; 270  : 		return -1 ;

  00091	83 c8 ff	 or	 eax, -1
$L93763:

; 271  : 	}
; 272  : }

  00094	5f		 pop	 edi
  00095	5e		 pop	 esi
  00096	5b		 pop	 ebx
  00097	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  0009d	3b ec		 cmp	 ebp, esp
  0009f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a4	8b e5		 mov	 esp, ebp
  000a6	5d		 pop	 ebp
  000a7	c2 04 00	 ret	 4
?PlaySFX@CSoundManager@@QAEHH@Z ENDP			; CSoundManager::PlaySFX
_TEXT	ENDS
PUBLIC	?PlaySFX3D@CSoundManager@@QAEHHPAUD3DXVECTOR3@@0M@Z ; CSoundManager::PlaySFX3D
PUBLIC	??_C@_0CO@FDJEOOMN@ERROR?3?5PlaySFX3D?$CI?$CJ?5?9?5Couldn?8t?5pl@ ; `string'
EXTRN	_FSOUND_3D_SetAttributes@12:NEAR
;	COMDAT ??_C@_0CO@FDJEOOMN@ERROR?3?5PlaySFX3D?$CI?$CJ?5?9?5Couldn?8t?5pl@
CONST	SEGMENT
??_C@_0CO@FDJEOOMN@ERROR?3?5PlaySFX3D?$CI?$CJ?5?9?5Couldn?8t?5pl@ DB 'ERR'
	DB	'OR: PlaySFX3D() - Couldn''t play a sample.', 0aH, 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?PlaySFX3D@CSoundManager@@QAEHHPAUD3DXVECTOR3@@0M@Z
_TEXT	SEGMENT
_fEffectiveVol$93782 = -32
_c$ = -20
_this$ = -8
_SFX$ = 8
_pvPos$ = 12
_pvVel$ = 16
_fVol$ = 20
?PlaySFX3D@CSoundManager@@QAEHHPAUD3DXVECTOR3@@0M@Z PROC NEAR ; CSoundManager::PlaySFX3D, COMDAT
; _this$ = ecx

; 282  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e4 00 00
	00		 sub	 esp, 228		; 000000e4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 1c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-228]
  00013	b9 39 00 00 00	 mov	 ecx, 57			; 00000039H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 283  : #ifndef USE_SOUND_SYSTEM
; 284  : 	return -1 ;
; 285  : #endif 
; 286  : 	if( !m_bUseSoundSystem ) return -1 ;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 38 00	 cmp	 DWORD PTR [eax], 0
  00029	75 05		 jne	 SHORT $L93778
  0002b	83 c8 ff	 or	 eax, -1
  0002e	eb 7e		 jmp	 SHORT $L93777
$L93778:

; 287  : 	if( !m_bSFX )			 return -1 ;

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	0f b6 88 2c 08
	00 00		 movzx	 ecx, BYTE PTR [eax+2092]
  0003a	85 c9		 test	 ecx, ecx
  0003c	75 05		 jne	 SHORT $L93779
  0003e	83 c8 ff	 or	 eax, -1
  00041	eb 6b		 jmp	 SHORT $L93777
$L93779:

; 288  : 
; 289  : 	int c = FSOUND_PlaySound( FSOUND_FREE, m_pfssSFX[ SFX ] );

  00043	8b 45 08	 mov	 eax, DWORD PTR _SFX$[ebp]
  00046	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00049	8b 94 81 34 08
	00 00		 mov	 edx, DWORD PTR [ecx+eax*4+2100]
  00050	52		 push	 edx
  00051	6a ff		 push	 -1
  00053	e8 00 00 00 00	 call	 _FSOUND_PlaySound@8
  00058	89 45 ec	 mov	 DWORD PTR _c$[ebp], eax

; 290  : 	if( c != -1 )

  0005b	83 7d ec ff	 cmp	 DWORD PTR _c$[ebp], -1
  0005f	74 3d		 je	 SHORT $L93781

; 291  : 	{
; 292  : 		float fEffectiveVol = m_fSFXMasterVol * fVol ;

  00061	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00064	d9 45 14	 fld	 DWORD PTR _fVol$[ebp]
  00067	d8 88 30 08 00
	00		 fmul	 DWORD PTR [eax+2096]
  0006d	d9 5d e0	 fstp	 DWORD PTR _fEffectiveVol$93782[ebp]

; 293  : 		FSOUND_SetVolume( c, (int)(255 * fEffectiveVol) );

  00070	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@437f0000
  00076	d8 4d e0	 fmul	 DWORD PTR _fEffectiveVol$93782[ebp]
  00079	e8 00 00 00 00	 call	 __ftol2
  0007e	50		 push	 eax
  0007f	8b 45 ec	 mov	 eax, DWORD PTR _c$[ebp]
  00082	50		 push	 eax
  00083	e8 00 00 00 00	 call	 _FSOUND_SetVolume@8

; 294  : 		FSOUND_3D_SetAttributes( c, (float*)pvPos, (float*)pvVel );

  00088	8b 45 10	 mov	 eax, DWORD PTR _pvVel$[ebp]
  0008b	50		 push	 eax
  0008c	8b 4d 0c	 mov	 ecx, DWORD PTR _pvPos$[ebp]
  0008f	51		 push	 ecx
  00090	8b 55 ec	 mov	 edx, DWORD PTR _c$[ebp]
  00093	52		 push	 edx
  00094	e8 00 00 00 00	 call	 _FSOUND_3D_SetAttributes@12

; 295  : 		return c ;

  00099	8b 45 ec	 mov	 eax, DWORD PTR _c$[ebp]
  0009c	eb 10		 jmp	 SHORT $L93777
$L93781:

; 296  : 	}
; 297  : 	else
; 298  : 	{
; 299  : 		ods( "ERROR: PlaySFX3D() - Couldn't play a sample.\n" );

  0009e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CO@FDJEOOMN@ERROR?3?5PlaySFX3D?$CI?$CJ?5?9?5Couldn?8t?5pl@
  000a3	e8 00 00 00 00	 call	 ?ods@@YAXPADZZ		; ods
  000a8	83 c4 04	 add	 esp, 4

; 300  : 		return -1 ;

  000ab	83 c8 ff	 or	 eax, -1
$L93777:

; 301  : 	}
; 302  : }

  000ae	5f		 pop	 edi
  000af	5e		 pop	 esi
  000b0	5b		 pop	 ebx
  000b1	81 c4 e4 00 00
	00		 add	 esp, 228		; 000000e4H
  000b7	3b ec		 cmp	 ebp, esp
  000b9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000be	8b e5		 mov	 esp, ebp
  000c0	5d		 pop	 ebp
  000c1	c2 10 00	 ret	 16			; 00000010H
?PlaySFX3D@CSoundManager@@QAEHHPAUD3DXVECTOR3@@0M@Z ENDP ; CSoundManager::PlaySFX3D
_TEXT	ENDS
PUBLIC	?UpdateSFX3D@CSoundManager@@QAEXHPAUD3DXVECTOR3@@0M@Z ; CSoundManager::UpdateSFX3D
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?UpdateSFX3D@CSoundManager@@QAEXHPAUD3DXVECTOR3@@0M@Z
_TEXT	SEGMENT
_this$ = -8
_c$ = 8
_pvPos$ = 12
_pvVel$ = 16
_fVol$ = 20
?UpdateSFX3D@CSoundManager@@QAEXHPAUD3DXVECTOR3@@0M@Z PROC NEAR ; CSoundManager::UpdateSFX3D, COMDAT
; _this$ = ecx

; 309  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 310  : 	FSOUND_3D_SetAttributes( c, (float*)pvPos, (float*)pvVel );

  00023	8b 45 10	 mov	 eax, DWORD PTR _pvVel$[ebp]
  00026	50		 push	 eax
  00027	8b 4d 0c	 mov	 ecx, DWORD PTR _pvPos$[ebp]
  0002a	51		 push	 ecx
  0002b	8b 55 08	 mov	 edx, DWORD PTR _c$[ebp]
  0002e	52		 push	 edx
  0002f	e8 00 00 00 00	 call	 _FSOUND_3D_SetAttributes@12

; 311  : }

  00034	5f		 pop	 edi
  00035	5e		 pop	 esi
  00036	5b		 pop	 ebx
  00037	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0003d	3b ec		 cmp	 ebp, esp
  0003f	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c2 10 00	 ret	 16			; 00000010H
?UpdateSFX3D@CSoundManager@@QAEXHPAUD3DXVECTOR3@@0M@Z ENDP ; CSoundManager::UpdateSFX3D
_TEXT	ENDS
PUBLIC	?FrameMove3D@CSoundManager@@QAEXPAUD3DXVECTOR3@@000@Z ; CSoundManager::FrameMove3D
EXTRN	_FSOUND_3D_Update@0:NEAR
EXTRN	_FSOUND_3D_Listener_SetAttributes@32:NEAR
EXTRN	_FSOUND_3D_Listener_SetDistanceFactor@4:NEAR
EXTRN	_FSOUND_3D_Listener_SetRolloffFactor@4:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?FrameMove3D@CSoundManager@@QAEXPAUD3DXVECTOR3@@000@Z
_TEXT	SEGMENT
_this$ = -8
_pvPos$ = 8
_pvVel$ = 12
_pvForward$ = 16
_pvUp$ = 20
?FrameMove3D@CSoundManager@@QAEXPAUD3DXVECTOR3@@000@Z PROC NEAR ; CSoundManager::FrameMove3D, COMDAT
; _this$ = ecx

; 320  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 321  : // update 3D stuff
; 322  : 	FSOUND_3D_Listener_SetAttributes( (float*)pvPos,
; 323  : 									  (float*)pvVel,
; 324  : 									  pvForward->x, pvForward->y, pvForward->z,
; 325  : 									  pvUp->x, pvUp->y, pvUp->z
; 326  : 									  );

  00023	8b 45 14	 mov	 eax, DWORD PTR _pvUp$[ebp]
  00026	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00029	51		 push	 ecx
  0002a	8b 55 14	 mov	 edx, DWORD PTR _pvUp$[ebp]
  0002d	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00030	50		 push	 eax
  00031	8b 4d 14	 mov	 ecx, DWORD PTR _pvUp$[ebp]
  00034	8b 11		 mov	 edx, DWORD PTR [ecx]
  00036	52		 push	 edx
  00037	8b 45 10	 mov	 eax, DWORD PTR _pvForward$[ebp]
  0003a	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0003d	51		 push	 ecx
  0003e	8b 55 10	 mov	 edx, DWORD PTR _pvForward$[ebp]
  00041	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00044	50		 push	 eax
  00045	8b 4d 10	 mov	 ecx, DWORD PTR _pvForward$[ebp]
  00048	8b 11		 mov	 edx, DWORD PTR [ecx]
  0004a	52		 push	 edx
  0004b	8b 45 0c	 mov	 eax, DWORD PTR _pvVel$[ebp]
  0004e	50		 push	 eax
  0004f	8b 4d 08	 mov	 ecx, DWORD PTR _pvPos$[ebp]
  00052	51		 push	 ecx
  00053	e8 00 00 00 00	 call	 _FSOUND_3D_Listener_SetAttributes@32

; 327  : 	FSOUND_3D_Listener_SetDistanceFactor( 0.1f );	// world-space units per meter

  00058	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  0005d	e8 00 00 00 00	 call	 _FSOUND_3D_Listener_SetDistanceFactor@4

; 328  : 	FSOUND_3D_Listener_SetRolloffFactor( 0.01f );	// 0 - 10

  00062	68 0a d7 23 3c	 push	 1008981770		; 3c23d70aH
  00067	e8 00 00 00 00	 call	 _FSOUND_3D_Listener_SetRolloffFactor@4

; 329  : 	FSOUND_3D_SetAttributes( m_nMusicChannel, (float*)pvPos, (float*)pvVel );

  0006c	8b 45 0c	 mov	 eax, DWORD PTR _pvVel$[ebp]
  0006f	50		 push	 eax
  00070	8b 4d 08	 mov	 ecx, DWORD PTR _pvPos$[ebp]
  00073	51		 push	 ecx
  00074	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00077	8b 82 28 08 00
	00		 mov	 eax, DWORD PTR [edx+2088]
  0007d	50		 push	 eax
  0007e	e8 00 00 00 00	 call	 _FSOUND_3D_SetAttributes@12

; 330  : 	FSOUND_3D_Update() ;

  00083	e8 00 00 00 00	 call	 _FSOUND_3D_Update@0

; 331  : 
; 332  : }

  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx
  0008b	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00091	3b ec		 cmp	 ebp, esp
  00093	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c2 10 00	 ret	 16			; 00000010H
?FrameMove3D@CSoundManager@@QAEXPAUD3DXVECTOR3@@000@Z ENDP ; CSoundManager::FrameMove3D
_TEXT	ENDS
PUBLIC	?FrameMoveSkip@CSoundManager@@QAEXXZ		; CSoundManager::FrameMoveSkip
PUBLIC	__real@447a0000
;	COMDAT __real@447a0000
CONST	SEGMENT
__real@447a0000 DD 0447a0000r			; 1000
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?FrameMoveSkip@CSoundManager@@QAEXXZ
_TEXT	SEGMENT
_fToday$ = -20
_this$ = -8
?FrameMoveSkip@CSoundManager@@QAEXXZ PROC NEAR		; CSoundManager::FrameMoveSkip, COMDAT
; _this$ = ecx

; 335  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d8 00 00
	00		 sub	 esp, 216		; 000000d8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 28 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-216]
  00013	b9 36 00 00 00	 mov	 ecx, 54			; 00000036H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 336  : // autoskip to the next track, when the current one is finished.
; 337  : 	float fToday = DXUtil_Timer( TIMER_GETABSOLUTETIME );

  00023	6a 04		 push	 4
  00025	e8 00 00 00 00	 call	 ?DXUtil_Timer@@YGMW4TIMER_COMMAND@@@Z ; DXUtil_Timer
  0002a	d9 5d ec	 fstp	 DWORD PTR _fToday$[ebp]

; 338  : 	if( (fToday - m_fTrackBirthday) * 1000 > m_fTrackLengthMS )

  0002d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00030	d9 45 ec	 fld	 DWORD PTR _fToday$[ebp]
  00033	d8 60 14	 fsub	 DWORD PTR [eax+20]
  00036	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@447a0000
  0003c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003f	d8 59 10	 fcomp	 DWORD PTR [ecx+16]
  00042	df e0		 fnstsw	 ax
  00044	f6 c4 41	 test	 ah, 65			; 00000041H
  00047	75 0a		 jne	 SHORT $L93810

; 339  : 		SongSkip( +1 );

  00049	6a 01		 push	 1
  0004b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004e	e8 00 00 00 00	 call	 ?SongSkip@CSoundManager@@QAEHH@Z ; CSoundManager::SongSkip
$L93810:

; 340  : }

  00053	5f		 pop	 edi
  00054	5e		 pop	 esi
  00055	5b		 pop	 ebx
  00056	81 c4 d8 00 00
	00		 add	 esp, 216		; 000000d8H
  0005c	3b ec		 cmp	 ebp, esp
  0005e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00063	8b e5		 mov	 esp, ebp
  00065	5d		 pop	 ebp
  00066	c3		 ret	 0
?FrameMoveSkip@CSoundManager@@QAEXXZ ENDP		; CSoundManager::FrameMoveSkip
_TEXT	ENDS
PUBLIC	??_C@_05GHFCCCAJ@?$CK?4MP3?$AA@			; `string'
PUBLIC	??_C@_05BMGBEOOC@?$CFs?2?$CFs?$AA@		; `string'
PUBLIC	?__LINE__Var@?1??GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z@4JA ; `CSoundManager::GetMusicFilesInFolder'::`2'::__LINE__Var
PUBLIC	??_C@_0EP@KJCKJAPI@c?3?2documents?5and?5settings?2dom?2my@ ; `string'
PUBLIC	??_C@_0CB@EPBEIALG@m_pszMusicFiles?$FL?5m_nMusicFiles?5?$FN@ ; `string'
PUBLIC	??_C@_0CG@FEJOHLO@m_pszMusicFilesShort?$FL?5m_nMusicFi@ ; `string'
EXTRN	__assert:NEAR
EXTRN	__findfirst:NEAR
EXTRN	__findnext:NEAR
EXTRN	_malloc:NEAR
;	COMDAT ??_C@_05GHFCCCAJ@?$CK?4MP3?$AA@
CONST	SEGMENT
??_C@_05GHFCCCAJ@?$CK?4MP3?$AA@ DB '*.MP3', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_05BMGBEOOC@?$CFs?2?$CFs?$AA@
CONST	SEGMENT
??_C@_05BMGBEOOC@?$CFs?2?$CFs?$AA@ DB '%s\%s', 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z@4JA DD 0157H ; `CSoundManager::GetMusicFilesInFolder'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0EP@KJCKJAPI@c?3?2documents?5and?5settings?2dom?2my@
CONST	SEGMENT
??_C@_0EP@KJCKJAPI@c?3?2documents?5and?5settings?2dom?2my@ DB 'c:\documen'
	DB	'ts and settings\dom\my documents\_dev\ae\xlr8a\x7g\csoundmana'
	DB	'ger.cpp', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@EPBEIALG@m_pszMusicFiles?$FL?5m_nMusicFiles?5?$FN@
CONST	SEGMENT
??_C@_0CB@EPBEIALG@m_pszMusicFiles?$FL?5m_nMusicFiles?5?$FN@ DB 'm_pszMus'
	DB	'icFiles[ m_nMusicFiles ]', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@FEJOHLO@m_pszMusicFilesShort?$FL?5m_nMusicFi@
CONST	SEGMENT
??_C@_0CG@FEJOHLO@m_pszMusicFilesShort?$FL?5m_nMusicFi@ DB 'm_pszMusicFil'
	DB	'esShort[ m_nMusicFiles ]', 00H		; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z
_TEXT	SEGMENT
_fd$ = -3456
_lSearchHandle$ = -3164
_nSearchResult$ = -3152
_i$ = -3140
_szSafePath$ = -3128
_szFullPath$ = -2096
_sz$ = -1064
_szEXTs$ = -28
_this$ = -12
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_szPath$ = 8
?GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z PROC NEAR ; CSoundManager::GetMusicFilesInFolder, COMDAT
; _this$ = ecx

; 343  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 44 0e 00
	00		 sub	 esp, 3652		; 00000e44H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd bc f1 ff
	ff		 lea	 edi, DWORD PTR [ebp-3652]
  00013	b9 91 03 00 00	 mov	 ecx, 913		; 00000391H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00025	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00028	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  0002b	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx

; 344  : 	char *szEXTs[] = { "*.MP3", '\x0' } ;

  0002e	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _szEXTs$[ebp], OFFSET FLAT:??_C@_05GHFCCCAJ@?$CK?4MP3?$AA@
  00035	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _szEXTs$[ebp+4], 0

; 345  : 	char sz[1024], szFullPath[1024], szSafePath[1024] ;
; 346  : 	int i = 0, nSearchResult ;

  0003c	c7 85 bc f3 ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$[ebp], 0

; 347  : 	long lSearchHandle ;
; 348  : 	_finddata_t fd ;
; 349  : 	
; 350  : 	m_nMusicFiles = 0 ;

  00046	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00049	c7 40 20 00 00
	00 00		 mov	 DWORD PTR [eax+32], 0

; 351  : 	strcpy( szSafePath, szPath );

  00050	8b 45 08	 mov	 eax, DWORD PTR _szPath$[ebp]
  00053	50		 push	 eax
  00054	8d 8d c8 f3 ff
	ff		 lea	 ecx, DWORD PTR _szSafePath$[ebp]
  0005a	51		 push	 ecx
  0005b	e8 00 00 00 00	 call	 _strcpy
  00060	83 c4 08	 add	 esp, 8

; 352  : 	if( szSafePath[ strlen(szSafePath)-1 ] == '\\' )

  00063	8d 85 c8 f3 ff
	ff		 lea	 eax, DWORD PTR _szSafePath$[ebp]
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 _strlen
  0006f	83 c4 04	 add	 esp, 4
  00072	0f be 8c 05 c7
	f3 ff ff	 movsx	 ecx, BYTE PTR _szSafePath$[ebp+eax-1]
  0007a	83 f9 5c	 cmp	 ecx, 92			; 0000005cH
  0007d	75 17		 jne	 SHORT $L93828

; 353  : 		szSafePath[ strlen(szSafePath)-1 ] = '\x0' ;

  0007f	8d 85 c8 f3 ff
	ff		 lea	 eax, DWORD PTR _szSafePath$[ebp]
  00085	50		 push	 eax
  00086	e8 00 00 00 00	 call	 _strlen
  0008b	83 c4 04	 add	 esp, 4
  0008e	c6 84 05 c7 f3
	ff ff 00	 mov	 BYTE PTR _szSafePath$[ebp+eax-1], 0
$L93828:

; 354  : 
; 355  : 	while (szEXTs[i])

  00096	8b 85 bc f3 ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  0009c	83 7c 85 e4 00	 cmp	 DWORD PTR _szEXTs$[ebp+eax*4], 0
  000a1	0f 84 a7 01 00
	00		 je	 $L93816

; 356  : 	{
; 357  : 		sprintf(szFullPath, "%s\\%s", szSafePath, szEXTs[i]) ;

  000a7	8b 85 bc f3 ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  000ad	8b 4c 85 e4	 mov	 ecx, DWORD PTR _szEXTs$[ebp+eax*4]
  000b1	51		 push	 ecx
  000b2	8d 95 c8 f3 ff
	ff		 lea	 edx, DWORD PTR _szSafePath$[ebp]
  000b8	52		 push	 edx
  000b9	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_05BMGBEOOC@?$CFs?2?$CFs?$AA@
  000be	8d 85 d0 f7 ff
	ff		 lea	 eax, DWORD PTR _szFullPath$[ebp]
  000c4	50		 push	 eax
  000c5	e8 00 00 00 00	 call	 _sprintf
  000ca	83 c4 10	 add	 esp, 16			; 00000010H

; 358  : 		lSearchHandle = _findfirst(szFullPath, &fd) ;

  000cd	8d 85 80 f2 ff
	ff		 lea	 eax, DWORD PTR _fd$[ebp]
  000d3	50		 push	 eax
  000d4	8d 8d d0 f7 ff
	ff		 lea	 ecx, DWORD PTR _szFullPath$[ebp]
  000da	51		 push	 ecx
  000db	e8 00 00 00 00	 call	 __findfirst
  000e0	83 c4 08	 add	 esp, 8
  000e3	89 85 a4 f3 ff
	ff		 mov	 DWORD PTR _lSearchHandle$[ebp], eax

; 359  : 		nSearchResult = lSearchHandle; 

  000e9	8b 85 a4 f3 ff
	ff		 mov	 eax, DWORD PTR _lSearchHandle$[ebp]
  000ef	89 85 b0 f3 ff
	ff		 mov	 DWORD PTR _nSearchResult$[ebp], eax
$L93832:

; 360  : 		while (nSearchResult != -1)

  000f5	83 bd b0 f3 ff
	ff ff		 cmp	 DWORD PTR _nSearchResult$[ebp], -1
  000fc	0f 84 38 01 00
	00		 je	 $L93833

; 361  : 		{
; 362  : 			sprintf(sz, "%s\\%s", szPath, fd.name) ;

  00102	8d 85 94 f2 ff
	ff		 lea	 eax, DWORD PTR _fd$[ebp+20]
  00108	50		 push	 eax
  00109	8b 4d 08	 mov	 ecx, DWORD PTR _szPath$[ebp]
  0010c	51		 push	 ecx
  0010d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_05BMGBEOOC@?$CFs?2?$CFs?$AA@
  00112	8d 95 d8 fb ff
	ff		 lea	 edx, DWORD PTR _sz$[ebp]
  00118	52		 push	 edx
  00119	e8 00 00 00 00	 call	 _sprintf
  0011e	83 c4 10	 add	 esp, 16			; 00000010H

; 363  : 			
; 364  : 			m_pszMusicFiles[ m_nMusicFiles ] = (char*)malloc( strlen(sz) + 1 );

  00121	8d 85 d8 fb ff
	ff		 lea	 eax, DWORD PTR _sz$[ebp]
  00127	50		 push	 eax
  00128	e8 00 00 00 00	 call	 _strlen
  0012d	83 c4 04	 add	 esp, 4
  00130	83 c0 01	 add	 eax, 1
  00133	50		 push	 eax
  00134	e8 00 00 00 00	 call	 _malloc
  00139	83 c4 04	 add	 esp, 4
  0013c	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  0013f	8b 51 20	 mov	 edx, DWORD PTR [ecx+32]
  00142	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  00145	89 44 91 28	 mov	 DWORD PTR [ecx+edx*4+40], eax

; 365  : 			assert( m_pszMusicFiles[ m_nMusicFiles ] );

  00149	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0014c	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  0014f	8b 55 f4	 mov	 edx, DWORD PTR _this$[ebp]
  00152	83 7c 8a 28 00	 cmp	 DWORD PTR [edx+ecx*4+40], 0
  00157	75 1b		 jne	 SHORT $L93946
  00159	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z@4JA
  0015e	83 c0 16	 add	 eax, 22			; 00000016H
  00161	50		 push	 eax
  00162	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0EP@KJCKJAPI@c?3?2documents?5and?5settings?2dom?2my@
  00167	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CB@EPBEIALG@m_pszMusicFiles?$FL?5m_nMusicFiles?5?$FN@
  0016c	e8 00 00 00 00	 call	 __assert
  00171	83 c4 0c	 add	 esp, 12			; 0000000cH
$L93946:

; 366  : 			strcpy( m_pszMusicFiles[ m_nMusicFiles ], sz );

  00174	8d 85 d8 fb ff
	ff		 lea	 eax, DWORD PTR _sz$[ebp]
  0017a	50		 push	 eax
  0017b	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  0017e	8b 51 20	 mov	 edx, DWORD PTR [ecx+32]
  00181	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  00184	8b 4c 90 28	 mov	 ecx, DWORD PTR [eax+edx*4+40]
  00188	51		 push	 ecx
  00189	e8 00 00 00 00	 call	 _strcpy
  0018e	83 c4 08	 add	 esp, 8

; 367  : 
; 368  : 			m_pszMusicFilesShort[ m_nMusicFiles ] = (char*)malloc( strlen(fd.name) + 1 );

  00191	8d 85 94 f2 ff
	ff		 lea	 eax, DWORD PTR _fd$[ebp+20]
  00197	50		 push	 eax
  00198	e8 00 00 00 00	 call	 _strlen
  0019d	83 c4 04	 add	 esp, 4
  001a0	83 c0 01	 add	 eax, 1
  001a3	50		 push	 eax
  001a4	e8 00 00 00 00	 call	 _malloc
  001a9	83 c4 04	 add	 esp, 4
  001ac	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  001af	8b 51 20	 mov	 edx, DWORD PTR [ecx+32]
  001b2	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  001b5	89 84 91 28 04
	00 00		 mov	 DWORD PTR [ecx+edx*4+1064], eax

; 369  : 			assert( m_pszMusicFilesShort[ m_nMusicFiles ] );

  001bc	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001bf	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  001c2	8b 55 f4	 mov	 edx, DWORD PTR _this$[ebp]
  001c5	83 bc 8a 28 04
	00 00 00	 cmp	 DWORD PTR [edx+ecx*4+1064], 0
  001cd	75 1b		 jne	 SHORT $L93947
  001cf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z@4JA
  001d4	83 c0 1a	 add	 eax, 26			; 0000001aH
  001d7	50		 push	 eax
  001d8	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0EP@KJCKJAPI@c?3?2documents?5and?5settings?2dom?2my@
  001dd	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CG@FEJOHLO@m_pszMusicFilesShort?$FL?5m_nMusicFi@
  001e2	e8 00 00 00 00	 call	 __assert
  001e7	83 c4 0c	 add	 esp, 12			; 0000000cH
$L93947:

; 370  : 			strcpy( m_pszMusicFilesShort[ m_nMusicFiles ], fd.name );

  001ea	8d 85 94 f2 ff
	ff		 lea	 eax, DWORD PTR _fd$[ebp+20]
  001f0	50		 push	 eax
  001f1	8b 4d f4	 mov	 ecx, DWORD PTR _this$[ebp]
  001f4	8b 51 20	 mov	 edx, DWORD PTR [ecx+32]
  001f7	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  001fa	8b 8c 90 28 04
	00 00		 mov	 ecx, DWORD PTR [eax+edx*4+1064]
  00201	51		 push	 ecx
  00202	e8 00 00 00 00	 call	 _strcpy
  00207	83 c4 08	 add	 esp, 8

; 371  : 
; 372  : 			m_nMusicFiles++ ;

  0020a	8b 45 f4	 mov	 eax, DWORD PTR _this$[ebp]
  0020d	8b 48 20	 mov	 ecx, DWORD PTR [eax+32]
  00210	83 c1 01	 add	 ecx, 1
  00213	8b 55 f4	 mov	 edx, DWORD PTR _this$[ebp]
  00216	89 4a 20	 mov	 DWORD PTR [edx+32], ecx

; 373  : 			nSearchResult = _findnext(lSearchHandle, &fd) ;

  00219	8d 85 80 f2 ff
	ff		 lea	 eax, DWORD PTR _fd$[ebp]
  0021f	50		 push	 eax
  00220	8b 8d a4 f3 ff
	ff		 mov	 ecx, DWORD PTR _lSearchHandle$[ebp]
  00226	51		 push	 ecx
  00227	e8 00 00 00 00	 call	 __findnext
  0022c	83 c4 08	 add	 esp, 8
  0022f	89 85 b0 f3 ff
	ff		 mov	 DWORD PTR _nSearchResult$[ebp], eax

; 374  : 		}

  00235	e9 bb fe ff ff	 jmp	 $L93832
$L93833:

; 375  : 		i++ ;

  0023a	8b 85 bc f3 ff
	ff		 mov	 eax, DWORD PTR _i$[ebp]
  00240	83 c0 01	 add	 eax, 1
  00243	89 85 bc f3 ff
	ff		 mov	 DWORD PTR _i$[ebp], eax

; 376  : 	}

  00249	e9 48 fe ff ff	 jmp	 $L93828
$L93816:

; 377  : }

  0024e	52		 push	 edx
  0024f	8b cd		 mov	 ecx, ebp
  00251	50		 push	 eax
  00252	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L93955
  00258	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0025d	58		 pop	 eax
  0025e	5a		 pop	 edx
  0025f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00262	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00265	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0026a	5f		 pop	 edi
  0026b	5e		 pop	 esi
  0026c	5b		 pop	 ebx
  0026d	81 c4 44 0e 00
	00		 add	 esp, 3652		; 00000e44H
  00273	3b ec		 cmp	 ebp, esp
  00275	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0027a	8b e5		 mov	 esp, ebp
  0027c	5d		 pop	 ebp
  0027d	c2 04 00	 ret	 4
$L93955:
  00280	05 00 00 00	 DD	 5
  00284	00 00 00 00	 DD	 $L93954
$L93954:
  00288	e4 ff ff ff	 DD	 -28			; ffffffe4H
  0028c	08 00 00 00	 DD	 8
  00290	00 00 00 00	 DD	 $L93948
  00294	d8 fb ff ff	 DD	 -1064			; fffffbd8H
  00298	00 04 00 00	 DD	 1024			; 00000400H
  0029c	00 00 00 00	 DD	 $L93949
  002a0	d0 f7 ff ff	 DD	 -2096			; fffff7d0H
  002a4	00 04 00 00	 DD	 1024			; 00000400H
  002a8	00 00 00 00	 DD	 $L93950
  002ac	c8 f3 ff ff	 DD	 -3128			; fffff3c8H
  002b0	00 04 00 00	 DD	 1024			; 00000400H
  002b4	00 00 00 00	 DD	 $L93951
  002b8	80 f2 ff ff	 DD	 -3456			; fffff280H
  002bc	18 01 00 00	 DD	 280			; 00000118H
  002c0	00 00 00 00	 DD	 $L93952
$L93952:
  002c4	66		 DB	 102			; 00000066H
  002c5	64		 DB	 100			; 00000064H
  002c6	00		 DB	 0
$L93951:
  002c7	73		 DB	 115			; 00000073H
  002c8	7a		 DB	 122			; 0000007aH
  002c9	53		 DB	 83			; 00000053H
  002ca	61		 DB	 97			; 00000061H
  002cb	66		 DB	 102			; 00000066H
  002cc	65		 DB	 101			; 00000065H
  002cd	50		 DB	 80			; 00000050H
  002ce	61		 DB	 97			; 00000061H
  002cf	74		 DB	 116			; 00000074H
  002d0	68		 DB	 104			; 00000068H
  002d1	00		 DB	 0
$L93950:
  002d2	73		 DB	 115			; 00000073H
  002d3	7a		 DB	 122			; 0000007aH
  002d4	46		 DB	 70			; 00000046H
  002d5	75		 DB	 117			; 00000075H
  002d6	6c		 DB	 108			; 0000006cH
  002d7	6c		 DB	 108			; 0000006cH
  002d8	50		 DB	 80			; 00000050H
  002d9	61		 DB	 97			; 00000061H
  002da	74		 DB	 116			; 00000074H
  002db	68		 DB	 104			; 00000068H
  002dc	00		 DB	 0
$L93949:
  002dd	73		 DB	 115			; 00000073H
  002de	7a		 DB	 122			; 0000007aH
  002df	00		 DB	 0
$L93948:
  002e0	73		 DB	 115			; 00000073H
  002e1	7a		 DB	 122			; 0000007aH
  002e2	45		 DB	 69			; 00000045H
  002e3	58		 DB	 88			; 00000058H
  002e4	54		 DB	 84			; 00000054H
  002e5	73		 DB	 115			; 00000073H
  002e6	00		 DB	 0
?GetMusicFilesInFolder@CSoundManager@@AAEXPAD@Z ENDP	; CSoundManager::GetMusicFilesInFolder
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.inl
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT
_this$ = -8
_fr$ = 8
_fg$ = 12
_fb$ = 16
_fa$ = 20
??0D3DXCOLOR@@QAE@MMMM@Z PROC NEAR			; D3DXCOLOR::D3DXCOLOR, COMDAT
; _this$ = ecx

; 919  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 920  :     r = fr;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fr$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 921  :     g = fg;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _fg$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 922  :     b = fb;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fb$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 923  :     a = fa;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	8b 4d 14	 mov	 ecx, DWORD PTR _fa$[ebp]
  00043	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 924  : }

  00046	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00049	5f		 pop	 edi
  0004a	5e		 pop	 esi
  0004b	5b		 pop	 ebx
  0004c	8b e5		 mov	 esp, ebp
  0004e	5d		 pop	 ebp
  0004f	c2 10 00	 ret	 16			; 00000010H
??0D3DXCOLOR@@QAE@MMMM@Z ENDP				; D3DXCOLOR::D3DXCOLOR
_TEXT	ENDS
PUBLIC	__real@3f000000
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ??BD3DXCOLOR@@QBEKXZ
_TEXT	SEGMENT
tv135 = -260
tv92 = -260
tv81 = -260
tv70 = -260
tv136 = -256
tv93 = -256
tv82 = -256
tv71 = -256
_dwA$ = -56
_dwB$ = -44
_dwG$ = -32
_dwR$ = -20
_this$ = -8
??BD3DXCOLOR@@QBEKXZ PROC NEAR				; D3DXCOLOR::operator unsigned long, COMDAT
; _this$ = ecx

; 930  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd fc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-260]
  00013	b9 41 00 00 00	 mov	 ecx, 65			; 00000041H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 931  :     DWORD dwR = r >= 1.0f ? 0xff : r <= 0.0f ? 0x00 : (DWORD) (r * 255.0f + 0.5f);

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	d9 00		 fld	 DWORD PTR [eax]
  00028	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0002e	df e0		 fnstsw	 ax
  00030	f6 c4 01	 test	 ah, 1
  00033	75 0c		 jne	 SHORT $L93962
  00035	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv71[ebp], 255 ; 000000ffH
  0003f	eb 46		 jmp	 SHORT $L93963
$L93962:
  00041	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00044	d9 01		 fld	 DWORD PTR [ecx]
  00046	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  0004c	df e0		 fnstsw	 ax
  0004e	f6 c4 41	 test	 ah, 65			; 00000041H
  00051	7a 0c		 jp	 SHORT $L93960
  00053	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
  0005d	eb 1c		 jmp	 SHORT $L93961
$L93960:
  0005f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00062	d9 02		 fld	 DWORD PTR [edx]
  00064	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  0006a	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  00070	e8 00 00 00 00	 call	 __ftol2
  00075	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv70[ebp], eax
$L93961:
  0007b	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv70[ebp]
  00081	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv71[ebp], eax
$L93963:
  00087	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv71[ebp]
  0008d	89 4d ec	 mov	 DWORD PTR _dwR$[ebp], ecx

; 932  :     DWORD dwG = g >= 1.0f ? 0xff : g <= 0.0f ? 0x00 : (DWORD) (g * 255.0f + 0.5f);

  00090	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00093	d9 40 04	 fld	 DWORD PTR [eax+4]
  00096	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0009c	df e0		 fnstsw	 ax
  0009e	f6 c4 01	 test	 ah, 1
  000a1	75 0c		 jne	 SHORT $L93966
  000a3	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv82[ebp], 255 ; 000000ffH
  000ad	eb 48		 jmp	 SHORT $L93967
$L93966:
  000af	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000b2	d9 41 04	 fld	 DWORD PTR [ecx+4]
  000b5	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000bb	df e0		 fnstsw	 ax
  000bd	f6 c4 41	 test	 ah, 65			; 00000041H
  000c0	7a 0c		 jp	 SHORT $L93964
  000c2	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv81[ebp], 0
  000cc	eb 1d		 jmp	 SHORT $L93965
$L93964:
  000ce	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000d1	d9 42 04	 fld	 DWORD PTR [edx+4]
  000d4	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  000da	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  000e0	e8 00 00 00 00	 call	 __ftol2
  000e5	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv81[ebp], eax
$L93965:
  000eb	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv81[ebp]
  000f1	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
$L93967:
  000f7	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv82[ebp]
  000fd	89 4d e0	 mov	 DWORD PTR _dwG$[ebp], ecx

; 933  :     DWORD dwB = b >= 1.0f ? 0xff : b <= 0.0f ? 0x00 : (DWORD) (b * 255.0f + 0.5f);

  00100	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00103	d9 40 08	 fld	 DWORD PTR [eax+8]
  00106	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0010c	df e0		 fnstsw	 ax
  0010e	f6 c4 01	 test	 ah, 1
  00111	75 0c		 jne	 SHORT $L93970
  00113	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv93[ebp], 255 ; 000000ffH
  0011d	eb 48		 jmp	 SHORT $L93971
$L93970:
  0011f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00122	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00125	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  0012b	df e0		 fnstsw	 ax
  0012d	f6 c4 41	 test	 ah, 65			; 00000041H
  00130	7a 0c		 jp	 SHORT $L93968
  00132	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv92[ebp], 0
  0013c	eb 1d		 jmp	 SHORT $L93969
$L93968:
  0013e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00141	d9 42 08	 fld	 DWORD PTR [edx+8]
  00144	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  0014a	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  00150	e8 00 00 00 00	 call	 __ftol2
  00155	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv92[ebp], eax
$L93969:
  0015b	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv92[ebp]
  00161	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv93[ebp], eax
$L93971:
  00167	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv93[ebp]
  0016d	89 4d d4	 mov	 DWORD PTR _dwB$[ebp], ecx

; 934  :     DWORD dwA = a >= 1.0f ? 0xff : a <= 0.0f ? 0x00 : (DWORD) (a * 255.0f + 0.5f);

  00170	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00173	d9 40 0c	 fld	 DWORD PTR [eax+12]
  00176	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0017c	df e0		 fnstsw	 ax
  0017e	f6 c4 01	 test	 ah, 1
  00181	75 0c		 jne	 SHORT $L93974
  00183	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv136[ebp], 255 ; 000000ffH
  0018d	eb 48		 jmp	 SHORT $L93975
$L93974:
  0018f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00192	d9 41 0c	 fld	 DWORD PTR [ecx+12]
  00195	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  0019b	df e0		 fnstsw	 ax
  0019d	f6 c4 41	 test	 ah, 65			; 00000041H
  001a0	7a 0c		 jp	 SHORT $L93972
  001a2	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv135[ebp], 0
  001ac	eb 1d		 jmp	 SHORT $L93973
$L93972:
  001ae	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001b1	d9 42 0c	 fld	 DWORD PTR [edx+12]
  001b4	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  001ba	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  001c0	e8 00 00 00 00	 call	 __ftol2
  001c5	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv135[ebp], eax
$L93973:
  001cb	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv135[ebp]
  001d1	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv136[ebp], eax
$L93975:
  001d7	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv136[ebp]
  001dd	89 4d c8	 mov	 DWORD PTR _dwA$[ebp], ecx

; 935  : 
; 936  :     return (dwA << 24) | (dwR << 16) | (dwG << 8) | dwB;

  001e0	8b 45 c8	 mov	 eax, DWORD PTR _dwA$[ebp]
  001e3	c1 e0 18	 shl	 eax, 24			; 00000018H
  001e6	8b 4d ec	 mov	 ecx, DWORD PTR _dwR$[ebp]
  001e9	c1 e1 10	 shl	 ecx, 16			; 00000010H
  001ec	0b c1		 or	 eax, ecx
  001ee	8b 55 e0	 mov	 edx, DWORD PTR _dwG$[ebp]
  001f1	c1 e2 08	 shl	 edx, 8
  001f4	0b c2		 or	 eax, edx
  001f6	0b 45 d4	 or	 eax, DWORD PTR _dwB$[ebp]

; 937  : }

  001f9	5f		 pop	 edi
  001fa	5e		 pop	 esi
  001fb	5b		 pop	 ebx
  001fc	8b e5		 mov	 esp, ebp
  001fe	5d		 pop	 ebp
  001ff	c3		 ret	 0
??BD3DXCOLOR@@QBEKXZ ENDP				; D3DXCOLOR::operator unsigned long
_TEXT	ENDS
END
