; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9466 

	TITLE	CParticleSystem.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0FB@LBDDPIFN@c?3?2documents?5and?5settings?2dom?2my@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0M@NKNCPJJD@?$CBFAILED?$CIhr?$CJ?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
CRT$XCA	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCA	ENDS
CRT$XCU	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCU	ENDS
CRT$XCL	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCL	ENDS
CRT$XCC	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCC	ENDS
CRT$XCZ	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCZ	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _cosf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sinf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??XD3DXVECTOR3@@QAEAAU0@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@PBM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@ABU_D3DMATRIX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??BD3DXCOLOR@@QBEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXColorLerp@@YAPAUD3DXCOLOR@@PAU1@PBU1@1M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _$E1
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT _$E3
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT ??0CParticleSystem@@QAE@KKM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1CParticleSystem@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Clear@CParticleSystem@@QAEHXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ImpactTerrain@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ImpactFighter@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?CulledFrameMove@CParticleSystem@@QAEHPAUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FrameMove@CParticleSystem@@QAEJMPAUD3DXVECTOR3@@MKMHABUD3DXCOLOR@@100HMH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0PARTICLE@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?__LINE__Var@?1??Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z@4JA
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	??0D3DXCOLOR@@QAE@MMMM@Z			; D3DXCOLOR::D3DXCOLOR
EXTRN	__RTC_InitBase:NEAR
EXTRN	__RTC_Shutdown:NEAR
EXTRN	__RTC_CheckEsp:NEAR
EXTRN	__fltused:NEAR
CRT$XCU	SEGMENT
_$S2	DD	FLAT:_$E1
CRT$XCU	ENDS
;	COMDAT rtc$IMZ
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\cparticlesystem.cpp
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
; Function compile flags: /Odt /RTCsu /ZI
rtc$TMZ	ENDS
;	COMDAT _$E1
text$yc	SEGMENT
_$E1	PROC NEAR					; COMDAT

; 6    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 7    : 	D3DXCOLOR( 1.0f,   1.0f,   1.0f,   1.0f ),

  0001e	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00023	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00028	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  0002d	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00032	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?g_ParticleColor@@3PAUD3DXCOLOR@@A
  00037	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR

; 8    : 	D3DXCOLOR( 1.0f,   0.5f,   0.4f,   1.0f ),

  0003c	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00041	68 cd cc cc 3e	 push	 1053609165		; 3ecccccdH
  00046	68 00 00 00 3f	 push	 1056964608		; 3f000000H
  0004b	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00050	b9 10 00 00 00	 mov	 ecx, OFFSET FLAT:?g_ParticleColor@@3PAUD3DXCOLOR@@A+16
  00055	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR

; 9    : 	D3DXCOLOR( 0.3f,   0.2f,   1.0f,   0.5f )
; 10   : };

  0005a	68 00 00 00 3f	 push	 1056964608		; 3f000000H
  0005f	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00064	68 cd cc 4c 3e	 push	 1045220557		; 3e4ccccdH
  00069	68 9a 99 99 3e	 push	 1050253722		; 3e99999aH
  0006e	b9 20 00 00 00	 mov	 ecx, OFFSET FLAT:?g_ParticleColor@@3PAUD3DXCOLOR@@A+32
  00073	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR
  00078	5f		 pop	 edi
  00079	5e		 pop	 esi
  0007a	5b		 pop	 ebx
  0007b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00081	3b ec		 cmp	 ebp, esp
  00083	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00088	8b e5		 mov	 esp, ebp
  0008a	5d		 pop	 ebp
  0008b	c3		 ret	 0
_$E1	ENDP
text$yc	ENDS
CRT$XCU	SEGMENT
_$S4	DD	FLAT:_$E3
; Function compile flags: /Odt /RTCsu /ZI
CRT$XCU	ENDS
;	COMDAT _$E3
text$yc	SEGMENT
_$E3	PROC NEAR					; COMDAT

; 12   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 13   : 	D3DXCOLOR( 0.1f,  0.1f,   0.1f,   0.1f ),

  0001e	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00023	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00028	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  0002d	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00032	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?g_ParticleColorFade@@3PAUD3DXCOLOR@@A
  00037	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR

; 14   : 	D3DXCOLOR( 0.1f,  0.1f,   0.1f,   0.1f ),

  0003c	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00041	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00046	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  0004b	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00050	b9 10 00 00 00	 mov	 ecx, OFFSET FLAT:?g_ParticleColorFade@@3PAUD3DXCOLOR@@A+16
  00055	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR

; 15   : 	D3DXCOLOR( 0.1f,  0.1f,   0.1f,   0.1f )
; 16   : };

  0005a	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  0005f	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00064	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  00069	68 cd cc cc 3d	 push	 1036831949		; 3dcccccdH
  0006e	b9 20 00 00 00	 mov	 ecx, OFFSET FLAT:?g_ParticleColorFade@@3PAUD3DXCOLOR@@A+32
  00073	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@MMMM@Z ; D3DXCOLOR::D3DXCOLOR
  00078	5f		 pop	 edi
  00079	5e		 pop	 esi
  0007a	5b		 pop	 ebx
  0007b	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00081	3b ec		 cmp	 ebp, esp
  00083	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00088	8b e5		 mov	 esp, ebp
  0008a	5d		 pop	 ebp
  0008b	c3		 ret	 0
_$E3	ENDP
text$yc	ENDS
PUBLIC	??0D3DXVECTOR3@@QAE@XZ				; D3DXVECTOR3::D3DXVECTOR3
PUBLIC	??0CParticleSystem@@QAE@KKM@Z			; CParticleSystem::CParticleSystem
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ??0CParticleSystem@@QAE@KKM@Z
_TEXT	SEGMENT
_this$ = -8
_dwFlush$ = 8
_dwDiscard$ = 12
_fRadius$ = 16
??0CParticleSystem@@QAE@KKM@Z PROC NEAR			; CParticleSystem::CParticleSystem, COMDAT
; _this$ = ecx

; 19   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	83 c1 20	 add	 ecx, 32			; 00000020H
  00029	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  0002e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00031	83 c1 2c	 add	 ecx, 44			; 0000002cH
  00034	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 20   : 		m_fRadius        = fRadius;

  00039	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0003c	8b 4d 10	 mov	 ecx, DWORD PTR _fRadius$[ebp]
  0003f	89 08		 mov	 DWORD PTR [eax], ecx

; 21   : 
; 22   : 		m_dwBase         = dwDiscard;

  00041	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00044	8b 4d 0c	 mov	 ecx, DWORD PTR _dwDiscard$[ebp]
  00047	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 23   : 		m_dwFlush        = dwFlush;

  0004a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004d	8b 4d 08	 mov	 ecx, DWORD PTR _dwFlush$[ebp]
  00050	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 24   : 		m_dwDiscard      = dwDiscard;

  00053	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00056	8b 4d 0c	 mov	 ecx, DWORD PTR _dwDiscard$[ebp]
  00059	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 25   : 
; 26   : 		m_dwParticles    = 0;

  0005c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005f	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0

; 27   : 		m_dwParticlesLim = 1024 * 10;

  00066	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00069	c7 40 14 00 28
	00 00		 mov	 DWORD PTR [eax+20], 10240 ; 00002800H

; 28   : 
; 29   : 		m_pParticles     = NULL;

  00070	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00073	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 30   : 		m_pParticlesFree = NULL;

  0007a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007d	c7 40 1c 00 00
	00 00		 mov	 DWORD PTR [eax+28], 0

; 31   : 
; 32   : 		m_fTime			 = 0.0f ;

  00084	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00087	c7 40 38 00 00
	00 00		 mov	 DWORD PTR [eax+56], 0

; 33   : 	}

  0008e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00091	5f		 pop	 edi
  00092	5e		 pop	 esi
  00093	5b		 pop	 ebx
  00094	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0009a	3b ec		 cmp	 ebp, esp
  0009c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a1	8b e5		 mov	 esp, ebp
  000a3	5d		 pop	 ebp
  000a4	c2 0c 00	 ret	 12			; 0000000cH
??0CParticleSystem@@QAE@KKM@Z ENDP			; CParticleSystem::CParticleSystem
_TEXT	ENDS
PUBLIC	??1CParticleSystem@@QAE@XZ			; CParticleSystem::~CParticleSystem
PUBLIC	?Clear@CParticleSystem@@QAEHXZ			; CParticleSystem::Clear
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ??1CParticleSystem@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??1CParticleSystem@@QAE@XZ PROC NEAR			; CParticleSystem::~CParticleSystem, COMDAT
; _this$ = ecx

; 35   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 36   : 		Clear() ;

  00023	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	e8 00 00 00 00	 call	 ?Clear@CParticleSystem@@QAEHXZ ; CParticleSystem::Clear

; 37   : 	}

  0002b	5f		 pop	 edi
  0002c	5e		 pop	 esi
  0002d	5b		 pop	 ebx
  0002e	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00034	3b ec		 cmp	 ebp, esp
  00036	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0003b	8b e5		 mov	 esp, ebp
  0003d	5d		 pop	 ebp
  0003e	c3		 ret	 0
??1CParticleSystem@@QAE@XZ ENDP				; CParticleSystem::~CParticleSystem
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:NEAR				; operator delete
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?Clear@CParticleSystem@@QAEHXZ
_TEXT	SEGMENT
$T85216 = -248
$T85215 = -236
_pSpark$84963 = -32
_pSpark$84958 = -20
_this$ = -8
?Clear@CParticleSystem@@QAEHXZ PROC NEAR		; CParticleSystem::Clear, COMDAT
; _this$ = ecx

; 40   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00013	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
$L84956:

; 41   : 		while( m_pParticles )

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	83 78 18 00	 cmp	 DWORD PTR [eax+24], 0
  0002a	74 2f		 je	 SHORT $L84957

; 42   : 		{
; 43   : 			PARTICLE* pSpark = m_pParticles;

  0002c	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002f	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  00032	89 4d ec	 mov	 DWORD PTR _pSpark$84958[ebp], ecx

; 44   : 			m_pParticles = pSpark->m_pNext;

  00035	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00038	8b 4d ec	 mov	 ecx, DWORD PTR _pSpark$84958[ebp]
  0003b	8b 51 6c	 mov	 edx, DWORD PTR [ecx+108]
  0003e	89 50 18	 mov	 DWORD PTR [eax+24], edx

; 45   : 			delete pSpark;

  00041	8b 45 ec	 mov	 eax, DWORD PTR _pSpark$84958[ebp]
  00044	89 85 14 ff ff
	ff		 mov	 DWORD PTR $T85215[ebp], eax
  0004a	8b 8d 14 ff ff
	ff		 mov	 ecx, DWORD PTR $T85215[ebp]
  00050	51		 push	 ecx
  00051	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00056	83 c4 04	 add	 esp, 4

; 46   : 		}

  00059	eb c8		 jmp	 SHORT $L84956
$L84957:

; 47   : 		m_pParticles = NULL ;

  0005b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0005e	c7 40 18 00 00
	00 00		 mov	 DWORD PTR [eax+24], 0

; 48   : 		m_dwParticles = 0 ;

  00065	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00068	c7 40 10 00 00
	00 00		 mov	 DWORD PTR [eax+16], 0
$L84961:

; 49   : 
; 50   : 		while( m_pParticlesFree )

  0006f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00072	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  00076	74 2f		 je	 SHORT $L84962

; 51   : 		{
; 52   : 			PARTICLE *pSpark = m_pParticlesFree;

  00078	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007b	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]
  0007e	89 4d e0	 mov	 DWORD PTR _pSpark$84963[ebp], ecx

; 53   : 			m_pParticlesFree = pSpark->m_pNext;

  00081	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00084	8b 4d e0	 mov	 ecx, DWORD PTR _pSpark$84963[ebp]
  00087	8b 51 6c	 mov	 edx, DWORD PTR [ecx+108]
  0008a	89 50 1c	 mov	 DWORD PTR [eax+28], edx

; 54   : 			delete pSpark;

  0008d	8b 45 e0	 mov	 eax, DWORD PTR _pSpark$84963[ebp]
  00090	89 85 08 ff ff
	ff		 mov	 DWORD PTR $T85216[ebp], eax
  00096	8b 8d 08 ff ff
	ff		 mov	 ecx, DWORD PTR $T85216[ebp]
  0009c	51		 push	 ecx
  0009d	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  000a2	83 c4 04	 add	 esp, 4

; 55   : 		}	

  000a5	eb c8		 jmp	 SHORT $L84961
$L84962:

; 56   : 		m_pParticlesFree = NULL ;

  000a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000aa	c7 40 1c 00 00
	00 00		 mov	 DWORD PTR [eax+28], 0

; 57   : 	}

  000b1	5f		 pop	 edi
  000b2	5e		 pop	 esi
  000b3	5b		 pop	 ebx
  000b4	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  000ba	3b ec		 cmp	 ebp, esp
  000bc	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000c1	8b e5		 mov	 esp, ebp
  000c3	5d		 pop	 ebp
  000c4	c3		 ret	 0
?Clear@CParticleSystem@@QAEHXZ ENDP			; CParticleSystem::Clear
_TEXT	ENDS
PUBLIC	?__LINE__Var@?1??Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z@4JA ; `CParticleSystem::Render'::`2'::__LINE__Var
PUBLIC	??_C@_0FB@LBDDPIFN@c?3?2documents?5and?5settings?2dom?2my@ ; `string'
PUBLIC	??_C@_0M@NKNCPJJD@?$CBFAILED?$CIhr?$CJ?$AA@	; `string'
PUBLIC	?D3DXColorLerp@@YAPAUD3DXCOLOR@@PAU1@PBU1@1M@Z	; D3DXColorLerp
PUBLIC	__real@bd23d70a
PUBLIC	__real@00000000
PUBLIC	__real@3f800000
PUBLIC	??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z			; D3DXVECTOR3::operator+=
PUBLIC	??XD3DXVECTOR3@@QAEAAU0@M@Z			; D3DXVECTOR3::operator*=
PUBLIC	??0D3DXMATRIX@@QAE@XZ				; D3DXMATRIX::D3DXMATRIX
PUBLIC	??0D3DXCOLOR@@QAE@XZ				; D3DXCOLOR::D3DXCOLOR
PUBLIC	??BD3DXCOLOR@@QBEKXZ				; D3DXCOLOR::operator unsigned long
PUBLIC	?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z	; D3DXVec3LengthSq
PUBLIC	?Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z ; CParticleSystem::Render
EXTRN	@_RTC_CheckStackVars@8:NEAR
EXTRN	__assert:NEAR
EXTRN	?g_matIdent@@3UD3DXMATRIX@@A:BYTE		; g_matIdent
EXTRN	?FtoDW@@YAKM@Z:NEAR				; FtoDW
;	COMDAT __real@bd23d70a
CONST	SEGMENT
__real@bd23d70a DD 0bd23d70ar			; -0.04
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT ?__LINE__Var@?1??Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z@4JA
_DATA	SEGMENT
?__LINE__Var@?1??Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z@4JA DD 042H ; `CParticleSystem::Render'::`2'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0FB@LBDDPIFN@c?3?2documents?5and?5settings?2dom?2my@
CONST	SEGMENT
??_C@_0FB@LBDDPIFN@c?3?2documents?5and?5settings?2dom?2my@ DB 'c:\documen'
	DB	'ts and settings\dom\my documents\_dev\ae\xlr8a\x7g\cparticles'
	DB	'ystem.cpp', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@NKNCPJJD@?$CBFAILED?$CIhr?$CJ?$AA@
CONST	SEGMENT
??_C@_0M@NKNCPJJD@?$CBFAILED?$CIhr?$CJ?$AA@ DB '!FAILED(hr)', 00H ; `string'
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z
_TEXT	SEGMENT
tv404 = -448
tv193 = -444
_i$85005 = -244
_dwDiffuse$85003 = -232
_clrDiffuse$85002 = -220
_dwSteps$85000 = -196
_fLengthSq$84999 = -184
_vVel$84998 = -172
_vPos$84997 = -152
_dwNumParticlesToRender$84986 = -132
_pVertices$84985 = -120
_pParticle$84984 = -108
_matWorld$ = -96
_hr$ = -20
_this$ = -8
_pDev$ = 8
_fPointSize$ = 12
_pulPolycount$ = 16
_pVB$ = 20
_pmatWorld$ = 24
_bMustFillVB$ = 28
_pmatCurWorld$ = 32
?Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z PROC NEAR ; CParticleSystem::Render, COMDAT
; _this$ = ecx

; 66   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 01 00
	00		 sub	 esp, 448		; 000001c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 40 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-448]
  00013	b9 70 00 00 00	 mov	 ecx, 112		; 00000070H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 67   : 		HRESULT hr = S_OK ;

  00023	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _hr$[ebp], 0

; 68   : 		xMat matWorld ;

  0002a	8d 4d a0	 lea	 ecx, DWORD PTR _matWorld$[ebp]
  0002d	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX

; 69   : 
; 70   : 		if( pmatWorld )

  00032	83 7d 18 00	 cmp	 DWORD PTR _pmatWorld$[ebp], 0
  00036	74 23		 je	 SHORT $L84978

; 71   : 		{
; 72   : 			/*if( pmatCurWorld )
; 73   : 			{
; 74   : 				D3DXMatrixMultiply( &matWorld, pmatCurWorld, pmatWorld );
; 75   : 				pDev->SetTransform( D3DTS_WORLD, &matWorld );
; 76   : 			}
; 77   : 			else*/
; 78   : 				pDev->SetTransform( D3DTS_WORLD, pmatWorld );

  00038	8b f4		 mov	 esi, esp
  0003a	8b 45 18	 mov	 eax, DWORD PTR _pmatWorld$[ebp]
  0003d	50		 push	 eax
  0003e	68 00 01 00 00	 push	 256			; 00000100H
  00043	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  00046	8b 11		 mov	 edx, DWORD PTR [ecx]
  00048	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  0004b	50		 push	 eax
  0004c	ff 92 94 00 00
	00		 call	 DWORD PTR [edx+148]
  00052	3b f4		 cmp	 esi, esp
  00054	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 79   : 		}
; 80   : 		else

  00059	eb 22		 jmp	 SHORT $L84980
$L84978:

; 81   : 		{
; 82   : 			/*if( pmatCurWorld )
; 83   : 			{
; 84   : 				D3DXMatrixMultiply( &matWorld, pmatCurWorld, pmatWorld );
; 85   : 				pDev->SetTransform( D3DTS_WORLD, &matWorld );
; 86   : 			}
; 87   : 			else*/
; 88   : 			{
; 89   : 				pDev->SetTransform( D3DTS_WORLD, &g_matIdent );

  0005b	8b f4		 mov	 esi, esp
  0005d	68 00 00 00 00	 push	 OFFSET FLAT:?g_matIdent@@3UD3DXMATRIX@@A ; g_matIdent
  00062	68 00 01 00 00	 push	 256			; 00000100H
  00067	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  0006a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0006c	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  0006f	52		 push	 edx
  00070	ff 91 94 00 00
	00		 call	 DWORD PTR [ecx+148]
  00076	3b f4		 cmp	 esi, esp
  00078	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L84980:

; 90   : 			}
; 91   : 		}
; 92   : 
; 93   : 		pDev->SetRenderState( D3DRS_LIGHTING,  FALSE );

  0007d	8b f4		 mov	 esi, esp
  0007f	6a 00		 push	 0
  00081	68 89 00 00 00	 push	 137			; 00000089H
  00086	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  00089	8b 08		 mov	 ecx, DWORD PTR [eax]
  0008b	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  0008e	52		 push	 edx
  0008f	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  00095	3b f4		 cmp	 esi, esp
  00097	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 94   : 		pDev->SetRenderState( D3DRS_CULLMODE,  D3DCULL_NONE );

  0009c	8b f4		 mov	 esi, esp
  0009e	6a 01		 push	 1
  000a0	6a 16		 push	 22			; 00000016H
  000a2	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  000a5	8b 08		 mov	 ecx, DWORD PTR [eax]
  000a7	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  000aa	52		 push	 edx
  000ab	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  000b1	3b f4		 cmp	 esi, esp
  000b3	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 95   : 		pDev->SetRenderState( D3DRS_ALPHABLENDENABLE, TRUE );

  000b8	8b f4		 mov	 esi, esp
  000ba	6a 01		 push	 1
  000bc	6a 1b		 push	 27			; 0000001bH
  000be	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  000c1	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c3	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  000c6	52		 push	 edx
  000c7	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  000cd	3b f4		 cmp	 esi, esp
  000cf	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 96   : 
; 97   : 		pDev->SetRenderState( D3DRS_POINTSPRITEENABLE, TRUE );

  000d4	8b f4		 mov	 esi, esp
  000d6	6a 01		 push	 1
  000d8	68 9c 00 00 00	 push	 156			; 0000009cH
  000dd	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  000e0	8b 08		 mov	 ecx, DWORD PTR [eax]
  000e2	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  000e5	52		 push	 edx
  000e6	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  000ec	3b f4		 cmp	 esi, esp
  000ee	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 98   : 		pDev->SetRenderState( D3DRS_POINTSCALEENABLE,  TRUE );

  000f3	8b f4		 mov	 esi, esp
  000f5	6a 01		 push	 1
  000f7	68 9d 00 00 00	 push	 157			; 0000009dH
  000fc	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  000ff	8b 08		 mov	 ecx, DWORD PTR [eax]
  00101	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  00104	52		 push	 edx
  00105	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  0010b	3b f4		 cmp	 esi, esp
  0010d	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 99   : 		pDev->SetRenderState( D3DRS_POINTSIZE,     FtoDW(fPointSize) );

  00112	8b 45 0c	 mov	 eax, DWORD PTR _fPointSize$[ebp]
  00115	50		 push	 eax
  00116	e8 00 00 00 00	 call	 ?FtoDW@@YAKM@Z		; FtoDW
  0011b	83 c4 04	 add	 esp, 4
  0011e	8b f4		 mov	 esi, esp
  00120	50		 push	 eax
  00121	68 9a 00 00 00	 push	 154			; 0000009aH
  00126	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  00129	8b 11		 mov	 edx, DWORD PTR [ecx]
  0012b	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  0012e	50		 push	 eax
  0012f	ff 92 c8 00 00
	00		 call	 DWORD PTR [edx+200]
  00135	3b f4		 cmp	 esi, esp
  00137	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 100  : 		pDev->SetRenderState( D3DRS_POINTSIZE_MIN, FtoDW(0.00f) );

  0013c	6a 00		 push	 0
  0013e	e8 00 00 00 00	 call	 ?FtoDW@@YAKM@Z		; FtoDW
  00143	83 c4 04	 add	 esp, 4
  00146	8b f4		 mov	 esi, esp
  00148	50		 push	 eax
  00149	68 9b 00 00 00	 push	 155			; 0000009bH
  0014e	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  00151	8b 08		 mov	 ecx, DWORD PTR [eax]
  00153	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  00156	52		 push	 edx
  00157	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  0015d	3b f4		 cmp	 esi, esp
  0015f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 101  : 		/*pDev->SetRenderState( D3DRS_POINTSCALE_A,  FtoDW(1.00f) );
; 102  : 		pDev->SetRenderState( D3DRS_POINTSCALE_B,  FtoDW(0.00f) );
; 103  : 		pDev->SetRenderState( D3DRS_POINTSCALE_C,  FtoDW(0.00f) );*/
; 104  : 	
; 105  : 
; 106  : 		pDev->SetStreamSource( 0, pVB, sizeof( POINTSPRITEVERTEX ) );

  00164	8b f4		 mov	 esi, esp
  00166	6a 10		 push	 16			; 00000010H
  00168	8b 45 14	 mov	 eax, DWORD PTR _pVB$[ebp]
  0016b	50		 push	 eax
  0016c	6a 00		 push	 0
  0016e	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  00171	8b 11		 mov	 edx, DWORD PTR [ecx]
  00173	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  00176	50		 push	 eax
  00177	ff 92 4c 01 00
	00		 call	 DWORD PTR [edx+332]
  0017d	3b f4		 cmp	 esi, esp
  0017f	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 107  : 		pDev->SetVertexShader( MYFVF_POINTSPRITEVERTEX );

  00184	8b f4		 mov	 esi, esp
  00186	6a 42		 push	 66			; 00000042H
  00188	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  0018b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0018d	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  00190	52		 push	 edx
  00191	ff 91 30 01 00
	00		 call	 DWORD PTR [ecx+304]
  00197	3b f4		 cmp	 esi, esp
  00199	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 108  : 
; 109  : 		if( bMustFillVB )

  0019e	83 7d 1c 00	 cmp	 DWORD PTR _bMustFillVB$[ebp], 0
  001a2	0f 84 57 03 00
	00		 je	 $L84983

; 110  : 		{
; 111  : 			PARTICLE*    pParticle = m_pParticles;

  001a8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001ab	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  001ae	89 4d 94	 mov	 DWORD PTR _pParticle$84984[ebp], ecx

; 112  : 			POINTSPRITEVERTEX* pVertices;
; 113  : 			DWORD        dwNumParticlesToRender = 0;

  001b1	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _dwNumParticlesToRender$84986[ebp], 0

; 114  : 
; 115  : 			// Lock the vertex buffer.  We fill the vertex buffer in small
; 116  : 			// chunks, using D3DLOCK_NOOVERWRITE.  When we are done filling
; 117  : 			// each chunk, we call DrawPrim, and lock the next chunk.  When
; 118  : 			// we run out of space in the vertex buffer, we start over at
; 119  : 			// the beginning, using D3DLOCK_DISCARD.
; 120  : 
; 121  : 			/*m_dwBase += m_dwFlush;
; 122  : 
; 123  : 			if(m_dwBase >= m_dwDiscard)
; 124  : 				m_dwBase = 0;*/
; 125  : 			m_dwBase = 0 ;

  001bb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001be	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 126  : 
; 127  : 			if(FAILED(hr = pVB->Lock(m_dwBase * sizeof(POINTSPRITEVERTEX), m_dwFlush * sizeof(POINTSPRITEVERTEX),
; 128  : 				(BYTE **) &pVertices, /*m_dwBase ? D3DLOCK_NOOVERWRITE :*/ D3DLOCK_DISCARD)))

  001c5	8b f4		 mov	 esi, esp
  001c7	68 00 20 00 00	 push	 8192			; 00002000H
  001cc	8d 45 88	 lea	 eax, DWORD PTR _pVertices$84985[ebp]
  001cf	50		 push	 eax
  001d0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001d6	c1 e2 04	 shl	 edx, 4
  001d9	52		 push	 edx
  001da	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001dd	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  001e0	c1 e1 04	 shl	 ecx, 4
  001e3	51		 push	 ecx
  001e4	8b 55 14	 mov	 edx, DWORD PTR _pVB$[ebp]
  001e7	8b 02		 mov	 eax, DWORD PTR [edx]
  001e9	8b 4d 14	 mov	 ecx, DWORD PTR _pVB$[ebp]
  001ec	51		 push	 ecx
  001ed	ff 50 2c	 call	 DWORD PTR [eax+44]
  001f0	3b f4		 cmp	 esi, esp
  001f2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001f7	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  001fa	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  001fe	7d 05		 jge	 SHORT $L84995

; 129  : 			{
; 130  : 				goto done ;

  00200	e9 53 03 00 00	 jmp	 $done$84992
$L84995:

; 131  : 			}
; 132  : 
; 133  : 			// Render each particle
; 134  : 			while( pParticle )

  00205	83 7d 94 00	 cmp	 DWORD PTR _pParticle$84984[ebp], 0
  00209	0f 84 8d 02 00
	00		 je	 $L84996

; 135  : 			{
; 136  : 				xVec3 vPos(pParticle->m_vPos);

  0020f	8b 45 94	 mov	 eax, DWORD PTR _pParticle$84984[ebp]
  00212	83 c0 04	 add	 eax, 4
  00215	8b 08		 mov	 ecx, DWORD PTR [eax]
  00217	89 8d 68 ff ff
	ff		 mov	 DWORD PTR _vPos$84997[ebp], ecx
  0021d	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00220	89 95 6c ff ff
	ff		 mov	 DWORD PTR _vPos$84997[ebp+4], edx
  00226	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00229	89 85 70 ff ff
	ff		 mov	 DWORD PTR _vPos$84997[ebp+8], eax

; 137  : 				xVec3 vVel(pParticle->m_vVel);

  0022f	8b 45 94	 mov	 eax, DWORD PTR _pParticle$84984[ebp]
  00232	83 c0 10	 add	 eax, 16			; 00000010H
  00235	8b 08		 mov	 ecx, DWORD PTR [eax]
  00237	89 8d 54 ff ff
	ff		 mov	 DWORD PTR _vVel$84998[ebp], ecx
  0023d	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00240	89 95 58 ff ff
	ff		 mov	 DWORD PTR _vVel$84998[ebp+4], edx
  00246	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00249	89 85 5c ff ff
	ff		 mov	 DWORD PTR _vVel$84998[ebp+8], eax

; 138  : 				FLOAT       fLengthSq = D3DXVec3LengthSq(&vVel);

  0024f	8d 85 54 ff ff
	ff		 lea	 eax, DWORD PTR _vVel$84998[ebp]
  00255	50		 push	 eax
  00256	e8 00 00 00 00	 call	 ?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z ; D3DXVec3LengthSq
  0025b	83 c4 04	 add	 esp, 4
  0025e	d9 9d 48 ff ff
	ff		 fstp	 DWORD PTR _fLengthSq$84999[ebp]

; 139  : 				UINT        dwSteps;
; 140  : 
; 141  : 				// Render each particle a bunch of times to get a blurring effect
; 142  : 				// to be enabled
; 143  : 				/*if( fLengthSq < 1.0f )        dwSteps = 2;
; 144  : 				else if( fLengthSq <  4.00f ) dwSteps = 3;
; 145  : 				else if( fLengthSq <  9.00f ) dwSteps = 4;
; 146  : 				else if( fLengthSq < 12.25f ) dwSteps = 5;
; 147  : 				else if( fLengthSq < 16.00f ) dwSteps = 6;
; 148  : 				else if( fLengthSq < 20.25f ) dwSteps = 7;
; 149  : 				else                          dwSteps = 8;*/
; 150  : 				dwSteps = 1 ;

  00264	c7 85 3c ff ff
	ff 01 00 00 00	 mov	 DWORD PTR _dwSteps$85000[ebp], 1

; 151  : 
; 152  : 				vVel *= -0.04f / (FLOAT)dwSteps;

  0026e	8b 85 3c ff ff
	ff		 mov	 eax, DWORD PTR _dwSteps$85000[ebp]
  00274	89 85 40 fe ff
	ff		 mov	 DWORD PTR tv404[ebp], eax
  0027a	c7 85 44 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv404[ebp+4], 0
  00284	df ad 40 fe ff
	ff		 fild	 QWORD PTR tv404[ebp]
  0028a	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@bd23d70a
  00290	51		 push	 ecx
  00291	d9 1c 24	 fstp	 DWORD PTR [esp]
  00294	8d 8d 54 ff ff
	ff		 lea	 ecx, DWORD PTR _vVel$84998[ebp]
  0029a	e8 00 00 00 00	 call	 ??XD3DXVECTOR3@@QAEAAU0@M@Z ; D3DXVECTOR3::operator*=

; 153  : 
; 154  : 				
; 155  : 				D3DXCOLOR clrDiffuse;

  0029f	8d 8d 24 ff ff
	ff		 lea	 ecx, DWORD PTR _clrDiffuse$85002[ebp]
  002a5	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@XZ	; D3DXCOLOR::D3DXCOLOR

; 156  : 				//D3DXColorLerp(&clrDiffuse, &pParticle->m_clrFade, &pParticle->m_clrDiffuse, pParticle->m_fFade );
; 157  : 
; 158  : 				//float fT = m_fTime - pParticle->m_fTime0;
; 159  : 
; 160  : 				D3DXColorLerp(&clrDiffuse, &pParticle->m_clrFade, &pParticle->m_clrDiffuse,
; 161  : 										pParticle->m_fAbsLifeTime > 0.0f ?
; 162  : 											1.0f - (pParticle->m_fAge / pParticle->m_fAbsLifeTime)
; 163  : 											: 1.0f 
; 164  : 											/*pParticle->m_fFade*/ );

  002aa	8b 45 94	 mov	 eax, DWORD PTR _pParticle$84984[ebp]
  002ad	d9 40 3c	 fld	 DWORD PTR [eax+60]
  002b0	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  002b6	df e0		 fnstsw	 ax
  002b8	f6 c4 41	 test	 ah, 65			; 00000041H
  002bb	75 1a		 jne	 SHORT $L85219
  002bd	8b 4d 94	 mov	 ecx, DWORD PTR _pParticle$84984[ebp]
  002c0	8b 55 94	 mov	 edx, DWORD PTR _pParticle$84984[ebp]
  002c3	d9 41 38	 fld	 DWORD PTR [ecx+56]
  002c6	d8 72 3c	 fdiv	 DWORD PTR [edx+60]
  002c9	d8 2d 00 00 00
	00		 fsubr	 DWORD PTR __real@3f800000
  002cf	d9 9d 44 fe ff
	ff		 fstp	 DWORD PTR tv193[ebp]
  002d5	eb 0a		 jmp	 SHORT $L85220
$L85219:
  002d7	c7 85 44 fe ff
	ff 00 00 80 3f	 mov	 DWORD PTR tv193[ebp], 1065353216 ; 3f800000H
$L85220:
  002e1	8b 85 44 fe ff
	ff		 mov	 eax, DWORD PTR tv193[ebp]
  002e7	50		 push	 eax
  002e8	8b 4d 94	 mov	 ecx, DWORD PTR _pParticle$84984[ebp]
  002eb	83 c1 44	 add	 ecx, 68			; 00000044H
  002ee	51		 push	 ecx
  002ef	8b 55 94	 mov	 edx, DWORD PTR _pParticle$84984[ebp]
  002f2	83 c2 54	 add	 edx, 84			; 00000054H
  002f5	52		 push	 edx
  002f6	8d 85 24 ff ff
	ff		 lea	 eax, DWORD PTR _clrDiffuse$85002[ebp]
  002fc	50		 push	 eax
  002fd	e8 00 00 00 00	 call	 ?D3DXColorLerp@@YAPAUD3DXCOLOR@@PAU1@PBU1@1M@Z ; D3DXColorLerp
  00302	83 c4 10	 add	 esp, 16			; 00000010H

; 165  : 
; 166  : 				DWORD dwDiffuse = (DWORD) clrDiffuse;

  00305	8d 8d 24 ff ff
	ff		 lea	 ecx, DWORD PTR _clrDiffuse$85002[ebp]
  0030b	e8 00 00 00 00	 call	 ??BD3DXCOLOR@@QBEKXZ	; D3DXCOLOR::operator unsigned long
  00310	89 85 18 ff ff
	ff		 mov	 DWORD PTR _dwDiffuse$85003[ebp], eax

; 167  : 
; 168  : 				// Render each particle a bunch of times to get a blurring effect
; 169  : 				for( DWORD i = 0; i < dwSteps; i++ )

  00316	c7 85 0c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _i$85005[ebp], 0
  00320	eb 0f		 jmp	 SHORT $L85006
$L85007:
  00322	8b 85 0c ff ff
	ff		 mov	 eax, DWORD PTR _i$85005[ebp]
  00328	83 c0 01	 add	 eax, 1
  0032b	89 85 0c ff ff
	ff		 mov	 DWORD PTR _i$85005[ebp], eax
$L85006:
  00331	8b 85 0c ff ff
	ff		 mov	 eax, DWORD PTR _i$85005[ebp]
  00337	3b 85 3c ff ff
	ff		 cmp	 eax, DWORD PTR _dwSteps$85000[ebp]
  0033d	0f 83 4b 01 00
	00		 jae	 $L85008

; 170  : 				{
; 171  : 					pVertices->v     = vPos;

  00343	8b 45 88	 mov	 eax, DWORD PTR _pVertices$84985[ebp]
  00346	8b 8d 68 ff ff
	ff		 mov	 ecx, DWORD PTR _vPos$84997[ebp]
  0034c	89 08		 mov	 DWORD PTR [eax], ecx
  0034e	8b 95 6c ff ff
	ff		 mov	 edx, DWORD PTR _vPos$84997[ebp+4]
  00354	89 50 04	 mov	 DWORD PTR [eax+4], edx
  00357	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _vPos$84997[ebp+8]
  0035d	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 172  : 					pVertices->color = dwDiffuse;

  00360	8b 45 88	 mov	 eax, DWORD PTR _pVertices$84985[ebp]
  00363	8b 8d 18 ff ff
	ff		 mov	 ecx, DWORD PTR _dwDiffuse$85003[ebp]
  00369	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 173  : 					pVertices++;

  0036c	8b 45 88	 mov	 eax, DWORD PTR _pVertices$84985[ebp]
  0036f	83 c0 10	 add	 eax, 16			; 00000010H
  00372	89 45 88	 mov	 DWORD PTR _pVertices$84985[ebp], eax

; 174  : 
; 175  : 					if( ++dwNumParticlesToRender == m_dwFlush )

  00375	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _dwNumParticlesToRender$84986[ebp]
  0037b	83 c0 01	 add	 eax, 1
  0037e	89 85 7c ff ff
	ff		 mov	 DWORD PTR _dwNumParticlesToRender$84986[ebp], eax
  00384	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00387	8b 95 7c ff ff
	ff		 mov	 edx, DWORD PTR _dwNumParticlesToRender$84986[ebp]
  0038d	3b 51 08	 cmp	 edx, DWORD PTR [ecx+8]
  00390	0f 85 e1 00 00
	00		 jne	 $L85009

; 176  : 					{
; 177  : 						// Done filling this chunk of the vertex buffer.  Lets unlock and
; 178  : 						// draw this portion so we can begin filling the next chunk.
; 179  : 
; 180  : 						pVB->Unlock();

  00396	8b 45 14	 mov	 eax, DWORD PTR _pVB$[ebp]
  00399	8b 08		 mov	 ecx, DWORD PTR [eax]
  0039b	8b f4		 mov	 esi, esp
  0039d	8b 55 14	 mov	 edx, DWORD PTR _pVB$[ebp]
  003a0	52		 push	 edx
  003a1	ff 51 30	 call	 DWORD PTR [ecx+48]
  003a4	3b f4		 cmp	 esi, esp
  003a6	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 181  : 
; 182  : 						if(FAILED(hr = pDev->DrawPrimitive( D3DPT_POINTLIST, m_dwBase, dwNumParticlesToRender)))

  003ab	8b f4		 mov	 esi, esp
  003ad	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _dwNumParticlesToRender$84986[ebp]
  003b3	50		 push	 eax
  003b4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  003b7	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  003ba	52		 push	 edx
  003bb	6a 01		 push	 1
  003bd	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  003c0	8b 08		 mov	 ecx, DWORD PTR [eax]
  003c2	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  003c5	52		 push	 edx
  003c6	ff 91 18 01 00
	00		 call	 DWORD PTR [ecx+280]
  003cc	3b f4		 cmp	 esi, esp
  003ce	e8 00 00 00 00	 call	 __RTC_CheckEsp
  003d3	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  003d6	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  003da	7d 05		 jge	 SHORT $L85011

; 183  : 							goto done ;

  003dc	e9 77 01 00 00	 jmp	 $done$84992
$L85011:

; 184  : 						*pulPolycount += dwNumParticlesToRender ;

  003e1	8b 45 10	 mov	 eax, DWORD PTR _pulPolycount$[ebp]
  003e4	8b 08		 mov	 ecx, DWORD PTR [eax]
  003e6	03 8d 7c ff ff
	ff		 add	 ecx, DWORD PTR _dwNumParticlesToRender$84986[ebp]
  003ec	8b 55 10	 mov	 edx, DWORD PTR _pulPolycount$[ebp]
  003ef	89 0a		 mov	 DWORD PTR [edx], ecx

; 185  : 
; 186  : 						// Lock the next chunk of the vertex buffer.  If we are at the 
; 187  : 						// end of the vertex buffer, DISCARD the vertex buffer and start
; 188  : 						// at the beginning.  Otherwise, specify NOOVERWRITE, so we can
; 189  : 						// continue filling the VB while the previous chunk is drawing.
; 190  : 						m_dwBase += m_dwFlush;

  003f1	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  003f4	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  003f7	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  003fa	03 4a 08	 add	 ecx, DWORD PTR [edx+8]
  003fd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00400	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 191  : 
; 192  : 						if(m_dwBase >= m_dwDiscard)

  00403	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00406	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00409	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0040c	3b 51 0c	 cmp	 edx, DWORD PTR [ecx+12]
  0040f	72 0a		 jb	 SHORT $L85013

; 193  : 							m_dwBase = 0;

  00411	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00414	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0
$L85013:

; 194  : 
; 195  : 						if(FAILED(hr = pVB->Lock(m_dwBase * sizeof(POINTSPRITEVERTEX), m_dwFlush * sizeof(POINTSPRITEVERTEX), (BYTE **) &pVertices, m_dwBase ? D3DLOCK_NOOVERWRITE : D3DLOCK_DISCARD)))

  0041b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0041e	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00421	f7 d9		 neg	 ecx
  00423	1b c9		 sbb	 ecx, ecx
  00425	81 e1 00 f0 ff
	ff		 and	 ecx, -4096		; fffff000H
  0042b	81 c1 00 20 00
	00		 add	 ecx, 8192		; 00002000H
  00431	8b f4		 mov	 esi, esp
  00433	51		 push	 ecx
  00434	8d 55 88	 lea	 edx, DWORD PTR _pVertices$84985[ebp]
  00437	52		 push	 edx
  00438	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0043b	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0043e	c1 e1 04	 shl	 ecx, 4
  00441	51		 push	 ecx
  00442	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00445	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00448	c1 e0 04	 shl	 eax, 4
  0044b	50		 push	 eax
  0044c	8b 4d 14	 mov	 ecx, DWORD PTR _pVB$[ebp]
  0044f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00451	8b 45 14	 mov	 eax, DWORD PTR _pVB$[ebp]
  00454	50		 push	 eax
  00455	ff 52 2c	 call	 DWORD PTR [edx+44]
  00458	3b f4		 cmp	 esi, esp
  0045a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0045f	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  00462	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00466	7d 05		 jge	 SHORT $L85018

; 196  : 						{
; 197  : 							goto done ;

  00468	e9 eb 00 00 00	 jmp	 $done$84992
$L85018:

; 198  : 						}
; 199  : 
; 200  : 						dwNumParticlesToRender = 0;

  0046d	c7 85 7c ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _dwNumParticlesToRender$84986[ebp], 0
$L85009:

; 201  : 					}
; 202  : 
; 203  : 					vPos += vVel;

  00477	8d 85 54 ff ff
	ff		 lea	 eax, DWORD PTR _vVel$84998[ebp]
  0047d	50		 push	 eax
  0047e	8d 8d 68 ff ff
	ff		 lea	 ecx, DWORD PTR _vPos$84997[ebp]
  00484	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 204  : 				}

  00489	e9 94 fe ff ff	 jmp	 $L85007
$L85008:

; 205  : 
; 206  : 				pParticle = pParticle->m_pNext;

  0048e	8b 45 94	 mov	 eax, DWORD PTR _pParticle$84984[ebp]
  00491	8b 48 6c	 mov	 ecx, DWORD PTR [eax+108]
  00494	89 4d 94	 mov	 DWORD PTR _pParticle$84984[ebp], ecx

; 207  : 			}

  00497	e9 69 fd ff ff	 jmp	 $L84995
$L84996:

; 208  : 
; 209  : 			// Unlock the vertex buffer
; 210  : 			pVB->Unlock();

  0049c	8b 45 14	 mov	 eax, DWORD PTR _pVB$[ebp]
  0049f	8b 08		 mov	 ecx, DWORD PTR [eax]
  004a1	8b f4		 mov	 esi, esp
  004a3	8b 55 14	 mov	 edx, DWORD PTR _pVB$[ebp]
  004a6	52		 push	 edx
  004a7	ff 51 30	 call	 DWORD PTR [ecx+48]
  004aa	3b f4		 cmp	 esi, esp
  004ac	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 211  : 
; 212  : 			// Render any remaining particles
; 213  : 			if( dwNumParticlesToRender )

  004b1	83 bd 7c ff ff
	ff 00		 cmp	 DWORD PTR _dwNumParticlesToRender$84986[ebp], 0
  004b8	74 43		 je	 SHORT $L85020

; 214  : 			{
; 215  : 				if(FAILED(hr = pDev->DrawPrimitive( D3DPT_POINTLIST, m_dwBase, dwNumParticlesToRender )))

  004ba	8b f4		 mov	 esi, esp
  004bc	8b 85 7c ff ff
	ff		 mov	 eax, DWORD PTR _dwNumParticlesToRender$84986[ebp]
  004c2	50		 push	 eax
  004c3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  004c6	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  004c9	52		 push	 edx
  004ca	6a 01		 push	 1
  004cc	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  004cf	8b 08		 mov	 ecx, DWORD PTR [eax]
  004d1	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  004d4	52		 push	 edx
  004d5	ff 91 18 01 00
	00		 call	 DWORD PTR [ecx+280]
  004db	3b f4		 cmp	 esi, esp
  004dd	e8 00 00 00 00	 call	 __RTC_CheckEsp
  004e2	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax
  004e5	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  004e9	7d 02		 jge	 SHORT $L85022

; 216  : 					goto done ;

  004eb	eb 6b		 jmp	 SHORT $done$84992
$L85022:

; 217  : 				*pulPolycount += dwNumParticlesToRender ;

  004ed	8b 45 10	 mov	 eax, DWORD PTR _pulPolycount$[ebp]
  004f0	8b 08		 mov	 ecx, DWORD PTR [eax]
  004f2	03 8d 7c ff ff
	ff		 add	 ecx, DWORD PTR _dwNumParticlesToRender$84986[ebp]
  004f8	8b 55 10	 mov	 edx, DWORD PTR _pulPolycount$[ebp]
  004fb	89 0a		 mov	 DWORD PTR [edx], ecx
$L85020:

; 218  : 			}
; 219  : 		}
; 220  : 		else	// HACK

  004fd	eb 59		 jmp	 SHORT $done$84992
$L84983:

; 221  : 				//
; 222  : 				// quicker render, relies on previous call to this function left the VB intact
; 223  : 				// and ready to render - the only change we can apply in this case is thru the world matrix
; 224  : 				//
; 225  : 				// NOTE: also will only work if the # of particles in the last call was less than m_dwDiscard,
; 226  : 				// i.e. that the *entire* particle system is sat in the VB.
; 227  : 		{
; 228  : 			hr = pDev->DrawPrimitive( D3DPT_POINTLIST, 0, m_dwParticles );

  004ff	8b f4		 mov	 esi, esp
  00501	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00504	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  00507	51		 push	 ecx
  00508	6a 00		 push	 0
  0050a	6a 01		 push	 1
  0050c	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  0050f	8b 02		 mov	 eax, DWORD PTR [edx]
  00511	8b 4d 08	 mov	 ecx, DWORD PTR _pDev$[ebp]
  00514	51		 push	 ecx
  00515	ff 90 18 01 00
	00		 call	 DWORD PTR [eax+280]
  0051b	3b f4		 cmp	 esi, esp
  0051d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00522	89 45 ec	 mov	 DWORD PTR _hr$[ebp], eax

; 229  : 			assert( !FAILED(hr) );

  00525	83 7d ec 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00529	7d 1d		 jge	 SHORT $L85221
  0052b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?__LINE__Var@?1??Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z@4JA
  00530	05 a3 00 00 00	 add	 eax, 163		; 000000a3H
  00535	50		 push	 eax
  00536	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0FB@LBDDPIFN@c?3?2documents?5and?5settings?2dom?2my@
  0053b	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@NKNCPJJD@?$CBFAILED?$CIhr?$CJ?$AA@
  00540	e8 00 00 00 00	 call	 __assert
  00545	83 c4 0c	 add	 esp, 12			; 0000000cH
$L85221:

; 230  : 			*pulPolycount += m_dwParticles ;

  00548	8b 45 10	 mov	 eax, DWORD PTR _pulPolycount$[ebp]
  0054b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0054d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00550	03 4a 10	 add	 ecx, DWORD PTR [edx+16]
  00553	8b 45 10	 mov	 eax, DWORD PTR _pulPolycount$[ebp]
  00556	89 08		 mov	 DWORD PTR [eax], ecx
$done$84992:

; 231  : 		}
; 232  : 
; 233  : done:
; 234  : 
; 235  : 		pDev->SetRenderState( D3DRS_POINTSPRITEENABLE, FALSE );

  00558	8b f4		 mov	 esi, esp
  0055a	6a 00		 push	 0
  0055c	68 9c 00 00 00	 push	 156			; 0000009cH
  00561	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  00564	8b 08		 mov	 ecx, DWORD PTR [eax]
  00566	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  00569	52		 push	 edx
  0056a	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  00570	3b f4		 cmp	 esi, esp
  00572	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 236  : 		pDev->SetRenderState( D3DRS_POINTSCALEENABLE,  FALSE );

  00577	8b f4		 mov	 esi, esp
  00579	6a 00		 push	 0
  0057b	68 9d 00 00 00	 push	 157			; 0000009dH
  00580	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  00583	8b 08		 mov	 ecx, DWORD PTR [eax]
  00585	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  00588	52		 push	 edx
  00589	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  0058f	3b f4		 cmp	 esi, esp
  00591	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 237  : 
; 238  : 		pDev->SetRenderState( D3DRS_ALPHABLENDENABLE, FALSE );

  00596	8b f4		 mov	 esi, esp
  00598	6a 00		 push	 0
  0059a	6a 1b		 push	 27			; 0000001bH
  0059c	8b 45 08	 mov	 eax, DWORD PTR _pDev$[ebp]
  0059f	8b 08		 mov	 ecx, DWORD PTR [eax]
  005a1	8b 55 08	 mov	 edx, DWORD PTR _pDev$[ebp]
  005a4	52		 push	 edx
  005a5	ff 91 c8 00 00
	00		 call	 DWORD PTR [ecx+200]
  005ab	3b f4		 cmp	 esi, esp
  005ad	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 239  : 	
; 240  : 		return hr ;

  005b2	8b 45 ec	 mov	 eax, DWORD PTR _hr$[ebp]

; 241  : 	}

  005b5	52		 push	 edx
  005b6	8b cd		 mov	 ecx, ebp
  005b8	50		 push	 eax
  005b9	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L85234
  005bf	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  005c4	58		 pop	 eax
  005c5	5a		 pop	 edx
  005c6	5f		 pop	 edi
  005c7	5e		 pop	 esi
  005c8	5b		 pop	 ebx
  005c9	81 c4 c0 01 00
	00		 add	 esp, 448		; 000001c0H
  005cf	3b ec		 cmp	 ebp, esp
  005d1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  005d6	8b e5		 mov	 esp, ebp
  005d8	5d		 pop	 ebp
  005d9	c2 1c 00	 ret	 28			; 0000001cH
$L85234:
  005dc	05 00 00 00	 DD	 5
  005e0	00 00 00 00	 DD	 $L85233
$L85233:
  005e4	a0 ff ff ff	 DD	 -96			; ffffffa0H
  005e8	40 00 00 00	 DD	 64			; 00000040H
  005ec	00 00 00 00	 DD	 $L85228
  005f0	88 ff ff ff	 DD	 -120			; ffffff88H
  005f4	04 00 00 00	 DD	 4
  005f8	00 00 00 00	 DD	 $L85229
  005fc	68 ff ff ff	 DD	 -152			; ffffff68H
  00600	0c 00 00 00	 DD	 12			; 0000000cH
  00604	00 00 00 00	 DD	 $L85230
  00608	54 ff ff ff	 DD	 -172			; ffffff54H
  0060c	0c 00 00 00	 DD	 12			; 0000000cH
  00610	00 00 00 00	 DD	 $L85231
  00614	24 ff ff ff	 DD	 -220			; ffffff24H
  00618	10 00 00 00	 DD	 16			; 00000010H
  0061c	00 00 00 00	 DD	 $L85232
$L85232:
  00620	63		 DB	 99			; 00000063H
  00621	6c		 DB	 108			; 0000006cH
  00622	72		 DB	 114			; 00000072H
  00623	44		 DB	 68			; 00000044H
  00624	69		 DB	 105			; 00000069H
  00625	66		 DB	 102			; 00000066H
  00626	66		 DB	 102			; 00000066H
  00627	75		 DB	 117			; 00000075H
  00628	73		 DB	 115			; 00000073H
  00629	65		 DB	 101			; 00000065H
  0062a	00		 DB	 0
$L85231:
  0062b	76		 DB	 118			; 00000076H
  0062c	56		 DB	 86			; 00000056H
  0062d	65		 DB	 101			; 00000065H
  0062e	6c		 DB	 108			; 0000006cH
  0062f	00		 DB	 0
$L85230:
  00630	76		 DB	 118			; 00000076H
  00631	50		 DB	 80			; 00000050H
  00632	6f		 DB	 111			; 0000006fH
  00633	73		 DB	 115			; 00000073H
  00634	00		 DB	 0
$L85229:
  00635	70		 DB	 112			; 00000070H
  00636	56		 DB	 86			; 00000056H
  00637	65		 DB	 101			; 00000065H
  00638	72		 DB	 114			; 00000072H
  00639	74		 DB	 116			; 00000074H
  0063a	69		 DB	 105			; 00000069H
  0063b	63		 DB	 99			; 00000063H
  0063c	65		 DB	 101			; 00000065H
  0063d	73		 DB	 115			; 00000073H
  0063e	00		 DB	 0
$L85228:
  0063f	6d		 DB	 109			; 0000006dH
  00640	61		 DB	 97			; 00000061H
  00641	74		 DB	 116			; 00000074H
  00642	57		 DB	 87			; 00000057H
  00643	6f		 DB	 111			; 0000006fH
  00644	72		 DB	 114			; 00000072H
  00645	6c		 DB	 108			; 0000006cH
  00646	64		 DB	 100			; 00000064H
  00647	00		 DB	 0
?Render@CParticleSystem@@QAEJPAUIDirect3DDevice8@@MPAKPAUIDirect3DVertexBuffer8@@PAUD3DXMATRIX@@H3@Z ENDP ; CParticleSystem::Render
_TEXT	ENDS
PUBLIC	__real@49742400
PUBLIC	__real@42700000
PUBLIC	__real@3dcccccd
PUBLIC	??0D3DXVECTOR3@@QAE@MMM@Z			; D3DXVECTOR3::D3DXVECTOR3
PUBLIC	?ImpactTerrain@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM@Z ; CParticleSystem::ImpactTerrain
EXTRN	?rnd@@YAMXZ:NEAR				; rnd
;	COMDAT __real@49742400
CONST	SEGMENT
__real@49742400 DD 049742400r			; 1e+006
CONST	ENDS
;	COMDAT __real@42700000
CONST	SEGMENT
__real@42700000 DD 042700000r			; 60
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?ImpactTerrain@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM@Z
_TEXT	SEGMENT
$T85238 = -256
_f$ = -44
_ppParticle$ = -32
_pParticle$ = -20
_this$ = -8
_pvDir$ = 8
_fFPS$ = 12
_fLenSQ$ = 16
_fImpactFXLifetime$ = 20
_fSpeed$ = 24
?ImpactTerrain@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM@Z PROC NEAR ; CParticleSystem::ImpactTerrain, COMDAT
; _this$ = ecx

; 244  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd fc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-260]
  00013	b9 41 00 00 00	 mov	 ecx, 65			; 00000041H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 245  : 		PARTICLE *pParticle, **ppParticle ;
; 246  : 		float f = (fLenSQ / 1000000.0f) * ( 60.0f / fFPS ) * fSpeed ;

  00023	d9 45 10	 fld	 DWORD PTR _fLenSQ$[ebp]
  00026	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@49742400
  0002c	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@42700000
  00032	d8 75 0c	 fdiv	 DWORD PTR _fFPS$[ebp]
  00035	de c9		 fmulp	 ST(1), ST(0)
  00037	d8 4d 18	 fmul	 DWORD PTR _fSpeed$[ebp]
  0003a	d9 5d d4	 fstp	 DWORD PTR _f$[ebp]

; 247  : 
; 248  : 		ppParticle = &m_pParticles;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	83 c0 18	 add	 eax, 24			; 00000018H
  00043	89 45 e0	 mov	 DWORD PTR _ppParticle$[ebp], eax
$L85042:

; 249  : 
; 250  : 		while( *ppParticle )

  00046	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00049	83 38 00	 cmp	 DWORD PTR [eax], 0
  0004c	0f 84 eb 00 00
	00		 je	 $L85037

; 251  : 		{
; 252  : 			pParticle = *ppParticle ;

  00052	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00055	8b 08		 mov	 ecx, DWORD PTR [eax]
  00057	89 4d ec	 mov	 DWORD PTR _pParticle$[ebp], ecx

; 253  : 
; 254  : 			pParticle->m_vVel0 = xVec3( pvDir->x * rnd() * f,
; 255  : 											  pvDir->y * rnd() * f,
; 256  : 											  pvDir->z * rnd() * f );

  0005a	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  0005f	8b 45 08	 mov	 eax, DWORD PTR _pvDir$[ebp]
  00062	d8 48 08	 fmul	 DWORD PTR [eax+8]
  00065	d8 4d d4	 fmul	 DWORD PTR _f$[ebp]
  00068	51		 push	 ecx
  00069	d9 1c 24	 fstp	 DWORD PTR [esp]
  0006c	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  00071	8b 4d 08	 mov	 ecx, DWORD PTR _pvDir$[ebp]
  00074	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  00077	d8 4d d4	 fmul	 DWORD PTR _f$[ebp]
  0007a	51		 push	 ecx
  0007b	d9 1c 24	 fstp	 DWORD PTR [esp]
  0007e	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  00083	8b 55 08	 mov	 edx, DWORD PTR _pvDir$[ebp]
  00086	d8 0a		 fmul	 DWORD PTR [edx]
  00088	d8 4d d4	 fmul	 DWORD PTR _f$[ebp]
  0008b	51		 push	 ecx
  0008c	d9 1c 24	 fstp	 DWORD PTR [esp]
  0008f	8d 8d 00 ff ff
	ff		 lea	 ecx, DWORD PTR $T85238[ebp]
  00095	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  0009a	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0009d	83 c1 28	 add	 ecx, 40			; 00000028H
  000a0	8b 10		 mov	 edx, DWORD PTR [eax]
  000a2	89 11		 mov	 DWORD PTR [ecx], edx
  000a4	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000a7	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  000aa	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000ad	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 257  : 
; 258  : 			pParticle->m_fAge = 0.0f ;

  000b0	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000b3	c7 40 38 00 00
	00 00		 mov	 DWORD PTR [eax+56], 0

; 259  : 			pParticle->m_fAbsLifeTime = fImpactFXLifetime ;

  000ba	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000bd	8b 4d 14	 mov	 ecx, DWORD PTR _fImpactFXLifetime$[ebp]
  000c0	89 48 3c	 mov	 DWORD PTR [eax+60], ecx

; 260  : 
; 261  : 			pParticle->m_clrFade = pParticle->m_clrDiffuse ;

  000c3	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000c6	83 c0 44	 add	 eax, 68			; 00000044H
  000c9	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000cc	83 c1 54	 add	 ecx, 84			; 00000054H
  000cf	8b 10		 mov	 edx, DWORD PTR [eax]
  000d1	89 11		 mov	 DWORD PTR [ecx], edx
  000d3	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000d6	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  000d9	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  000dc	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  000df	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  000e2	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 262  : 			pParticle->m_clrFade.a = 0 ;

  000e5	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000e8	c7 40 60 00 00
	00 00		 mov	 DWORD PTR [eax+96], 0

; 263  : 			pParticle->m_clrFade.r *= 0.1f ;

  000ef	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000f2	d9 40 54	 fld	 DWORD PTR [eax+84]
  000f5	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3dcccccd
  000fb	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000fe	d9 59 54	 fstp	 DWORD PTR [ecx+84]

; 264  : 			pParticle->m_clrFade.g *= 0.1f ;

  00101	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00104	d9 40 58	 fld	 DWORD PTR [eax+88]
  00107	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3dcccccd
  0010d	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00110	d9 59 58	 fstp	 DWORD PTR [ecx+88]

; 265  : 			pParticle->m_clrFade.b *= 0.1f ;

  00113	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00116	d9 40 5c	 fld	 DWORD PTR [eax+92]
  00119	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3dcccccd
  0011f	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00122	d9 59 5c	 fstp	 DWORD PTR [ecx+92]

; 266  : 
; 267  : 			pParticle->m_clrDiffuse.a = 0.0f ;

  00125	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00128	c7 40 50 00 00
	00 00		 mov	 DWORD PTR [eax+80], 0

; 268  : 
; 269  : 			//pParticle->m_bFeelGravity = TRUE ;
; 270  : 
; 271  : 			ppParticle = &pParticle->m_pNext ;

  0012f	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00132	83 c0 6c	 add	 eax, 108		; 0000006cH
  00135	89 45 e0	 mov	 DWORD PTR _ppParticle$[ebp], eax

; 272  : 		}

  00138	e9 09 ff ff ff	 jmp	 $L85042
$L85037:

; 273  : 	}

  0013d	5f		 pop	 edi
  0013e	5e		 pop	 esi
  0013f	5b		 pop	 ebx
  00140	81 c4 04 01 00
	00		 add	 esp, 260		; 00000104H
  00146	3b ec		 cmp	 ebp, esp
  00148	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0014d	8b e5		 mov	 esp, ebp
  0014f	5d		 pop	 ebp
  00150	c2 14 00	 ret	 20			; 00000014H
?ImpactTerrain@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM@Z ENDP ; CParticleSystem::ImpactTerrain
_TEXT	ENDS
PUBLIC	__real@3f000000
PUBLIC	?ImpactFighter@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM0@Z ; CParticleSystem::ImpactFighter
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?ImpactFighter@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM0@Z
_TEXT	SEGMENT
$T85247 = -256
_f$ = -44
_ppParticle$ = -32
_pParticle$ = -20
_this$ = -8
_pvDir$ = 8
_fFPS$ = 12
_fLenSQ$ = 16
_fImpactFXLifetime$ = 20
_fSpeed$ = 24
_pvVel$ = 28
?ImpactFighter@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM0@Z PROC NEAR ; CParticleSystem::ImpactFighter, COMDAT
; _this$ = ecx

; 276  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd fc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-260]
  00013	b9 41 00 00 00	 mov	 ecx, 65			; 00000041H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 277  : 		PARTICLE *pParticle, **ppParticle ;
; 278  : 		float f = (fLenSQ / 1000000.0f) * ( 60.0f / fFPS ) * fSpeed ;

  00023	d9 45 10	 fld	 DWORD PTR _fLenSQ$[ebp]
  00026	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@49742400
  0002c	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@42700000
  00032	d8 75 0c	 fdiv	 DWORD PTR _fFPS$[ebp]
  00035	de c9		 fmulp	 ST(1), ST(0)
  00037	d8 4d 18	 fmul	 DWORD PTR _fSpeed$[ebp]
  0003a	d9 5d d4	 fstp	 DWORD PTR _f$[ebp]

; 279  : 
; 280  : 		ppParticle = &m_pParticles;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	83 c0 18	 add	 eax, 24			; 00000018H
  00043	89 45 e0	 mov	 DWORD PTR _ppParticle$[ebp], eax
$L85058:

; 281  : 
; 282  : 		while( *ppParticle )

  00046	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00049	83 38 00	 cmp	 DWORD PTR [eax], 0
  0004c	0f 84 cf 00 00
	00		 je	 $L85053

; 283  : 		{
; 284  : 			pParticle = *ppParticle ;

  00052	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00055	8b 08		 mov	 ecx, DWORD PTR [eax]
  00057	89 4d ec	 mov	 DWORD PTR _pParticle$[ebp], ecx

; 285  : 
; 286  : 			pParticle->m_vVel0 *= 0.0f ;

  0005a	6a 00		 push	 0
  0005c	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0005f	83 c1 28	 add	 ecx, 40			; 00000028H
  00062	e8 00 00 00 00	 call	 ??XD3DXVECTOR3@@QAEAAU0@M@Z ; D3DXVECTOR3::operator*=

; 287  : 			pParticle->m_vVel0 += *pvVel ;

  00067	8b 45 1c	 mov	 eax, DWORD PTR _pvVel$[ebp]
  0006a	50		 push	 eax
  0006b	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0006e	83 c1 28	 add	 ecx, 40			; 00000028H
  00071	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 288  : 			pParticle->m_vVel0 += xVec3( pvDir->x * (rnd()-0.5f) * f,
; 289  : 											   pvDir->y * (rnd()-0.5f) * f,
; 290  : 											   pvDir->z * (rnd()-0.5f) * f );

  00076	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  0007b	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f000000
  00081	8b 45 08	 mov	 eax, DWORD PTR _pvDir$[ebp]
  00084	d8 48 08	 fmul	 DWORD PTR [eax+8]
  00087	d8 4d d4	 fmul	 DWORD PTR _f$[ebp]
  0008a	51		 push	 ecx
  0008b	d9 1c 24	 fstp	 DWORD PTR [esp]
  0008e	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  00093	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f000000
  00099	8b 4d 08	 mov	 ecx, DWORD PTR _pvDir$[ebp]
  0009c	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  0009f	d8 4d d4	 fmul	 DWORD PTR _f$[ebp]
  000a2	51		 push	 ecx
  000a3	d9 1c 24	 fstp	 DWORD PTR [esp]
  000a6	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  000ab	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f000000
  000b1	8b 55 08	 mov	 edx, DWORD PTR _pvDir$[ebp]
  000b4	d8 0a		 fmul	 DWORD PTR [edx]
  000b6	d8 4d d4	 fmul	 DWORD PTR _f$[ebp]
  000b9	51		 push	 ecx
  000ba	d9 1c 24	 fstp	 DWORD PTR [esp]
  000bd	8d 8d 00 ff ff
	ff		 lea	 ecx, DWORD PTR $T85247[ebp]
  000c3	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  000c8	50		 push	 eax
  000c9	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000cc	83 c1 28	 add	 ecx, 40			; 00000028H
  000cf	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 291  : 
; 292  : 			pParticle->m_fAge = 0.0f ;

  000d4	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000d7	c7 40 38 00 00
	00 00		 mov	 DWORD PTR [eax+56], 0

; 293  : 			pParticle->m_fAbsLifeTime = fImpactFXLifetime ;

  000de	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000e1	8b 4d 14	 mov	 ecx, DWORD PTR _fImpactFXLifetime$[ebp]
  000e4	89 48 3c	 mov	 DWORD PTR [eax+60], ecx

; 294  : 
; 295  : 			pParticle->m_clrFade = pParticle->m_clrDiffuse ;

  000e7	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000ea	83 c0 44	 add	 eax, 68			; 00000044H
  000ed	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000f0	83 c1 54	 add	 ecx, 84			; 00000054H
  000f3	8b 10		 mov	 edx, DWORD PTR [eax]
  000f5	89 11		 mov	 DWORD PTR [ecx], edx
  000f7	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000fa	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  000fd	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00100	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  00103	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  00106	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 296  : 			pParticle->m_clrFade.a = 0.1f ;

  00109	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0010c	c7 40 60 cd cc
	cc 3d		 mov	 DWORD PTR [eax+96], 1036831949 ; 3dcccccdH

; 297  : 
; 298  : 			//pParticle->m_bFeelGravity = TRUE ;
; 299  : 
; 300  : 			ppParticle = &pParticle->m_pNext ;

  00113	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00116	83 c0 6c	 add	 eax, 108		; 0000006cH
  00119	89 45 e0	 mov	 DWORD PTR _ppParticle$[ebp], eax

; 301  : 		}

  0011c	e9 25 ff ff ff	 jmp	 $L85058
$L85053:

; 302  : 	}

  00121	5f		 pop	 edi
  00122	5e		 pop	 esi
  00123	5b		 pop	 ebx
  00124	81 c4 04 01 00
	00		 add	 esp, 260		; 00000104H
  0012a	3b ec		 cmp	 ebp, esp
  0012c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00131	8b e5		 mov	 esp, ebp
  00133	5d		 pop	 ebp
  00134	c2 18 00	 ret	 24			; 00000018H
?ImpactFighter@CParticleSystem@@QAEHPAUD3DXVECTOR3@@MMMM0@Z ENDP ; CParticleSystem::ImpactFighter
_TEXT	ENDS
PUBLIC	?CulledFrameMove@CParticleSystem@@QAEHPAUD3DXVECTOR3@@@Z ; CParticleSystem::CulledFrameMove
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?CulledFrameMove@CParticleSystem@@QAEHPAUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_ppParticle$ = -44
_pParticle$ = -32
_bGotFirst$ = -20
_this$ = -8
_pvMove$ = 8
?CulledFrameMove@CParticleSystem@@QAEHPAUD3DXVECTOR3@@@Z PROC NEAR ; CParticleSystem::CulledFrameMove, COMDAT
; _this$ = ecx

; 305  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 00 00
	00		 sub	 esp, 240		; 000000f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 10 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-240]
  00013	b9 3c 00 00 00	 mov	 ecx, 60			; 0000003cH
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 306  : 		BOOL bGotFirst = FALSE ;

  00023	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _bGotFirst$[ebp], 0

; 307  : 		PARTICLE *pParticle, **ppParticle ;
; 308  : 		ppParticle = &m_pParticles;

  0002a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002d	83 c0 18	 add	 eax, 24			; 00000018H
  00030	89 45 d4	 mov	 DWORD PTR _ppParticle$[ebp], eax
$L85069:

; 309  : 
; 310  : 		while( *ppParticle )

  00033	8b 45 d4	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00036	83 38 00	 cmp	 DWORD PTR [eax], 0
  00039	0f 84 3b 01 00
	00		 je	 $L85064

; 311  : 		{
; 312  : 			pParticle = *ppParticle ;

  0003f	8b 45 d4	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00042	8b 08		 mov	 ecx, DWORD PTR [eax]
  00044	89 4d e0	 mov	 DWORD PTR _pParticle$[ebp], ecx

; 313  : 
; 314  : 		// move particle; (for Vel in units/frame);
; 315  : 			pParticle->m_vPos += pParticle->m_vVel0 ;

  00047	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0004a	83 c0 28	 add	 eax, 40			; 00000028H
  0004d	50		 push	 eax
  0004e	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00051	83 c1 04	 add	 ecx, 4
  00054	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 316  : 			pParticle->m_vPos += *pvMove ;

  00059	8b 45 08	 mov	 eax, DWORD PTR _pvMove$[ebp]
  0005c	50		 push	 eax
  0005d	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00060	83 c1 04	 add	 ecx, 4
  00063	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 317  : 
; 318  : 		// track bbox;
; 319  : 			if( !bGotFirst )

  00068	83 7d ec 00	 cmp	 DWORD PTR _bGotFirst$[ebp], 0
  0006c	75 44		 jne	 SHORT $L85071

; 320  : 			{
; 321  : 				m_vMin = pParticle->m_vPos ;

  0006e	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00071	83 c0 04	 add	 eax, 4
  00074	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00077	83 c1 20	 add	 ecx, 32			; 00000020H
  0007a	8b 10		 mov	 edx, DWORD PTR [eax]
  0007c	89 11		 mov	 DWORD PTR [ecx], edx
  0007e	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00081	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00084	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00087	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 322  : 				m_vMax = pParticle->m_vPos ;

  0008a	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0008d	83 c0 04	 add	 eax, 4
  00090	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00093	83 c1 2c	 add	 ecx, 44			; 0000002cH
  00096	8b 10		 mov	 edx, DWORD PTR [eax]
  00098	89 11		 mov	 DWORD PTR [ecx], edx
  0009a	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0009d	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  000a0	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000a3	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 323  : 				bGotFirst = TRUE ;

  000a6	c7 45 ec 01 00
	00 00		 mov	 DWORD PTR _bGotFirst$[ebp], 1

; 324  : 			}
; 325  : 			else

  000ad	e9 ba 00 00 00	 jmp	 $L85072
$L85071:

; 326  : 			{
; 327  : 				if( pParticle->m_vPos.x < m_vMin.x )

  000b2	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000b5	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000b8	d9 40 04	 fld	 DWORD PTR [eax+4]
  000bb	d8 59 20	 fcomp	 DWORD PTR [ecx+32]
  000be	df e0		 fnstsw	 ax
  000c0	f6 c4 05	 test	 ah, 5
  000c3	7a 0c		 jp	 SHORT $L85073

; 328  : 					m_vMin.x = pParticle->m_vPos.x ;

  000c5	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c8	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000cb	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000ce	89 50 20	 mov	 DWORD PTR [eax+32], edx
$L85073:

; 329  : 				if( pParticle->m_vPos.y < m_vMin.y )

  000d1	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000d4	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d7	d9 40 08	 fld	 DWORD PTR [eax+8]
  000da	d8 59 24	 fcomp	 DWORD PTR [ecx+36]
  000dd	df e0		 fnstsw	 ax
  000df	f6 c4 05	 test	 ah, 5
  000e2	7a 0c		 jp	 SHORT $L85074

; 330  : 					m_vMin.y = pParticle->m_vPos.y ;

  000e4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e7	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000ea	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  000ed	89 50 24	 mov	 DWORD PTR [eax+36], edx
$L85074:

; 331  : 				if( pParticle->m_vPos.z < m_vMin.z )

  000f0	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000f3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000f6	d9 40 0c	 fld	 DWORD PTR [eax+12]
  000f9	d8 59 28	 fcomp	 DWORD PTR [ecx+40]
  000fc	df e0		 fnstsw	 ax
  000fe	f6 c4 05	 test	 ah, 5
  00101	7a 0c		 jp	 SHORT $L85075

; 332  : 					m_vMin.z = pParticle->m_vPos.z ;

  00103	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00106	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00109	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  0010c	89 50 28	 mov	 DWORD PTR [eax+40], edx
$L85075:

; 333  : 
; 334  : 				if( pParticle->m_vPos.x > m_vMax.x )

  0010f	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00112	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00115	d9 40 04	 fld	 DWORD PTR [eax+4]
  00118	d8 59 2c	 fcomp	 DWORD PTR [ecx+44]
  0011b	df e0		 fnstsw	 ax
  0011d	f6 c4 41	 test	 ah, 65			; 00000041H
  00120	75 0c		 jne	 SHORT $L85076

; 335  : 					m_vMax.x = pParticle->m_vPos.x ;

  00122	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00125	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00128	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0012b	89 50 2c	 mov	 DWORD PTR [eax+44], edx
$L85076:

; 336  : 				if( pParticle->m_vPos.y > m_vMax.y )

  0012e	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00131	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00134	d9 40 08	 fld	 DWORD PTR [eax+8]
  00137	d8 59 30	 fcomp	 DWORD PTR [ecx+48]
  0013a	df e0		 fnstsw	 ax
  0013c	f6 c4 41	 test	 ah, 65			; 00000041H
  0013f	75 0c		 jne	 SHORT $L85077

; 337  : 					m_vMax.y = pParticle->m_vPos.y ;

  00141	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00144	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00147	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0014a	89 50 30	 mov	 DWORD PTR [eax+48], edx
$L85077:

; 338  : 				if( pParticle->m_vPos.z > m_vMax.z )

  0014d	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00150	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00153	d9 40 0c	 fld	 DWORD PTR [eax+12]
  00156	d8 59 34	 fcomp	 DWORD PTR [ecx+52]
  00159	df e0		 fnstsw	 ax
  0015b	f6 c4 41	 test	 ah, 65			; 00000041H
  0015e	75 0c		 jne	 SHORT $L85072

; 339  : 					m_vMax.z = pParticle->m_vPos.z ;

  00160	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00163	8b 4d e0	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00166	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00169	89 50 34	 mov	 DWORD PTR [eax+52], edx
$L85072:

; 340  : 			}
; 341  : 
; 342  : 			ppParticle = &pParticle->m_pNext ;

  0016c	8b 45 e0	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0016f	83 c0 6c	 add	 eax, 108		; 0000006cH
  00172	89 45 d4	 mov	 DWORD PTR _ppParticle$[ebp], eax

; 343  : 		}

  00175	e9 b9 fe ff ff	 jmp	 $L85069
$L85064:

; 344  : 	}

  0017a	5f		 pop	 edi
  0017b	5e		 pop	 esi
  0017c	5b		 pop	 ebx
  0017d	81 c4 f0 00 00
	00		 add	 esp, 240		; 000000f0H
  00183	3b ec		 cmp	 ebp, esp
  00185	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0018a	8b e5		 mov	 esp, ebp
  0018c	5d		 pop	 ebp
  0018d	c2 04 00	 ret	 4
?CulledFrameMove@CParticleSystem@@QAEHPAUD3DXVECTOR3@@@Z ENDP ; CParticleSystem::CulledFrameMove
_TEXT	ENDS
PUBLIC	_cosf
PUBLIC	_sinf
PUBLIC	__real@46fffe00
PUBLIC	__real@40490fdb
PUBLIC	__real@3e800000
PUBLIC	__real@40200000
PUBLIC	??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z			; D3DXVECTOR3::operator+
PUBLIC	?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z		; D3DXVec3Length
PUBLIC	??0PARTICLE@@QAE@XZ				; PARTICLE::PARTICLE
PUBLIC	?FrameMove@CParticleSystem@@QAEJMPAUD3DXVECTOR3@@MKMHABUD3DXCOLOR@@100HMH@Z ; CParticleSystem::FrameMove
EXTRN	??2@YAPAXI@Z:NEAR				; operator new
EXTRN	_rand:NEAR
;	COMDAT __real@46fffe00
CONST	SEGMENT
__real@46fffe00 DD 046fffe00r			; 32767
CONST	ENDS
;	COMDAT __real@40490fdb
CONST	SEGMENT
__real@40490fdb DD 040490fdbr			; 3.14159
CONST	ENDS
;	COMDAT __real@3e800000
CONST	SEGMENT
__real@3e800000 DD 03e800000r			; 0.25
CONST	ENDS
;	COMDAT __real@40200000
CONST	SEGMENT
__real@40200000 DD 040200000r			; 2.5
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?FrameMove@CParticleSystem@@QAEJMPAUD3DXVECTOR3@@MKMHABUD3DXCOLOR@@100HMH@Z
_TEXT	SEGMENT
tv545 = -400
tv539 = -400
tv533 = -400
tv543 = -396
tv537 = -396
tv531 = -396
tv528 = -396
tv522 = -396
tv516 = -396
tv490 = -396
tv488 = -396
tv208 = -396
$T85260 = -388
$T85259 = -368
$T85258 = -348
$T85257 = -328
$T85254 = -308
_fRand2$85133 = -104
_fRand1$85129 = -92
_dwParticlesEmit$ = -80
_bParticleMustDie$85102 = -68
_fT$85101 = -56
_bGotFirst$ = -44
_ppParticle$ = -32
_pParticle$ = -20
_this$ = -8
_fFPS$ = 8
_pvMove$ = 12
_fSecsPerFrame$ = 16
_dwNumParticlesToEmit$ = 20
_fAbsLifeTime$ = 24
_bFeelGravity$ = 28
_clrEmitColor$ = 32
_clrFadeColor$ = 36
_pvEmitVel$ = 40
_pvEmitPosition$ = 44
_bSphericalEmit$ = 48
_fScatter$ = 52
_bTrackBoundingVolume$ = 56
?FrameMove@CParticleSystem@@QAEJMPAUD3DXVECTOR3@@MKMHABUD3DXCOLOR@@100HMH@Z PROC NEAR ; CParticleSystem::FrameMove, COMDAT
; _this$ = ecx

; 359  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 90 01 00
	00		 sub	 esp, 400		; 00000190H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 70 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-400]
  00013	b9 64 00 00 00	 mov	 ecx, 100		; 00000064H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 360  : 		PARTICLE *pParticle, **ppParticle;
; 361  : 		BOOL bGotFirst = FALSE ;

  00023	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _bGotFirst$[ebp], 0

; 362  : 		m_fTime += fSecsPerFrame;

  0002a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002d	d9 45 10	 fld	 DWORD PTR _fSecsPerFrame$[ebp]
  00030	d8 40 38	 fadd	 DWORD PTR [eax+56]
  00033	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00036	d9 59 38	 fstp	 DWORD PTR [ecx+56]

; 363  : 
; 364  : 		ppParticle = &m_pParticles;

  00039	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0003c	83 c0 18	 add	 eax, 24			; 00000018H
  0003f	89 45 e0	 mov	 DWORD PTR _ppParticle$[ebp], eax
$L85099:

; 365  : 
; 366  : 		while( *ppParticle )

  00042	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00045	83 38 00	 cmp	 DWORD PTR [eax], 0
  00048	0f 84 d9 01 00
	00		 je	 $L85100

; 367  : 		{
; 368  : 			pParticle = *ppParticle;

  0004e	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  00051	8b 08		 mov	 ecx, DWORD PTR [eax]
  00053	89 4d ec	 mov	 DWORD PTR _pParticle$[ebp], ecx

; 369  : 
; 370  : 			float fT = m_fTime - pParticle->m_fTime0;

  00056	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00059	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0005c	d9 40 38	 fld	 DWORD PTR [eax+56]
  0005f	d8 61 34	 fsub	 DWORD PTR [ecx+52]
  00062	d9 5d c8	 fstp	 DWORD PTR _fT$85101[ebp]

; 371  : 			/*float fGravity;*/
; 372  : 
; 373  : 		// age & fade particle;
; 374  : 			//pParticle->m_fAge += ( 60.0f / fFPS );
; 375  : 			pParticle->m_fAge = fT ;

  00065	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00068	8b 4d c8	 mov	 ecx, DWORD PTR _fT$85101[ebp]
  0006b	89 48 38	 mov	 DWORD PTR [eax+56], ecx

; 376  : 			/*if( pParticle->m_bSpark )
; 377  : 			{
; 378  : 				if( pParticle->m_bFeelGravity )
; 379  : 					fGravity = -5.0f;
; 380  : 				else
; 381  : 					fGravity = 0.0f;
; 382  : 				pParticle->m_fFade -= fSecsPerFrame * 5.25f;
; 383  : 			}
; 384  : 			else
; 385  : 			{
; 386  : 				if( pParticle->m_bFeelGravity )
; 387  : 					fGravity = -9.8f;
; 388  : 				else
; 389  : 					fGravity = 0.0f;
; 390  : 				pParticle->m_fFade -= fSecsPerFrame * 0.25f ; 
; 391  : 			}*/
; 392  : 
; 393  : 			
; 394  : 		// move particle; (for Vel in units/frame);
; 395  : 			pParticle->m_vPos += pParticle->m_vVel0 ;

  0006e	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00071	83 c0 28	 add	 eax, 40			; 00000028H
  00074	50		 push	 eax
  00075	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00078	83 c1 04	 add	 ecx, 4
  0007b	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 396  : 			pParticle->m_vPos += *pvMove ;

  00080	8b 45 0c	 mov	 eax, DWORD PTR _pvMove$[ebp]
  00083	50		 push	 eax
  00084	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00087	83 c1 04	 add	 ecx, 4
  0008a	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 397  : 
; 398  : 			/*if( pParticle->m_bFeelGravity )
; 399  : 			{
; 400  : 				float fGravity = -9.8f;
; 401  : 				pParticle->m_vPos.y += (0.5f * fGravity) * (fT * fT);
; 402  : 				pParticle->m_vVel.y  = pParticle->m_vVel0.y + fGravity * fT;
; 403  : 			}*/
; 404  : 
; 405  : 			/*if( pParticle->m_fFade < 0.0f )
; 406  : 				pParticle->m_fFade = 0.0f;*/
; 407  : 
; 408  : 		// kill particles;
; 409  : 			BOOL bParticleMustDie = FALSE ;

  0008f	c7 45 bc 00 00
	00 00		 mov	 DWORD PTR _bParticleMustDie$85102[ebp], 0

; 410  : 
; 411  : 			if( pParticle->m_fAbsLifeTime > 0.0f || pParticle->m_bMarkedForDeath )

  00096	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00099	d9 40 3c	 fld	 DWORD PTR [eax+60]
  0009c	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000a2	df e0		 fnstsw	 ax
  000a4	f6 c4 41	 test	 ah, 65			; 00000041H
  000a7	74 09		 je	 SHORT $L85104
  000a9	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000ac	83 78 68 00	 cmp	 DWORD PTR [eax+104], 0
  000b0	74 17		 je	 SHORT $L85106
$L85104:

; 412  : 			{
; 413  : 				if( fT > pParticle->m_fAbsLifeTime )

  000b2	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000b5	d9 45 c8	 fld	 DWORD PTR _fT$85101[ebp]
  000b8	d8 58 3c	 fcomp	 DWORD PTR [eax+60]
  000bb	df e0		 fnstsw	 ax
  000bd	f6 c4 41	 test	 ah, 65			; 00000041H
  000c0	75 07		 jne	 SHORT $L85106

; 414  : 					bParticleMustDie = TRUE ;

  000c2	c7 45 bc 01 00
	00 00		 mov	 DWORD PTR _bParticleMustDie$85102[ebp], 1
$L85106:

; 415  : 			}
; 416  : 			else
; 417  : 			{
; 418  : 				//if( pParticle->m_vPos.y < 0.0f )
; 419  : 				//	bParticleMustDie = TRUE ;
; 420  : 			}
; 421  : 
; 422  : 			if( bParticleMustDie )

  000c9	83 7d bc 00	 cmp	 DWORD PTR _bParticleMustDie$85102[ebp], 0
  000cd	74 3c		 je	 SHORT $L85107

; 423  : 			{
; 424  : 				// Emit sparks
; 425  : 				/*if( !pParticle->m_bSpark )
; 426  : 				{
; 427  : 					for( int i=0; i<4; i++ )
; 428  : 					{
; 429  : 						PARTICLE *pSpark;
; 430  : 
; 431  : 						if( m_pParticlesFree )
; 432  : 						{
; 433  : 							pSpark = m_pParticlesFree;
; 434  : 							m_pParticlesFree = pSpark->m_pNext;
; 435  : 						}
; 436  : 						else
; 437  : 						{
; 438  : 							if( NULL == ( pSpark = new PARTICLE ) )
; 439  : 								return E_OUTOFMEMORY;
; 440  : 						}
; 441  : 
; 442  : 						pSpark->m_pNext = pParticle->m_pNext;
; 443  : 						pParticle->m_pNext = pSpark;
; 444  : 
; 445  : 						pSpark->m_bSpark  = TRUE;
; 446  : 						pSpark->m_vPos0   = pParticle->m_vPos;
; 447  : 						pSpark->m_vPos0.y = m_fRadius;
; 448  : 
; 449  : 						FLOAT fRand1 = ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DX_PI * 2.00f;
; 450  : 						FLOAT fRand2 = ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DX_PI * 0.25f;
; 451  : 
; 452  : 						pSpark->m_vVel0.x  = pParticle->m_vVel.x * 0.25f + cosf(fRand1) * sinf(fRand2);
; 453  : 						pSpark->m_vVel0.z  = pParticle->m_vVel.z * 0.25f + sinf(fRand1) * sinf(fRand2);
; 454  : 						pSpark->m_vVel0.y  = cosf(fRand2);
; 455  : 						pSpark->m_vVel0.y *= ((FLOAT)rand()/(FLOAT)RAND_MAX) * 1.5f;
; 456  : 
; 457  : 						pSpark->m_vPos = pSpark->m_vPos0;
; 458  : 						pSpark->m_vVel = pSpark->m_vVel0;
; 459  : 
; 460  : 						D3DXColorLerp( &pSpark->m_clrDiffuse, &pParticle->m_clrFade,
; 461  : 									   &pParticle->m_clrDiffuse, pParticle->m_fFade );
; 462  : 						pSpark->m_clrFade = D3DXCOLOR(0.0f, 0.0f, 0.0f, 1.0f);
; 463  : 						pSpark->m_fFade   = 1.0f;
; 464  : 						pSpark->m_m_fTime0  = m_fTime;
; 465  : 						pSpark->m_fAbsLifeTime = 3.0f;
; 466  : 						pSpark->m_bFeelGravity = TRUE;
; 467  : 					}
; 468  : 				}*/
; 469  : 
; 470  : 				// Kill particle
; 471  : 				*ppParticle = pParticle->m_pNext;

  000cf	8b 45 e0	 mov	 eax, DWORD PTR _ppParticle$[ebp]
  000d2	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000d5	8b 51 6c	 mov	 edx, DWORD PTR [ecx+108]
  000d8	89 10		 mov	 DWORD PTR [eax], edx

; 472  : 				pParticle->m_pNext = m_pParticlesFree;

  000da	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000dd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000e0	8b 51 1c	 mov	 edx, DWORD PTR [ecx+28]
  000e3	89 50 6c	 mov	 DWORD PTR [eax+108], edx

; 473  : 				m_pParticlesFree = pParticle;

  000e6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e9	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  000ec	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 474  : 
; 475  : 				if(!pParticle->m_bSpark)

  000ef	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  000f2	83 38 00	 cmp	 DWORD PTR [eax], 0
  000f5	75 0f		 jne	 SHORT $L85108

; 476  : 					m_dwParticles--;

  000f7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fa	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  000fd	83 e9 01	 sub	 ecx, 1
  00100	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00103	89 4a 10	 mov	 DWORD PTR [edx+16], ecx
$L85108:

; 477  : 			}
; 478  : 			else

  00106	e9 17 01 00 00	 jmp	 $L85109
$L85107:

; 479  : 			{
; 480  : 				if( bTrackBoundingVolume )

  0010b	83 7d 38 00	 cmp	 DWORD PTR _bTrackBoundingVolume$[ebp], 0
  0010f	0f 84 04 01 00
	00		 je	 $L85110

; 481  : 				{
; 482  : 					if( !bGotFirst )

  00115	83 7d d4 00	 cmp	 DWORD PTR _bGotFirst$[ebp], 0
  00119	75 44		 jne	 SHORT $L85111

; 483  : 					{
; 484  : 						m_vMin = pParticle->m_vPos ;

  0011b	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0011e	83 c0 04	 add	 eax, 4
  00121	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00124	83 c1 20	 add	 ecx, 32			; 00000020H
  00127	8b 10		 mov	 edx, DWORD PTR [eax]
  00129	89 11		 mov	 DWORD PTR [ecx], edx
  0012b	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0012e	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00131	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00134	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 485  : 						m_vMax = pParticle->m_vPos ;

  00137	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0013a	83 c0 04	 add	 eax, 4
  0013d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00140	83 c1 2c	 add	 ecx, 44			; 0000002cH
  00143	8b 10		 mov	 edx, DWORD PTR [eax]
  00145	89 11		 mov	 DWORD PTR [ecx], edx
  00147	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0014a	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  0014d	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00150	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 486  : 						bGotFirst = TRUE ;

  00153	c7 45 d4 01 00
	00 00		 mov	 DWORD PTR _bGotFirst$[ebp], 1

; 487  : 					}
; 488  : 					else

  0015a	e9 ba 00 00 00	 jmp	 $L85110
$L85111:

; 489  : 					{
; 490  : 						if( pParticle->m_vPos.x < m_vMin.x )

  0015f	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00162	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00165	d9 40 04	 fld	 DWORD PTR [eax+4]
  00168	d8 59 20	 fcomp	 DWORD PTR [ecx+32]
  0016b	df e0		 fnstsw	 ax
  0016d	f6 c4 05	 test	 ah, 5
  00170	7a 0c		 jp	 SHORT $L85113

; 491  : 							m_vMin.x = pParticle->m_vPos.x ;

  00172	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00175	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00178	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0017b	89 50 20	 mov	 DWORD PTR [eax+32], edx
$L85113:

; 492  : 						if( pParticle->m_vPos.y < m_vMin.y )

  0017e	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00181	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00184	d9 40 08	 fld	 DWORD PTR [eax+8]
  00187	d8 59 24	 fcomp	 DWORD PTR [ecx+36]
  0018a	df e0		 fnstsw	 ax
  0018c	f6 c4 05	 test	 ah, 5
  0018f	7a 0c		 jp	 SHORT $L85114

; 493  : 							m_vMin.y = pParticle->m_vPos.y ;

  00191	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00194	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00197	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0019a	89 50 24	 mov	 DWORD PTR [eax+36], edx
$L85114:

; 494  : 						if( pParticle->m_vPos.z < m_vMin.z )

  0019d	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  001a0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001a3	d9 40 0c	 fld	 DWORD PTR [eax+12]
  001a6	d8 59 28	 fcomp	 DWORD PTR [ecx+40]
  001a9	df e0		 fnstsw	 ax
  001ab	f6 c4 05	 test	 ah, 5
  001ae	7a 0c		 jp	 SHORT $L85115

; 495  : 							m_vMin.z = pParticle->m_vPos.z ;

  001b0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001b3	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  001b6	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  001b9	89 50 28	 mov	 DWORD PTR [eax+40], edx
$L85115:

; 496  : 
; 497  : 						if( pParticle->m_vPos.x > m_vMax.x )

  001bc	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  001bf	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001c2	d9 40 04	 fld	 DWORD PTR [eax+4]
  001c5	d8 59 2c	 fcomp	 DWORD PTR [ecx+44]
  001c8	df e0		 fnstsw	 ax
  001ca	f6 c4 41	 test	 ah, 65			; 00000041H
  001cd	75 0c		 jne	 SHORT $L85116

; 498  : 							m_vMax.x = pParticle->m_vPos.x ;

  001cf	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001d2	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  001d5	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  001d8	89 50 2c	 mov	 DWORD PTR [eax+44], edx
$L85116:

; 499  : 						if( pParticle->m_vPos.y > m_vMax.y )

  001db	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  001de	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001e1	d9 40 08	 fld	 DWORD PTR [eax+8]
  001e4	d8 59 30	 fcomp	 DWORD PTR [ecx+48]
  001e7	df e0		 fnstsw	 ax
  001e9	f6 c4 41	 test	 ah, 65			; 00000041H
  001ec	75 0c		 jne	 SHORT $L85117

; 500  : 							m_vMax.y = pParticle->m_vPos.y ;

  001ee	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001f1	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  001f4	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  001f7	89 50 30	 mov	 DWORD PTR [eax+48], edx
$L85117:

; 501  : 						if( pParticle->m_vPos.z > m_vMax.z )

  001fa	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  001fd	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00200	d9 40 0c	 fld	 DWORD PTR [eax+12]
  00203	d8 59 34	 fcomp	 DWORD PTR [ecx+52]
  00206	df e0		 fnstsw	 ax
  00208	f6 c4 41	 test	 ah, 65			; 00000041H
  0020b	75 0c		 jne	 SHORT $L85110

; 502  : 							m_vMax.z = pParticle->m_vPos.z ;

  0020d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00210	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00213	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00216	89 50 34	 mov	 DWORD PTR [eax+52], edx
$L85110:

; 503  : 					}
; 504  : 				}
; 505  : 
; 506  : 				ppParticle = &pParticle->m_pNext;

  00219	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0021c	83 c0 6c	 add	 eax, 108		; 0000006cH
  0021f	89 45 e0	 mov	 DWORD PTR _ppParticle$[ebp], eax
$L85109:

; 507  : 			}
; 508  : 		}

  00222	e9 1b fe ff ff	 jmp	 $L85099
$L85100:

; 509  : 
; 510  : 		// Emit new particles
; 511  : 		DWORD dwParticlesEmit = m_dwParticles + dwNumParticlesToEmit;

  00227	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0022a	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0022d	03 4d 14	 add	 ecx, DWORD PTR _dwNumParticlesToEmit$[ebp]
  00230	89 4d b0	 mov	 DWORD PTR _dwParticlesEmit$[ebp], ecx
$L85121:

; 512  : 		while( m_dwParticles < m_dwParticlesLim && m_dwParticles < dwParticlesEmit )

  00233	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00236	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00239	8b 50 10	 mov	 edx, DWORD PTR [eax+16]
  0023c	3b 51 14	 cmp	 edx, DWORD PTR [ecx+20]
  0023f	0f 83 c4 03 00
	00		 jae	 $L85122
  00245	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00248	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0024b	3b 4d b0	 cmp	 ecx, DWORD PTR _dwParticlesEmit$[ebp]
  0024e	0f 83 b5 03 00
	00		 jae	 $L85122

; 513  : 		{
; 514  : 			if( m_pParticlesFree )

  00254	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00257	83 78 1c 00	 cmp	 DWORD PTR [eax+28], 0
  0025b	74 17		 je	 SHORT $L85123

; 515  : 			{
; 516  : 				pParticle = m_pParticlesFree;

  0025d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00260	8b 48 1c	 mov	 ecx, DWORD PTR [eax+28]
  00263	89 4d ec	 mov	 DWORD PTR _pParticle$[ebp], ecx

; 517  : 				m_pParticlesFree = pParticle->m_pNext;

  00266	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00269	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0026c	8b 51 6c	 mov	 edx, DWORD PTR [ecx+108]
  0026f	89 50 1c	 mov	 DWORD PTR [eax+28], edx

; 518  : 			}
; 519  : 			else

  00272	eb 4f		 jmp	 SHORT $L85124
$L85123:

; 520  : 			{
; 521  : 				if( NULL == ( pParticle = new PARTICLE ) )

  00274	6a 70		 push	 112			; 00000070H
  00276	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  0027b	83 c4 04	 add	 esp, 4
  0027e	89 85 cc fe ff
	ff		 mov	 DWORD PTR $T85254[ebp], eax
  00284	83 bd cc fe ff
	ff 00		 cmp	 DWORD PTR $T85254[ebp], 0
  0028b	74 13		 je	 SHORT $L85255
  0028d	8b 8d cc fe ff
	ff		 mov	 ecx, DWORD PTR $T85254[ebp]
  00293	e8 00 00 00 00	 call	 ??0PARTICLE@@QAE@XZ
  00298	89 85 74 fe ff
	ff		 mov	 DWORD PTR tv208[ebp], eax
  0029e	eb 0a		 jmp	 SHORT $L85256
$L85255:
  002a0	c7 85 74 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv208[ebp], 0
$L85256:
  002aa	8b 85 74 fe ff
	ff		 mov	 eax, DWORD PTR tv208[ebp]
  002b0	89 45 ec	 mov	 DWORD PTR _pParticle$[ebp], eax
  002b3	83 7d ec 00	 cmp	 DWORD PTR _pParticle$[ebp], 0
  002b7	75 0a		 jne	 SHORT $L85124

; 522  : 					return E_OUTOFMEMORY;

  002b9	b8 0e 00 07 80	 mov	 eax, -2147024882	; 8007000eH
  002be	e9 48 03 00 00	 jmp	 $L85094
$L85124:

; 523  : 			}
; 524  : 
; 525  : 			pParticle->m_pNext = m_pParticles;

  002c3	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  002c6	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002c9	8b 51 18	 mov	 edx, DWORD PTR [ecx+24]
  002cc	89 50 6c	 mov	 DWORD PTR [eax+108], edx

; 526  : 			pParticle->m_bMarkedForDeath = FALSE ;

  002cf	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  002d2	c7 40 68 00 00
	00 00		 mov	 DWORD PTR [eax+104], 0

; 527  : 			m_pParticles = pParticle;

  002d9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002dc	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  002df	89 48 18	 mov	 DWORD PTR [eax+24], ecx

; 528  : 			m_dwParticles++;

  002e2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002e5	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  002e8	83 c1 01	 add	 ecx, 1
  002eb	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002ee	89 4a 10	 mov	 DWORD PTR [edx+16], ecx

; 529  : 
; 530  : 			// Emit new particle
; 531  : 			FLOAT fRand1 = ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DX_PI * 2.0f;

  002f1	e8 00 00 00 00	 call	 _rand
  002f6	89 85 74 fe ff
	ff		 mov	 DWORD PTR tv488[ebp], eax
  002fc	db 85 74 fe ff
	ff		 fild	 DWORD PTR tv488[ebp]
  00302	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@46fffe00
  00308	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@40490fdb
  0030e	dc c0		 fadd	 ST(0), ST(0)
  00310	d9 5d a4	 fstp	 DWORD PTR _fRand1$85129[ebp]

; 532  : 			FLOAT fRand2 = ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DX_PI * 0.25f;

  00313	e8 00 00 00 00	 call	 _rand
  00318	89 85 74 fe ff
	ff		 mov	 DWORD PTR tv490[ebp], eax
  0031e	db 85 74 fe ff
	ff		 fild	 DWORD PTR tv490[ebp]
  00324	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@46fffe00
  0032a	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@40490fdb
  00330	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@3e800000
  00336	d9 5d 98	 fstp	 DWORD PTR _fRand2$85133[ebp]

; 533  : 
; 534  : 			pParticle->m_bSpark = FALSE;

  00339	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  0033c	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 535  : 			pParticle->m_fAge = 0.0f ;

  00342	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00345	c7 40 38 00 00
	00 00		 mov	 DWORD PTR [eax+56], 0

; 536  : 	
; 537  : 			if( bSphericalEmit )

  0034c	83 7d 30 00	 cmp	 DWORD PTR _bSphericalEmit$[ebp], 0
  00350	0f 84 90 01 00
	00		 je	 $L85137

; 538  : 			{
; 539  : 				pParticle->m_vPos0 = *pvEmitPosition + xVec3( 0.0f, m_fRadius, 0.0f );

  00356	6a 00		 push	 0
  00358	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0035b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0035d	51		 push	 ecx
  0035e	6a 00		 push	 0
  00360	8d 8d b8 fe ff
	ff		 lea	 ecx, DWORD PTR $T85257[ebp]
  00366	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  0036b	50		 push	 eax
  0036c	8d 95 a4 fe ff
	ff		 lea	 edx, DWORD PTR $T85258[ebp]
  00372	52		 push	 edx
  00373	8b 4d 2c	 mov	 ecx, DWORD PTR _pvEmitPosition$[ebp]
  00376	e8 00 00 00 00	 call	 ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z ; D3DXVECTOR3::operator+
  0037b	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0037e	83 c1 1c	 add	 ecx, 28			; 0000001cH
  00381	8b 10		 mov	 edx, DWORD PTR [eax]
  00383	89 11		 mov	 DWORD PTR [ecx], edx
  00385	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00388	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  0038b	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0038e	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 540  : 				pParticle->m_vVel0.x  = cosf(fRand1) * sinf(fRand2) * 2.5f;

  00391	8b 45 a4	 mov	 eax, DWORD PTR _fRand1$85129[ebp]
  00394	50		 push	 eax
  00395	e8 00 00 00 00	 call	 _cosf
  0039a	d9 9d 74 fe ff
	ff		 fstp	 DWORD PTR tv516[ebp]
  003a0	83 c4 04	 add	 esp, 4
  003a3	8b 4d 98	 mov	 ecx, DWORD PTR _fRand2$85133[ebp]
  003a6	51		 push	 ecx
  003a7	e8 00 00 00 00	 call	 _sinf
  003ac	83 c4 04	 add	 esp, 4
  003af	d8 8d 74 fe ff
	ff		 fmul	 DWORD PTR tv516[ebp]
  003b5	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@40200000
  003bb	8b 55 ec	 mov	 edx, DWORD PTR _pParticle$[ebp]
  003be	d9 5a 28	 fstp	 DWORD PTR [edx+40]

; 541  : 				pParticle->m_vVel0.z  = sinf(fRand1) * sinf(fRand2) * 2.5f;

  003c1	8b 45 a4	 mov	 eax, DWORD PTR _fRand1$85129[ebp]
  003c4	50		 push	 eax
  003c5	e8 00 00 00 00	 call	 _sinf
  003ca	d9 9d 74 fe ff
	ff		 fstp	 DWORD PTR tv522[ebp]
  003d0	83 c4 04	 add	 esp, 4
  003d3	8b 4d 98	 mov	 ecx, DWORD PTR _fRand2$85133[ebp]
  003d6	51		 push	 ecx
  003d7	e8 00 00 00 00	 call	 _sinf
  003dc	83 c4 04	 add	 esp, 4
  003df	d8 8d 74 fe ff
	ff		 fmul	 DWORD PTR tv522[ebp]
  003e5	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@40200000
  003eb	8b 55 ec	 mov	 edx, DWORD PTR _pParticle$[ebp]
  003ee	d9 5a 30	 fstp	 DWORD PTR [edx+48]

; 542  : 				pParticle->m_vVel0.y  = cosf(fRand1) * sinf(fRand2) * 2.5f;

  003f1	8b 45 a4	 mov	 eax, DWORD PTR _fRand1$85129[ebp]
  003f4	50		 push	 eax
  003f5	e8 00 00 00 00	 call	 _cosf
  003fa	d9 9d 74 fe ff
	ff		 fstp	 DWORD PTR tv528[ebp]
  00400	83 c4 04	 add	 esp, 4
  00403	8b 4d 98	 mov	 ecx, DWORD PTR _fRand2$85133[ebp]
  00406	51		 push	 ecx
  00407	e8 00 00 00 00	 call	 _sinf
  0040c	83 c4 04	 add	 esp, 4
  0040f	d8 8d 74 fe ff
	ff		 fmul	 DWORD PTR tv528[ebp]
  00415	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@40200000
  0041b	8b 55 ec	 mov	 edx, DWORD PTR _pParticle$[ebp]
  0041e	d9 5a 2c	 fstp	 DWORD PTR [edx+44]

; 543  : 
; 544  : 				pParticle->m_vVel0.x *= ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DXVec3Length(pvEmitVel);

  00421	e8 00 00 00 00	 call	 _rand
  00426	89 85 74 fe ff
	ff		 mov	 DWORD PTR tv531[ebp], eax
  0042c	db 85 74 fe ff
	ff		 fild	 DWORD PTR tv531[ebp]
  00432	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@46fffe00
  00438	d9 9d 70 fe ff
	ff		 fstp	 DWORD PTR tv533[ebp]
  0043e	8b 45 28	 mov	 eax, DWORD PTR _pvEmitVel$[ebp]
  00441	50		 push	 eax
  00442	e8 00 00 00 00	 call	 ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ; D3DXVec3Length
  00447	83 c4 04	 add	 esp, 4
  0044a	d8 8d 70 fe ff
	ff		 fmul	 DWORD PTR tv533[ebp]
  00450	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00453	d8 49 28	 fmul	 DWORD PTR [ecx+40]
  00456	8b 55 ec	 mov	 edx, DWORD PTR _pParticle$[ebp]
  00459	d9 5a 28	 fstp	 DWORD PTR [edx+40]

; 545  : 				pParticle->m_vVel0.y *= ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DXVec3Length(pvEmitVel);

  0045c	e8 00 00 00 00	 call	 _rand
  00461	89 85 74 fe ff
	ff		 mov	 DWORD PTR tv537[ebp], eax
  00467	db 85 74 fe ff
	ff		 fild	 DWORD PTR tv537[ebp]
  0046d	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@46fffe00
  00473	d9 9d 70 fe ff
	ff		 fstp	 DWORD PTR tv539[ebp]
  00479	8b 45 28	 mov	 eax, DWORD PTR _pvEmitVel$[ebp]
  0047c	50		 push	 eax
  0047d	e8 00 00 00 00	 call	 ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ; D3DXVec3Length
  00482	83 c4 04	 add	 esp, 4
  00485	d8 8d 70 fe ff
	ff		 fmul	 DWORD PTR tv539[ebp]
  0048b	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0048e	d8 49 2c	 fmul	 DWORD PTR [ecx+44]
  00491	8b 55 ec	 mov	 edx, DWORD PTR _pParticle$[ebp]
  00494	d9 5a 2c	 fstp	 DWORD PTR [edx+44]

; 546  : 				pParticle->m_vVel0.z *= ((FLOAT)rand()/(FLOAT)RAND_MAX) * D3DXVec3Length(pvEmitVel);

  00497	e8 00 00 00 00	 call	 _rand
  0049c	89 85 74 fe ff
	ff		 mov	 DWORD PTR tv543[ebp], eax
  004a2	db 85 74 fe ff
	ff		 fild	 DWORD PTR tv543[ebp]
  004a8	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@46fffe00
  004ae	d9 9d 70 fe ff
	ff		 fstp	 DWORD PTR tv545[ebp]
  004b4	8b 45 28	 mov	 eax, DWORD PTR _pvEmitVel$[ebp]
  004b7	50		 push	 eax
  004b8	e8 00 00 00 00	 call	 ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ; D3DXVec3Length
  004bd	83 c4 04	 add	 esp, 4
  004c0	d8 8d 70 fe ff
	ff		 fmul	 DWORD PTR tv545[ebp]
  004c6	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  004c9	d8 49 30	 fmul	 DWORD PTR [ecx+48]
  004cc	8b 55 ec	 mov	 edx, DWORD PTR _pParticle$[ebp]
  004cf	d9 5a 30	 fstp	 DWORD PTR [edx+48]

; 547  : 				
; 548  : 				pParticle->m_vVel0 += *pvEmitVel ;		// ??

  004d2	8b 45 28	 mov	 eax, DWORD PTR _pvEmitVel$[ebp]
  004d5	50		 push	 eax
  004d6	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  004d9	83 c1 28	 add	 ecx, 40			; 00000028H
  004dc	e8 00 00 00 00	 call	 ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ; D3DXVECTOR3::operator+=

; 549  : 			}
; 550  : 			else

  004e1	e9 80 00 00 00	 jmp	 $L85146
$L85137:

; 551  : 			{
; 552  : 				pParticle->m_vPos0 = *pvEmitPosition ;

  004e6	8b 45 2c	 mov	 eax, DWORD PTR _pvEmitPosition$[ebp]
  004e9	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  004ec	83 c1 1c	 add	 ecx, 28			; 0000001cH
  004ef	8b 10		 mov	 edx, DWORD PTR [eax]
  004f1	89 11		 mov	 DWORD PTR [ecx], edx
  004f3	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  004f6	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  004f9	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  004fc	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 553  : 				pParticle->m_vVel0 = *pvEmitVel +
; 554  : 								xVec3((rnd()-0.5f)*fScatter, (rnd()-0.5f)*fScatter, (rnd()-0.5f)*fScatter) ;

  004ff	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  00504	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f000000
  0050a	d8 4d 34	 fmul	 DWORD PTR _fScatter$[ebp]
  0050d	51		 push	 ecx
  0050e	d9 1c 24	 fstp	 DWORD PTR [esp]
  00511	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  00516	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f000000
  0051c	d8 4d 34	 fmul	 DWORD PTR _fScatter$[ebp]
  0051f	51		 push	 ecx
  00520	d9 1c 24	 fstp	 DWORD PTR [esp]
  00523	e8 00 00 00 00	 call	 ?rnd@@YAMXZ		; rnd
  00528	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f000000
  0052e	d8 4d 34	 fmul	 DWORD PTR _fScatter$[ebp]
  00531	51		 push	 ecx
  00532	d9 1c 24	 fstp	 DWORD PTR [esp]
  00535	8d 8d 90 fe ff
	ff		 lea	 ecx, DWORD PTR $T85259[ebp]
  0053b	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00540	50		 push	 eax
  00541	8d 85 7c fe ff
	ff		 lea	 eax, DWORD PTR $T85260[ebp]
  00547	50		 push	 eax
  00548	8b 4d 28	 mov	 ecx, DWORD PTR _pvEmitVel$[ebp]
  0054b	e8 00 00 00 00	 call	 ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z ; D3DXVECTOR3::operator+
  00550	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  00553	83 c1 28	 add	 ecx, 40			; 00000028H
  00556	8b 10		 mov	 edx, DWORD PTR [eax]
  00558	89 11		 mov	 DWORD PTR [ecx], edx
  0055a	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0055d	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00560	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00563	89 41 08	 mov	 DWORD PTR [ecx+8], eax
$L85146:

; 555  : 			}
; 556  : 
; 557  : 			pParticle->m_vPos = pParticle->m_vPos0;

  00566	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00569	83 c0 1c	 add	 eax, 28			; 0000001cH
  0056c	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0056f	83 c1 04	 add	 ecx, 4
  00572	8b 10		 mov	 edx, DWORD PTR [eax]
  00574	89 11		 mov	 DWORD PTR [ecx], edx
  00576	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00579	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  0057c	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0057f	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 558  : 			pParticle->m_vVel = pParticle->m_vVel0;

  00582	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  00585	83 c0 28	 add	 eax, 40			; 00000028H
  00588	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  0058b	83 c1 10	 add	 ecx, 16			; 00000010H
  0058e	8b 10		 mov	 edx, DWORD PTR [eax]
  00590	89 11		 mov	 DWORD PTR [ecx], edx
  00592	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00595	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00598	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0059b	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 559  : 
; 560  : 			pParticle->m_clrDiffuse   = clrEmitColor;

  0059e	8b 45 20	 mov	 eax, DWORD PTR _clrEmitColor$[ebp]
  005a1	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  005a4	83 c1 44	 add	 ecx, 68			; 00000044H
  005a7	8b 10		 mov	 edx, DWORD PTR [eax]
  005a9	89 11		 mov	 DWORD PTR [ecx], edx
  005ab	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  005ae	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  005b1	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  005b4	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  005b7	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  005ba	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 561  : 			pParticle->m_clrFade      = clrFadeColor;

  005bd	8b 45 24	 mov	 eax, DWORD PTR _clrFadeColor$[ebp]
  005c0	8b 4d ec	 mov	 ecx, DWORD PTR _pParticle$[ebp]
  005c3	83 c1 54	 add	 ecx, 84			; 00000054H
  005c6	8b 10		 mov	 edx, DWORD PTR [eax]
  005c8	89 11		 mov	 DWORD PTR [ecx], edx
  005ca	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  005cd	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  005d0	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  005d3	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  005d6	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  005d9	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 562  : 			pParticle->m_fFade        = 1.0f;

  005dc	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  005df	c7 40 64 00 00
	80 3f		 mov	 DWORD PTR [eax+100], 1065353216 ; 3f800000H

; 563  : 			pParticle->m_fTime0       = m_fTime;

  005e6	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  005e9	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  005ec	8b 51 38	 mov	 edx, DWORD PTR [ecx+56]
  005ef	89 50 34	 mov	 DWORD PTR [eax+52], edx

; 564  : 			pParticle->m_fAbsLifeTime = fAbsLifeTime;

  005f2	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  005f5	8b 4d 18	 mov	 ecx, DWORD PTR _fAbsLifeTime$[ebp]
  005f8	89 48 3c	 mov	 DWORD PTR [eax+60], ecx

; 565  : 			pParticle->m_bFeelGravity = bFeelGravity;

  005fb	8b 45 ec	 mov	 eax, DWORD PTR _pParticle$[ebp]
  005fe	8b 4d 1c	 mov	 ecx, DWORD PTR _bFeelGravity$[ebp]
  00601	89 48 40	 mov	 DWORD PTR [eax+64], ecx

; 566  : 
; 567  : 			/*if( bTrackBoundingVolume )
; 568  : 				if( m_dwParticles == 1 )
; 569  : 				{
; 570  : 					m_vMin = pParticle->m_vPos ;
; 571  : 					m_vMax = pParticle->m_vPos ;
; 572  : 				}
; 573  : 				else
; 574  : 				{
; 575  : 					if( pParticle->m_vPos.x < m_vMin.x && pParticle->m_vPos.y < m_vMin.y && pParticle->m_vPos.z < m_vMin.z )
; 576  : 						m_vMin = pParticle->m_vPos ;
; 577  : 					if( pParticle->m_vPos.x > m_vMax.x && pParticle->m_vPos.y > m_vMax.y && pParticle->m_vPos.z > m_vMax.z )
; 578  : 						m_vMax = pParticle->m_vPos ;
; 579  : 				}*/
; 580  : 		}

  00604	e9 2a fc ff ff	 jmp	 $L85121
$L85122:

; 581  : 		
; 582  : 		return S_OK ;

  00609	33 c0		 xor	 eax, eax
$L85094:

; 583  : 	}

  0060b	5f		 pop	 edi
  0060c	5e		 pop	 esi
  0060d	5b		 pop	 ebx
  0060e	81 c4 90 01 00
	00		 add	 esp, 400		; 00000190H
  00614	3b ec		 cmp	 ebp, esp
  00616	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0061b	8b e5		 mov	 esp, ebp
  0061d	5d		 pop	 ebp
  0061e	c2 34 00	 ret	 52			; 00000034H
?FrameMove@CParticleSystem@@QAEJMPAUD3DXVECTOR3@@MKMHABUD3DXCOLOR@@100HMH@Z ENDP ; CParticleSystem::FrameMove
_TEXT	ENDS
EXTRN	_cos:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\program files\microsoft visual studio .net\vc7\include\math.h
;	COMDAT _cosf
_TEXT	SEGMENT
tv70 = -196
__X$ = 8
_cosf	PROC NEAR					; COMDAT

; 444  :         {return ((float)cos((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00021	83 ec 08	 sub	 esp, 8
  00024	dd 1c 24	 fstp	 QWORD PTR [esp]
  00027	e8 00 00 00 00	 call	 _cos
  0002c	83 c4 08	 add	 esp, 8
  0002f	d9 95 3c ff ff
	ff		 fst	 DWORD PTR tv70[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_cosf	ENDP
_TEXT	ENDS
EXTRN	_sin:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT _sinf
_TEXT	SEGMENT
tv70 = -196
__X$ = 8
_sinf	PROC NEAR					; COMDAT

; 466  :         {return ((float)sin((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00021	83 ec 08	 sub	 esp, 8
  00024	dd 1c 24	 fstp	 QWORD PTR [esp]
  00027	e8 00 00 00 00	 call	 _sin
  0002c	83 c4 08	 add	 esp, 8
  0002f	d9 95 3c ff ff
	ff		 fst	 DWORD PTR tv70[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_sinf	ENDP
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.h
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXVECTOR3@@QAE@XZ PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 89   :     D3DXVECTOR3() {};

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXVECTOR3@@QAE@XZ ENDP				; D3DXVECTOR3::D3DXVECTOR3
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXMATRIX@@QAE@XZ PROC NEAR				; D3DXMATRIX::D3DXMATRIX, COMDAT
; _this$ = ecx

; 177  :     D3DXMATRIX() {};

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXMATRIX@@QAE@XZ ENDP				; D3DXMATRIX::D3DXMATRIX
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0PARTICLE@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0PARTICLE@@QAE@XZ PROC NEAR				; PARTICLE::PARTICLE, COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	83 c1 04	 add	 ecx, 4
  00029	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  0002e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00031	83 c1 10	 add	 ecx, 16			; 00000010H
  00034	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  00039	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003c	83 c1 1c	 add	 ecx, 28			; 0000001cH
  0003f	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  00044	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00047	83 c1 28	 add	 ecx, 40			; 00000028H
  0004a	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  0004f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00052	83 c1 44	 add	 ecx, 68			; 00000044H
  00055	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@XZ	; D3DXCOLOR::D3DXCOLOR
  0005a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005d	83 c1 54	 add	 ecx, 84			; 00000054H
  00060	e8 00 00 00 00	 call	 ??0D3DXCOLOR@@QAE@XZ	; D3DXCOLOR::D3DXCOLOR
  00065	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00068	5f		 pop	 edi
  00069	5e		 pop	 esi
  0006a	5b		 pop	 ebx
  0006b	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00071	3b ec		 cmp	 ebp, esp
  00073	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00078	8b e5		 mov	 esp, ebp
  0007a	5d		 pop	 ebp
  0007b	c3		 ret	 0
??0PARTICLE@@QAE@XZ ENDP				; PARTICLE::PARTICLE
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXCOLOR@@QAE@XZ PROC NEAR				; D3DXCOLOR::D3DXCOLOR, COMDAT
; _this$ = ecx

; 409  :     D3DXCOLOR() {}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXCOLOR@@QAE@XZ ENDP				; D3DXCOLOR::D3DXCOLOR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.inl
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT
_this$ = -8
_fx$ = 8
_fy$ = 12
_fz$ = 16
??0D3DXVECTOR3@@QAE@MMM@Z PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 179  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 180  :     x = fx;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fx$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 181  :     y = fy;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _fy$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 182  :     z = fz;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fz$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 183  : }

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	5f		 pop	 edi
  00041	5e		 pop	 esi
  00042	5b		 pop	 ebx
  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c2 0c 00	 ret	 12			; 0000000cH
??0D3DXVECTOR3@@QAE@MMM@Z ENDP				; D3DXVECTOR3::D3DXVECTOR3
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z
_TEXT	SEGMENT
_this$ = -8
_v$ = 8
??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator+=, COMDAT
; _this$ = ecx

; 203  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 204  :     x += v.x;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _v$[ebp]
  00029	d9 00		 fld	 DWORD PTR [eax]
  0002b	d8 01		 fadd	 DWORD PTR [ecx]
  0002d	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00030	d9 1a		 fstp	 DWORD PTR [edx]

; 205  :     y += v.y;

  00032	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00035	8b 4d 08	 mov	 ecx, DWORD PTR _v$[ebp]
  00038	d9 40 04	 fld	 DWORD PTR [eax+4]
  0003b	d8 41 04	 fadd	 DWORD PTR [ecx+4]
  0003e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00041	d9 5a 04	 fstp	 DWORD PTR [edx+4]

; 206  :     z += v.z;

  00044	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00047	8b 4d 08	 mov	 ecx, DWORD PTR _v$[ebp]
  0004a	d9 40 08	 fld	 DWORD PTR [eax+8]
  0004d	d8 41 08	 fadd	 DWORD PTR [ecx+8]
  00050	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00053	d9 5a 08	 fstp	 DWORD PTR [edx+8]

; 207  :     return *this;

  00056	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]

; 208  : }

  00059	5f		 pop	 edi
  0005a	5e		 pop	 esi
  0005b	5b		 pop	 ebx
  0005c	8b e5		 mov	 esp, ebp
  0005e	5d		 pop	 ebp
  0005f	c2 04 00	 ret	 4
??YD3DXVECTOR3@@QAEAAU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator+=
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??XD3DXVECTOR3@@QAEAAU0@M@Z
_TEXT	SEGMENT
_this$ = -8
_f$ = 8
??XD3DXVECTOR3@@QAEAAU0@M@Z PROC NEAR			; D3DXVECTOR3::operator*=, COMDAT
; _this$ = ecx

; 221  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 222  :     x *= f;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	d9 45 08	 fld	 DWORD PTR _f$[ebp]
  00029	d8 08		 fmul	 DWORD PTR [eax]
  0002b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002e	d9 19		 fstp	 DWORD PTR [ecx]

; 223  :     y *= f;

  00030	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00033	d9 45 08	 fld	 DWORD PTR _f$[ebp]
  00036	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00039	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003c	d9 59 04	 fstp	 DWORD PTR [ecx+4]

; 224  :     z *= f;

  0003f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00042	d9 45 08	 fld	 DWORD PTR _f$[ebp]
  00045	d8 48 08	 fmul	 DWORD PTR [eax+8]
  00048	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004b	d9 59 08	 fstp	 DWORD PTR [ecx+8]

; 225  :     return *this;

  0004e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]

; 226  : }

  00051	5f		 pop	 edi
  00052	5e		 pop	 esi
  00053	5b		 pop	 ebx
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c2 04 00	 ret	 4
??XD3DXVECTOR3@@QAEAAU0@M@Z ENDP			; D3DXVECTOR3::operator*=
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT
_this$ = -8
___$ReturnUdt$ = 8
_v$ = 12
??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator+, COMDAT
; _this$ = ecx

; 256  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 257  :     return D3DXVECTOR3(x + v.x, y + v.y, z + v.z);

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 0c	 mov	 ecx, DWORD PTR _v$[ebp]
  00029	d9 40 08	 fld	 DWORD PTR [eax+8]
  0002c	d8 41 08	 fadd	 DWORD PTR [ecx+8]
  0002f	51		 push	 ecx
  00030	d9 1c 24	 fstp	 DWORD PTR [esp]
  00033	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00036	8b 45 0c	 mov	 eax, DWORD PTR _v$[ebp]
  00039	d9 42 04	 fld	 DWORD PTR [edx+4]
  0003c	d8 40 04	 fadd	 DWORD PTR [eax+4]
  0003f	51		 push	 ecx
  00040	d9 1c 24	 fstp	 DWORD PTR [esp]
  00043	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00046	8b 55 0c	 mov	 edx, DWORD PTR _v$[ebp]
  00049	d9 01		 fld	 DWORD PTR [ecx]
  0004b	d8 02		 fadd	 DWORD PTR [edx]
  0004d	51		 push	 ecx
  0004e	d9 1c 24	 fstp	 DWORD PTR [esp]
  00051	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  00054	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00059	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]

; 258  : }

  0005c	5f		 pop	 edi
  0005d	5e		 pop	 esi
  0005e	5b		 pop	 ebx
  0005f	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00065	3b ec		 cmp	 ebp, esp
  00067	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0006c	8b e5		 mov	 esp, ebp
  0006e	5d		 pop	 ebp
  0006f	c2 08 00	 ret	 8
??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator+
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT
_this$ = -8
_fr$ = 8
_fg$ = 12
_fb$ = 16
_fa$ = 20
??0D3DXCOLOR@@QAE@MMMM@Z PROC NEAR			; D3DXCOLOR::D3DXCOLOR, COMDAT
; _this$ = ecx

; 919  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 920  :     r = fr;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fr$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 921  :     g = fg;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _fg$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 922  :     b = fb;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fb$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 923  :     a = fa;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	8b 4d 14	 mov	 ecx, DWORD PTR _fa$[ebp]
  00043	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 924  : }

  00046	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00049	5f		 pop	 edi
  0004a	5e		 pop	 esi
  0004b	5b		 pop	 ebx
  0004c	8b e5		 mov	 esp, ebp
  0004e	5d		 pop	 ebp
  0004f	c2 10 00	 ret	 16			; 00000010H
??0D3DXCOLOR@@QAE@MMMM@Z ENDP				; D3DXCOLOR::D3DXCOLOR
_TEXT	ENDS
PUBLIC	__real@437f0000
EXTRN	__ftol2:NEAR
;	COMDAT __real@437f0000
CONST	SEGMENT
__real@437f0000 DD 0437f0000r			; 255
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ??BD3DXCOLOR@@QBEKXZ
_TEXT	SEGMENT
tv135 = -260
tv92 = -260
tv81 = -260
tv70 = -260
tv136 = -256
tv93 = -256
tv82 = -256
tv71 = -256
_dwA$ = -56
_dwB$ = -44
_dwG$ = -32
_dwR$ = -20
_this$ = -8
??BD3DXCOLOR@@QBEKXZ PROC NEAR				; D3DXCOLOR::operator unsigned long, COMDAT
; _this$ = ecx

; 930  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd fc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-260]
  00013	b9 41 00 00 00	 mov	 ecx, 65			; 00000041H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 931  :     DWORD dwR = r >= 1.0f ? 0xff : r <= 0.0f ? 0x00 : (DWORD) (r * 255.0f + 0.5f);

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	d9 00		 fld	 DWORD PTR [eax]
  00028	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0002e	df e0		 fnstsw	 ax
  00030	f6 c4 01	 test	 ah, 1
  00033	75 0c		 jne	 SHORT $L85297
  00035	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv71[ebp], 255 ; 000000ffH
  0003f	eb 46		 jmp	 SHORT $L85298
$L85297:
  00041	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00044	d9 01		 fld	 DWORD PTR [ecx]
  00046	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  0004c	df e0		 fnstsw	 ax
  0004e	f6 c4 41	 test	 ah, 65			; 00000041H
  00051	7a 0c		 jp	 SHORT $L85295
  00053	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv70[ebp], 0
  0005d	eb 1c		 jmp	 SHORT $L85296
$L85295:
  0005f	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00062	d9 02		 fld	 DWORD PTR [edx]
  00064	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  0006a	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  00070	e8 00 00 00 00	 call	 __ftol2
  00075	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv70[ebp], eax
$L85296:
  0007b	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv70[ebp]
  00081	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv71[ebp], eax
$L85298:
  00087	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv71[ebp]
  0008d	89 4d ec	 mov	 DWORD PTR _dwR$[ebp], ecx

; 932  :     DWORD dwG = g >= 1.0f ? 0xff : g <= 0.0f ? 0x00 : (DWORD) (g * 255.0f + 0.5f);

  00090	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00093	d9 40 04	 fld	 DWORD PTR [eax+4]
  00096	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0009c	df e0		 fnstsw	 ax
  0009e	f6 c4 01	 test	 ah, 1
  000a1	75 0c		 jne	 SHORT $L85301
  000a3	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv82[ebp], 255 ; 000000ffH
  000ad	eb 48		 jmp	 SHORT $L85302
$L85301:
  000af	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000b2	d9 41 04	 fld	 DWORD PTR [ecx+4]
  000b5	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000bb	df e0		 fnstsw	 ax
  000bd	f6 c4 41	 test	 ah, 65			; 00000041H
  000c0	7a 0c		 jp	 SHORT $L85299
  000c2	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv81[ebp], 0
  000cc	eb 1d		 jmp	 SHORT $L85300
$L85299:
  000ce	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000d1	d9 42 04	 fld	 DWORD PTR [edx+4]
  000d4	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  000da	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  000e0	e8 00 00 00 00	 call	 __ftol2
  000e5	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv81[ebp], eax
$L85300:
  000eb	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv81[ebp]
  000f1	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv82[ebp], eax
$L85302:
  000f7	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv82[ebp]
  000fd	89 4d e0	 mov	 DWORD PTR _dwG$[ebp], ecx

; 933  :     DWORD dwB = b >= 1.0f ? 0xff : b <= 0.0f ? 0x00 : (DWORD) (b * 255.0f + 0.5f);

  00100	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00103	d9 40 08	 fld	 DWORD PTR [eax+8]
  00106	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0010c	df e0		 fnstsw	 ax
  0010e	f6 c4 01	 test	 ah, 1
  00111	75 0c		 jne	 SHORT $L85305
  00113	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv93[ebp], 255 ; 000000ffH
  0011d	eb 48		 jmp	 SHORT $L85306
$L85305:
  0011f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00122	d9 41 08	 fld	 DWORD PTR [ecx+8]
  00125	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  0012b	df e0		 fnstsw	 ax
  0012d	f6 c4 41	 test	 ah, 65			; 00000041H
  00130	7a 0c		 jp	 SHORT $L85303
  00132	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv92[ebp], 0
  0013c	eb 1d		 jmp	 SHORT $L85304
$L85303:
  0013e	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00141	d9 42 08	 fld	 DWORD PTR [edx+8]
  00144	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  0014a	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  00150	e8 00 00 00 00	 call	 __ftol2
  00155	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv92[ebp], eax
$L85304:
  0015b	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv92[ebp]
  00161	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv93[ebp], eax
$L85306:
  00167	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv93[ebp]
  0016d	89 4d d4	 mov	 DWORD PTR _dwB$[ebp], ecx

; 934  :     DWORD dwA = a >= 1.0f ? 0xff : a <= 0.0f ? 0x00 : (DWORD) (a * 255.0f + 0.5f);

  00170	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00173	d9 40 0c	 fld	 DWORD PTR [eax+12]
  00176	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  0017c	df e0		 fnstsw	 ax
  0017e	f6 c4 01	 test	 ah, 1
  00181	75 0c		 jne	 SHORT $L85309
  00183	c7 85 00 ff ff
	ff ff 00 00 00	 mov	 DWORD PTR tv136[ebp], 255 ; 000000ffH
  0018d	eb 48		 jmp	 SHORT $L85310
$L85309:
  0018f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00192	d9 41 0c	 fld	 DWORD PTR [ecx+12]
  00195	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  0019b	df e0		 fnstsw	 ax
  0019d	f6 c4 41	 test	 ah, 65			; 00000041H
  001a0	7a 0c		 jp	 SHORT $L85307
  001a2	c7 85 fc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR tv135[ebp], 0
  001ac	eb 1d		 jmp	 SHORT $L85308
$L85307:
  001ae	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  001b1	d9 42 0c	 fld	 DWORD PTR [edx+12]
  001b4	d8 0d 00 00 00
	00		 fmul	 DWORD PTR __real@437f0000
  001ba	d8 05 00 00 00
	00		 fadd	 DWORD PTR __real@3f000000
  001c0	e8 00 00 00 00	 call	 __ftol2
  001c5	89 85 fc fe ff
	ff		 mov	 DWORD PTR tv135[ebp], eax
$L85308:
  001cb	8b 85 fc fe ff
	ff		 mov	 eax, DWORD PTR tv135[ebp]
  001d1	89 85 00 ff ff
	ff		 mov	 DWORD PTR tv136[ebp], eax
$L85310:
  001d7	8b 8d 00 ff ff
	ff		 mov	 ecx, DWORD PTR tv136[ebp]
  001dd	89 4d c8	 mov	 DWORD PTR _dwA$[ebp], ecx

; 935  : 
; 936  :     return (dwA << 24) | (dwR << 16) | (dwG << 8) | dwB;

  001e0	8b 45 c8	 mov	 eax, DWORD PTR _dwA$[ebp]
  001e3	c1 e0 18	 shl	 eax, 24			; 00000018H
  001e6	8b 4d ec	 mov	 ecx, DWORD PTR _dwR$[ebp]
  001e9	c1 e1 10	 shl	 ecx, 16			; 00000010H
  001ec	0b c1		 or	 eax, ecx
  001ee	8b 55 e0	 mov	 edx, DWORD PTR _dwG$[ebp]
  001f1	c1 e2 08	 shl	 edx, 8
  001f4	0b c2		 or	 eax, edx
  001f6	0b 45 d4	 or	 eax, DWORD PTR _dwB$[ebp]

; 937  : }

  001f9	5f		 pop	 edi
  001fa	5e		 pop	 esi
  001fb	5b		 pop	 ebx
  001fc	8b e5		 mov	 esp, ebp
  001fe	5d		 pop	 ebp
  001ff	c3		 ret	 0
??BD3DXCOLOR@@QBEKXZ ENDP				; D3DXCOLOR::operator unsigned long
_TEXT	ENDS
PUBLIC	_sqrtf
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_pV$ = 8
?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z PROC NEAR	; D3DXVec3Length, COMDAT

; 1232 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1233 : #ifdef D3DX_DEBUG
; 1234 :     if(!pV)
; 1235 :         return 0.0f;
; 1236 : #endif
; 1237 : 
; 1238 : #ifdef __cplusplus
; 1239 :     return sqrtf(pV->x * pV->x + pV->y * pV->y + pV->z * pV->z);

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pV$[ebp]
  00021	8b 4d 08	 mov	 ecx, DWORD PTR _pV$[ebp]
  00024	d9 00		 fld	 DWORD PTR [eax]
  00026	d8 09		 fmul	 DWORD PTR [ecx]
  00028	8b 55 08	 mov	 edx, DWORD PTR _pV$[ebp]
  0002b	8b 45 08	 mov	 eax, DWORD PTR _pV$[ebp]
  0002e	d9 42 04	 fld	 DWORD PTR [edx+4]
  00031	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00034	de c1		 faddp	 ST(1), ST(0)
  00036	8b 4d 08	 mov	 ecx, DWORD PTR _pV$[ebp]
  00039	8b 55 08	 mov	 edx, DWORD PTR _pV$[ebp]
  0003c	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0003f	d8 4a 08	 fmul	 DWORD PTR [edx+8]
  00042	de c1		 faddp	 ST(1), ST(0)
  00044	51		 push	 ecx
  00045	d9 1c 24	 fstp	 DWORD PTR [esp]
  00048	e8 00 00 00 00	 call	 _sqrtf
  0004d	83 c4 04	 add	 esp, 4

; 1240 : #else
; 1241 :     return (FLOAT) sqrt(pV->x * pV->x + pV->y * pV->y + pV->z * pV->z);
; 1242 : #endif
; 1243 : }

  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00059	3b ec		 cmp	 ebp, esp
  0005b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00060	8b e5		 mov	 esp, ebp
  00062	5d		 pop	 ebp
  00063	c3		 ret	 0
?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ENDP		; D3DXVec3Length
_TEXT	ENDS
EXTRN	_sqrt:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\program files\microsoft visual studio .net\vc7\include\math.h
;	COMDAT _sqrtf
_TEXT	SEGMENT
tv70 = -196
__X$ = 8
_sqrtf	PROC NEAR					; COMDAT

; 470  :         {return ((float)sqrt((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00021	83 ec 08	 sub	 esp, 8
  00024	dd 1c 24	 fstp	 QWORD PTR [esp]
  00027	e8 00 00 00 00	 call	 _sqrt
  0002c	83 c4 08	 add	 esp, 8
  0002f	d9 95 3c ff ff
	ff		 fst	 DWORD PTR tv70[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_sqrtf	ENDP
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.inl
_TEXT	ENDS
;	COMDAT ?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_pV$ = 8
?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z PROC NEAR	; D3DXVec3LengthSq, COMDAT

; 1247 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1248 : #ifdef D3DX_DEBUG
; 1249 :     if(!pV)
; 1250 :         return 0.0f;
; 1251 : #endif
; 1252 : 
; 1253 :     return pV->x * pV->x + pV->y * pV->y + pV->z * pV->z;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pV$[ebp]
  00021	8b 4d 08	 mov	 ecx, DWORD PTR _pV$[ebp]
  00024	d9 00		 fld	 DWORD PTR [eax]
  00026	d8 09		 fmul	 DWORD PTR [ecx]
  00028	8b 55 08	 mov	 edx, DWORD PTR _pV$[ebp]
  0002b	8b 45 08	 mov	 eax, DWORD PTR _pV$[ebp]
  0002e	d9 42 04	 fld	 DWORD PTR [edx+4]
  00031	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00034	de c1		 faddp	 ST(1), ST(0)
  00036	8b 4d 08	 mov	 ecx, DWORD PTR _pV$[ebp]
  00039	8b 55 08	 mov	 edx, DWORD PTR _pV$[ebp]
  0003c	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0003f	d8 4a 08	 fmul	 DWORD PTR [edx+8]
  00042	de c1		 faddp	 ST(1), ST(0)

; 1254 : }

  00044	5f		 pop	 edi
  00045	5e		 pop	 esi
  00046	5b		 pop	 ebx
  00047	8b e5		 mov	 esp, ebp
  00049	5d		 pop	 ebp
  0004a	c3		 ret	 0
?D3DXVec3LengthSq@@YAMPBUD3DXVECTOR3@@@Z ENDP		; D3DXVec3LengthSq
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?D3DXColorLerp@@YAPAUD3DXCOLOR@@PAU1@PBU1@1M@Z
_TEXT	SEGMENT
_pOut$ = 8
_pC1$ = 12
_pC2$ = 16
_s$ = 20
?D3DXColorLerp@@YAPAUD3DXCOLOR@@PAU1@PBU1@1M@Z PROC NEAR ; D3DXColorLerp, COMDAT

; 1743 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1744 : #ifdef D3DX_DEBUG
; 1745 :     if(!pOut || !pC1 || !pC2)
; 1746 :         return NULL;
; 1747 : #endif
; 1748 : 
; 1749 :     pOut->r = pC1->r + s * (pC2->r - pC1->r);

  0001e	8b 45 10	 mov	 eax, DWORD PTR _pC2$[ebp]
  00021	8b 4d 0c	 mov	 ecx, DWORD PTR _pC1$[ebp]
  00024	d9 00		 fld	 DWORD PTR [eax]
  00026	d8 21		 fsub	 DWORD PTR [ecx]
  00028	d8 4d 14	 fmul	 DWORD PTR _s$[ebp]
  0002b	8b 55 0c	 mov	 edx, DWORD PTR _pC1$[ebp]
  0002e	d8 02		 fadd	 DWORD PTR [edx]
  00030	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00033	d9 18		 fstp	 DWORD PTR [eax]

; 1750 :     pOut->g = pC1->g + s * (pC2->g - pC1->g);

  00035	8b 45 10	 mov	 eax, DWORD PTR _pC2$[ebp]
  00038	8b 4d 0c	 mov	 ecx, DWORD PTR _pC1$[ebp]
  0003b	d9 40 04	 fld	 DWORD PTR [eax+4]
  0003e	d8 61 04	 fsub	 DWORD PTR [ecx+4]
  00041	d8 4d 14	 fmul	 DWORD PTR _s$[ebp]
  00044	8b 55 0c	 mov	 edx, DWORD PTR _pC1$[ebp]
  00047	d8 42 04	 fadd	 DWORD PTR [edx+4]
  0004a	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0004d	d9 58 04	 fstp	 DWORD PTR [eax+4]

; 1751 :     pOut->b = pC1->b + s * (pC2->b - pC1->b);

  00050	8b 45 10	 mov	 eax, DWORD PTR _pC2$[ebp]
  00053	8b 4d 0c	 mov	 ecx, DWORD PTR _pC1$[ebp]
  00056	d9 40 08	 fld	 DWORD PTR [eax+8]
  00059	d8 61 08	 fsub	 DWORD PTR [ecx+8]
  0005c	d8 4d 14	 fmul	 DWORD PTR _s$[ebp]
  0005f	8b 55 0c	 mov	 edx, DWORD PTR _pC1$[ebp]
  00062	d8 42 08	 fadd	 DWORD PTR [edx+8]
  00065	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00068	d9 58 08	 fstp	 DWORD PTR [eax+8]

; 1752 :     pOut->a = pC1->a + s * (pC2->a - pC1->a);

  0006b	8b 45 10	 mov	 eax, DWORD PTR _pC2$[ebp]
  0006e	8b 4d 0c	 mov	 ecx, DWORD PTR _pC1$[ebp]
  00071	d9 40 0c	 fld	 DWORD PTR [eax+12]
  00074	d8 61 0c	 fsub	 DWORD PTR [ecx+12]
  00077	d8 4d 14	 fmul	 DWORD PTR _s$[ebp]
  0007a	8b 55 0c	 mov	 edx, DWORD PTR _pC1$[ebp]
  0007d	d8 42 0c	 fadd	 DWORD PTR [edx+12]
  00080	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00083	d9 58 0c	 fstp	 DWORD PTR [eax+12]

; 1753 :     return pOut;

  00086	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]

; 1754 : }

  00089	5f		 pop	 edi
  0008a	5e		 pop	 esi
  0008b	5b		 pop	 ebx
  0008c	8b e5		 mov	 esp, ebp
  0008e	5d		 pop	 ebp
  0008f	c3		 ret	 0
?D3DXColorLerp@@YAPAUD3DXCOLOR@@PAU1@PBU1@1M@Z ENDP	; D3DXColorLerp
_TEXT	ENDS
PUBLIC	?g_ParticleColor@@3PAUD3DXCOLOR@@A		; g_ParticleColor
PUBLIC	?g_ParticleColorFade@@3PAUD3DXCOLOR@@A		; g_ParticleColorFade
_BSS	SEGMENT
?g_ParticleColor@@3PAUD3DXCOLOR@@A DB 030H DUP (?)	; g_ParticleColor
?g_ParticleColorFade@@3PAUD3DXCOLOR@@A DB 030H DUP (?)	; g_ParticleColorFade
_BSS	ENDS
END
