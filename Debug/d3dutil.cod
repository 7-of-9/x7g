; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9466 

	TITLE	D3DFrame8.1 Custom\src\d3dutil.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT _IsEqualGUID
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _==
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asinf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@PBM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@ABU_D3DMATRIX@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??XD3DXQUATERNION@@QAEAAU0@ABU0@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_InitMaterial@@YAXAAU_D3DMATERIAL8@@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_InitLight@@YAXAAU_D3DLIGHT8@@W4_D3DLIGHTTYPE@@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_CreateTexture@@YAJPAUIDirect3DDevice8@@PADPAPAUIDirect3DTexture8@@W4_D3DFORMAT@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_SetColorKey@@YAJPAUIDirect3DTexture8@@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_CreateVertexShader@@YAJPAUIDirect3DDevice8@@PADPAK2@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_GetCubeMapViewMatrix@@YA?AUD3DXMATRIX@@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_GetRotationFromCursor@@YA?AUD3DXQUATERNION@@PAUHWND__@@M@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXQuaternionUnitAxisToUnitAxis2@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?D3DXQuaternionAxisToAxis@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0CD3DArcBall@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SetWindow@CD3DArcBall@@QAEXHHM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SetRadius@CD3DArcBall@@QAEXM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0CD3DCamera@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SetViewParams@CD3DCamera@@QAEXAAUD3DXVECTOR3@@00@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?SetProjParams@CD3DCamera@@QAEXMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	?D3DUtil_InitMaterial@@YAXAAU_D3DMATERIAL8@@MMMM@Z ; D3DUtil_InitMaterial
EXTRN	_memset:NEAR
EXTRN	__RTC_InitBase:NEAR
EXTRN	__RTC_Shutdown:NEAR
EXTRN	__RTC_CheckEsp:NEAR
EXTRN	__fltused:NEAR
;	COMDAT rtc$IMZ
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\src\d3dutil.cpp
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
; Function compile flags: /Odt /RTCsu /ZI
rtc$TMZ	ENDS
;	COMDAT ?D3DUtil_InitMaterial@@YAXAAU_D3DMATERIAL8@@MMMM@Z
_TEXT	SEGMENT
_mtrl$ = 8
_r$ = 12
_g$ = 16
_b$ = 20
_a$ = 24
?D3DUtil_InitMaterial@@YAXAAU_D3DMATERIAL8@@MMMM@Z PROC NEAR ; D3DUtil_InitMaterial, COMDAT

; 26   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 27   :     ZeroMemory( &mtrl, sizeof(D3DMATERIAL8) );

  0001e	6a 44		 push	 68			; 00000044H
  00020	6a 00		 push	 0
  00022	8b 45 08	 mov	 eax, DWORD PTR _mtrl$[ebp]
  00025	50		 push	 eax
  00026	e8 00 00 00 00	 call	 _memset
  0002b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 28   :     mtrl.Diffuse.r = mtrl.Ambient.r = r;

  0002e	8b 45 08	 mov	 eax, DWORD PTR _mtrl$[ebp]
  00031	8b 4d 0c	 mov	 ecx, DWORD PTR _r$[ebp]
  00034	89 48 10	 mov	 DWORD PTR [eax+16], ecx
  00037	8b 55 08	 mov	 edx, DWORD PTR _mtrl$[ebp]
  0003a	8b 45 0c	 mov	 eax, DWORD PTR _r$[ebp]
  0003d	89 02		 mov	 DWORD PTR [edx], eax

; 29   :     mtrl.Diffuse.g = mtrl.Ambient.g = g;

  0003f	8b 45 08	 mov	 eax, DWORD PTR _mtrl$[ebp]
  00042	8b 4d 10	 mov	 ecx, DWORD PTR _g$[ebp]
  00045	89 48 14	 mov	 DWORD PTR [eax+20], ecx
  00048	8b 55 08	 mov	 edx, DWORD PTR _mtrl$[ebp]
  0004b	8b 45 10	 mov	 eax, DWORD PTR _g$[ebp]
  0004e	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 30   :     mtrl.Diffuse.b = mtrl.Ambient.b = b;

  00051	8b 45 08	 mov	 eax, DWORD PTR _mtrl$[ebp]
  00054	8b 4d 14	 mov	 ecx, DWORD PTR _b$[ebp]
  00057	89 48 18	 mov	 DWORD PTR [eax+24], ecx
  0005a	8b 55 08	 mov	 edx, DWORD PTR _mtrl$[ebp]
  0005d	8b 45 14	 mov	 eax, DWORD PTR _b$[ebp]
  00060	89 42 08	 mov	 DWORD PTR [edx+8], eax

; 31   :     mtrl.Diffuse.a = mtrl.Ambient.a = a;

  00063	8b 45 08	 mov	 eax, DWORD PTR _mtrl$[ebp]
  00066	8b 4d 18	 mov	 ecx, DWORD PTR _a$[ebp]
  00069	89 48 1c	 mov	 DWORD PTR [eax+28], ecx
  0006c	8b 55 08	 mov	 edx, DWORD PTR _mtrl$[ebp]
  0006f	8b 45 18	 mov	 eax, DWORD PTR _a$[ebp]
  00072	89 42 0c	 mov	 DWORD PTR [edx+12], eax

; 32   : }

  00075	5f		 pop	 edi
  00076	5e		 pop	 esi
  00077	5b		 pop	 ebx
  00078	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  0007e	3b ec		 cmp	 ebp, esp
  00080	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00085	8b e5		 mov	 esp, ebp
  00087	5d		 pop	 ebp
  00088	c3		 ret	 0
?D3DUtil_InitMaterial@@YAXAAU_D3DMATERIAL8@@MMMM@Z ENDP	; D3DUtil_InitMaterial
_TEXT	ENDS
PUBLIC	??0D3DXVECTOR3@@QAE@MMM@Z			; D3DXVECTOR3::D3DXVECTOR3
PUBLIC	?D3DUtil_InitLight@@YAXAAU_D3DLIGHT8@@W4_D3DLIGHTTYPE@@MMM@Z ; D3DUtil_InitLight
EXTRN	_D3DXVec3Normalize@8:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DUtil_InitLight@@YAXAAU_D3DLIGHT8@@W4_D3DLIGHTTYPE@@MMM@Z
_TEXT	SEGMENT
$T80509 = -208
_light$ = 8
_ltType$ = 12
_x$ = 16
_y$ = 20
_z$ = 24
?D3DUtil_InitLight@@YAXAAU_D3DLIGHT8@@W4_D3DLIGHTTYPE@@MMM@Z PROC NEAR ; D3DUtil_InitLight, COMDAT

; 44   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 2c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-212]
  00012	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 45   :     ZeroMemory( &light, sizeof(D3DLIGHT8) );

  0001e	6a 68		 push	 104			; 00000068H
  00020	6a 00		 push	 0
  00022	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  00025	50		 push	 eax
  00026	e8 00 00 00 00	 call	 _memset
  0002b	83 c4 0c	 add	 esp, 12			; 0000000cH

; 46   :     light.Type        = ltType;

  0002e	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  00031	8b 4d 0c	 mov	 ecx, DWORD PTR _ltType$[ebp]
  00034	89 08		 mov	 DWORD PTR [eax], ecx

; 47   :     light.Diffuse.r   = 1.0f;

  00036	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  00039	c7 40 04 00 00
	80 3f		 mov	 DWORD PTR [eax+4], 1065353216 ; 3f800000H

; 48   :     light.Diffuse.g   = 1.0f;

  00040	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  00043	c7 40 08 00 00
	80 3f		 mov	 DWORD PTR [eax+8], 1065353216 ; 3f800000H

; 49   :     light.Diffuse.b   = 1.0f;

  0004a	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  0004d	c7 40 0c 00 00
	80 3f		 mov	 DWORD PTR [eax+12], 1065353216 ; 3f800000H

; 50   :     D3DXVec3Normalize( (D3DXVECTOR3*)&light.Direction, &D3DXVECTOR3(x, y, z) );

  00054	8b 45 18	 mov	 eax, DWORD PTR _z$[ebp]
  00057	50		 push	 eax
  00058	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  0005b	51		 push	 ecx
  0005c	8b 55 10	 mov	 edx, DWORD PTR _x$[ebp]
  0005f	52		 push	 edx
  00060	8d 8d 30 ff ff
	ff		 lea	 ecx, DWORD PTR $T80509[ebp]
  00066	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  0006b	50		 push	 eax
  0006c	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  0006f	83 c0 40	 add	 eax, 64			; 00000040H
  00072	50		 push	 eax
  00073	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 51   :     light.Position.x   = x;

  00078	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  0007b	8b 4d 10	 mov	 ecx, DWORD PTR _x$[ebp]
  0007e	89 48 34	 mov	 DWORD PTR [eax+52], ecx

; 52   :     light.Position.y   = y;

  00081	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  00084	8b 4d 14	 mov	 ecx, DWORD PTR _y$[ebp]
  00087	89 48 38	 mov	 DWORD PTR [eax+56], ecx

; 53   :     light.Position.z   = z;

  0008a	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  0008d	8b 4d 18	 mov	 ecx, DWORD PTR _z$[ebp]
  00090	89 48 3c	 mov	 DWORD PTR [eax+60], ecx

; 54   :     light.Range        = 1000.0f;

  00093	8b 45 08	 mov	 eax, DWORD PTR _light$[ebp]
  00096	c7 40 4c 00 00
	7a 44		 mov	 DWORD PTR [eax+76], 1148846080 ; 447a0000H

; 55   : }

  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi
  0009f	5b		 pop	 ebx
  000a0	81 c4 d4 00 00
	00		 add	 esp, 212		; 000000d4H
  000a6	3b ec		 cmp	 ebp, esp
  000a8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ad	8b e5		 mov	 esp, ebp
  000af	5d		 pop	 ebp
  000b0	c3		 ret	 0
?D3DUtil_InitLight@@YAXAAU_D3DLIGHT8@@W4_D3DLIGHTTYPE@@MMM@Z ENDP ; D3DUtil_InitLight
_TEXT	ENDS
PUBLIC	?D3DUtil_CreateTexture@@YAJPAUIDirect3DDevice8@@PADPAPAUIDirect3DTexture8@@W4_D3DFORMAT@@@Z ; D3DUtil_CreateTexture
EXTRN	?DXUtil_FindMediaFile@@YAJPAD0@Z:NEAR		; DXUtil_FindMediaFile
EXTRN	_D3DXCreateTextureFromFileExA@56:NEAR
EXTRN	___security_cookie:DWORD
EXTRN	@_RTC_CheckStackVars@8:NEAR
EXTRN	@__security_check_cookie@4:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DUtil_CreateTexture@@YAJPAUIDirect3DDevice8@@PADPAPAUIDirect3DTexture8@@W4_D3DFORMAT@@@Z
_TEXT	SEGMENT
_strPath$ = -272
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_pd3dDevice$ = 8
_strTexture$ = 12
_ppTexture$ = 16
_d3dFormat$ = 20
?D3DUtil_CreateTexture@@YAJPAUIDirect3DDevice8@@PADPAPAUIDirect3DTexture8@@W4_D3DFORMAT@@@Z PROC NEAR ; D3DUtil_CreateTexture, COMDAT

; 67   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 01 00
	00		 sub	 esp, 468		; 000001d4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 2c fe ff
	ff		 lea	 edi, DWORD PTR [ebp-468]
  00012	b9 75 00 00 00	 mov	 ecx, 117		; 00000075H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00026	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 68   :     // Get the path to the texture
; 69   :     TCHAR strPath[MAX_PATH];
; 70   :     DXUtil_FindMediaFile( strPath, strTexture );

  00029	8b 45 0c	 mov	 eax, DWORD PTR _strTexture$[ebp]
  0002c	50		 push	 eax
  0002d	8d 8d f0 fe ff
	ff		 lea	 ecx, DWORD PTR _strPath$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ?DXUtil_FindMediaFile@@YAJPAD0@Z ; DXUtil_FindMediaFile
  00039	83 c4 08	 add	 esp, 8

; 71   : 
; 72   :     // Create the texture using D3DX
; 73   :     return D3DXCreateTextureFromFileEx( pd3dDevice, strPath, 
; 74   :                 D3DX_DEFAULT, D3DX_DEFAULT, D3DX_DEFAULT, 0, d3dFormat, 
; 75   :                 D3DPOOL_MANAGED, D3DX_FILTER_TRIANGLE|D3DX_FILTER_MIRROR, 
; 76   :                 D3DX_FILTER_TRIANGLE|D3DX_FILTER_MIRROR, 0, NULL, NULL, ppTexture );

  0003c	8b 45 10	 mov	 eax, DWORD PTR _ppTexture$[ebp]
  0003f	50		 push	 eax
  00040	6a 00		 push	 0
  00042	6a 00		 push	 0
  00044	6a 00		 push	 0
  00046	68 04 00 07 00	 push	 458756			; 00070004H
  0004b	68 04 00 07 00	 push	 458756			; 00070004H
  00050	6a 01		 push	 1
  00052	8b 4d 14	 mov	 ecx, DWORD PTR _d3dFormat$[ebp]
  00055	51		 push	 ecx
  00056	6a 00		 push	 0
  00058	6a ff		 push	 -1
  0005a	6a ff		 push	 -1
  0005c	6a ff		 push	 -1
  0005e	8d 95 f0 fe ff
	ff		 lea	 edx, DWORD PTR _strPath$[ebp]
  00064	52		 push	 edx
  00065	8b 45 08	 mov	 eax, DWORD PTR _pd3dDevice$[ebp]
  00068	50		 push	 eax
  00069	e8 00 00 00 00	 call	 _D3DXCreateTextureFromFileExA@56

; 77   : }

  0006e	52		 push	 edx
  0006f	8b cd		 mov	 ecx, ebp
  00071	50		 push	 eax
  00072	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80517
  00078	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0007d	58		 pop	 eax
  0007e	5a		 pop	 edx
  0007f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00082	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00085	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0008a	5f		 pop	 edi
  0008b	5e		 pop	 esi
  0008c	5b		 pop	 ebx
  0008d	81 c4 d4 01 00
	00		 add	 esp, 468		; 000001d4H
  00093	3b ec		 cmp	 ebp, esp
  00095	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0009a	8b e5		 mov	 esp, ebp
  0009c	5d		 pop	 ebp
  0009d	c3		 ret	 0
$L80517:
  0009e	01 00 00 00	 DD	 1
  000a2	00 00 00 00	 DD	 $L80516
$L80516:
  000a6	f0 fe ff ff	 DD	 -272			; fffffef0H
  000aa	04 01 00 00	 DD	 260			; 00000104H
  000ae	00 00 00 00	 DD	 $L80513
$L80513:
  000b2	73		 DB	 115			; 00000073H
  000b3	74		 DB	 116			; 00000074H
  000b4	72		 DB	 114			; 00000072H
  000b5	50		 DB	 80			; 00000050H
  000b6	61		 DB	 97			; 00000061H
  000b7	74		 DB	 116			; 00000074H
  000b8	68		 DB	 104			; 00000068H
  000b9	00		 DB	 0
?D3DUtil_CreateTexture@@YAJPAUIDirect3DDevice8@@PADPAPAUIDirect3DTexture8@@W4_D3DFORMAT@@@Z ENDP ; D3DUtil_CreateTexture
_TEXT	ENDS
PUBLIC	?D3DUtil_SetColorKey@@YAJPAUIDirect3DTexture8@@K@Z ; D3DUtil_SetColorKey
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DUtil_SetColorKey@@YAJPAUIDirect3DTexture8@@K@Z
_TEXT	SEGMENT
_x$80169 = -112
_y$80165 = -100
_d3dlr$ = -88
_d3dsd$ = -72
_b$ = -32
_g$ = -20
_r$ = -8
_pTexture$ = 8
_dwColorKey$ = 12
?D3DUtil_SetColorKey@@YAJPAUIDirect3DTexture8@@K@Z PROC NEAR ; D3DUtil_SetColorKey, COMDAT

; 87   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 34 01 00
	00		 sub	 esp, 308		; 00000134H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd cc fe ff
	ff		 lea	 edi, DWORD PTR [ebp-308]
  00012	b9 4d 00 00 00	 mov	 ecx, 77			; 0000004dH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 88   :     // Get colorkey's red, green, and blue components
; 89   :     DWORD r = ((dwColorKey&0x00ff0000)>>16);

  0001e	8b 45 0c	 mov	 eax, DWORD PTR _dwColorKey$[ebp]
  00021	25 00 00 ff 00	 and	 eax, 16711680		; 00ff0000H
  00026	c1 e8 10	 shr	 eax, 16			; 00000010H
  00029	89 45 f8	 mov	 DWORD PTR _r$[ebp], eax

; 90   :     DWORD g = ((dwColorKey&0x0000ff00)>>8);

  0002c	8b 45 0c	 mov	 eax, DWORD PTR _dwColorKey$[ebp]
  0002f	25 00 ff 00 00	 and	 eax, 65280		; 0000ff00H
  00034	c1 e8 08	 shr	 eax, 8
  00037	89 45 ec	 mov	 DWORD PTR _g$[ebp], eax

; 91   :     DWORD b = ((dwColorKey&0x000000ff)>>0);

  0003a	8b 45 0c	 mov	 eax, DWORD PTR _dwColorKey$[ebp]
  0003d	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00042	89 45 e0	 mov	 DWORD PTR _b$[ebp], eax

; 92   : 
; 93   :     // Put the colorkey in the texture's native format
; 94   :     D3DSURFACE_DESC d3dsd;
; 95   :     pTexture->GetLevelDesc( 0, &d3dsd );

  00045	8b f4		 mov	 esi, esp
  00047	8d 45 b8	 lea	 eax, DWORD PTR _d3dsd$[ebp]
  0004a	50		 push	 eax
  0004b	6a 00		 push	 0
  0004d	8b 4d 08	 mov	 ecx, DWORD PTR _pTexture$[ebp]
  00050	8b 11		 mov	 edx, DWORD PTR [ecx]
  00052	8b 45 08	 mov	 eax, DWORD PTR _pTexture$[ebp]
  00055	50		 push	 eax
  00056	ff 52 38	 call	 DWORD PTR [edx+56]
  00059	3b f4		 cmp	 esi, esp
  0005b	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 96   :     if( d3dsd.Format == D3DFMT_A4R4G4B4 )

  00060	83 7d b8 1a	 cmp	 DWORD PTR _d3dsd$[ebp], 26 ; 0000001aH
  00064	75 26		 jne	 SHORT $L80155

; 97   :         dwColorKey = 0xf000 + ((r>>4)<<8) + ((g>>4)<<4) + (b>>4);

  00066	8b 45 f8	 mov	 eax, DWORD PTR _r$[ebp]
  00069	c1 e8 04	 shr	 eax, 4
  0006c	c1 e0 08	 shl	 eax, 8
  0006f	8b 4d ec	 mov	 ecx, DWORD PTR _g$[ebp]
  00072	c1 e9 04	 shr	 ecx, 4
  00075	c1 e1 04	 shl	 ecx, 4
  00078	8d 94 08 00 f0
	00 00		 lea	 edx, DWORD PTR [eax+ecx+61440]
  0007f	8b 45 e0	 mov	 eax, DWORD PTR _b$[ebp]
  00082	c1 e8 04	 shr	 eax, 4
  00085	03 d0		 add	 edx, eax
  00087	89 55 0c	 mov	 DWORD PTR _dwColorKey$[ebp], edx

; 98   :     else if( d3dsd.Format == D3DFMT_A1R5G5B5 )

  0008a	eb 3c		 jmp	 SHORT $L80156
$L80155:
  0008c	83 7d b8 19	 cmp	 DWORD PTR _d3dsd$[ebp], 25 ; 00000019H
  00090	75 26		 jne	 SHORT $L80157

; 99   :         dwColorKey = 0x8000 + ((r>>3)<<10) + ((g>>3)<<5) + (b>>3);

  00092	8b 45 f8	 mov	 eax, DWORD PTR _r$[ebp]
  00095	c1 e8 03	 shr	 eax, 3
  00098	c1 e0 0a	 shl	 eax, 10			; 0000000aH
  0009b	8b 4d ec	 mov	 ecx, DWORD PTR _g$[ebp]
  0009e	c1 e9 03	 shr	 ecx, 3
  000a1	c1 e1 05	 shl	 ecx, 5
  000a4	8d 94 08 00 80
	00 00		 lea	 edx, DWORD PTR [eax+ecx+32768]
  000ab	8b 45 e0	 mov	 eax, DWORD PTR _b$[ebp]
  000ae	c1 e8 03	 shr	 eax, 3
  000b1	03 d0		 add	 edx, eax
  000b3	89 55 0c	 mov	 DWORD PTR _dwColorKey$[ebp], edx

; 100  :     else if( d3dsd.Format != D3DFMT_A8R8G8B8 )

  000b6	eb 10		 jmp	 SHORT $L80156
$L80157:
  000b8	83 7d b8 15	 cmp	 DWORD PTR _d3dsd$[ebp], 21 ; 00000015H
  000bc	74 0a		 je	 SHORT $L80156

; 101  :         return E_FAIL;

  000be	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  000c3	e9 db 00 00 00	 jmp	 $L80150
$L80156:

; 102  : 
; 103  :     // Lock the texture
; 104  :     D3DLOCKED_RECT  d3dlr;
; 105  :     if( FAILED( pTexture->LockRect( 0, &d3dlr, 0, 0 ) ) )

  000c8	8b f4		 mov	 esi, esp
  000ca	6a 00		 push	 0
  000cc	6a 00		 push	 0
  000ce	8d 45 a8	 lea	 eax, DWORD PTR _d3dlr$[ebp]
  000d1	50		 push	 eax
  000d2	6a 00		 push	 0
  000d4	8b 4d 08	 mov	 ecx, DWORD PTR _pTexture$[ebp]
  000d7	8b 11		 mov	 edx, DWORD PTR [ecx]
  000d9	8b 45 08	 mov	 eax, DWORD PTR _pTexture$[ebp]
  000dc	50		 push	 eax
  000dd	ff 52 40	 call	 DWORD PTR [edx+64]
  000e0	3b f4		 cmp	 esi, esp
  000e2	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000e7	85 c0		 test	 eax, eax
  000e9	7d 0a		 jge	 SHORT $L80163

; 106  :         return E_FAIL;

  000eb	b8 05 40 00 80	 mov	 eax, -2147467259	; 80004005H
  000f0	e9 ae 00 00 00	 jmp	 $L80150
$L80163:

; 107  : 
; 108  :     // Scan through each pixel, looking for the colorkey to replace
; 109  :     for( DWORD y=0; y<d3dsd.Height; y++ )

  000f5	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _y$80165[ebp], 0
  000fc	eb 09		 jmp	 SHORT $L80166
$L80167:
  000fe	8b 45 9c	 mov	 eax, DWORD PTR _y$80165[ebp]
  00101	83 c0 01	 add	 eax, 1
  00104	89 45 9c	 mov	 DWORD PTR _y$80165[ebp], eax
$L80166:
  00107	8b 45 9c	 mov	 eax, DWORD PTR _y$80165[ebp]
  0010a	3b 45 d4	 cmp	 eax, DWORD PTR _d3dsd$[ebp+28]
  0010d	73 7b		 jae	 SHORT $L80168

; 110  :     {
; 111  :         for( DWORD x=0; x<d3dsd.Width; x++ )

  0010f	c7 45 90 00 00
	00 00		 mov	 DWORD PTR _x$80169[ebp], 0
  00116	eb 09		 jmp	 SHORT $L80170
$L80171:
  00118	8b 45 90	 mov	 eax, DWORD PTR _x$80169[ebp]
  0011b	83 c0 01	 add	 eax, 1
  0011e	89 45 90	 mov	 DWORD PTR _x$80169[ebp], eax
$L80170:
  00121	8b 45 90	 mov	 eax, DWORD PTR _x$80169[ebp]
  00124	3b 45 d0	 cmp	 eax, DWORD PTR _d3dsd$[ebp+24]
  00127	73 5c		 jae	 SHORT $L80172

; 112  :         {
; 113  :             if( d3dsd.Format==D3DFMT_A8R8G8B8 )

  00129	83 7d b8 15	 cmp	 DWORD PTR _d3dsd$[ebp], 21 ; 00000015H
  0012d	75 2b		 jne	 SHORT $L80173

; 114  :             {
; 115  :                 // Handle 32-bit formats
; 116  :                 if( ((DWORD*)d3dlr.pBits)[d3dsd.Width*y+x] == dwColorKey )

  0012f	8b 45 d0	 mov	 eax, DWORD PTR _d3dsd$[ebp+24]
  00132	0f af 45 9c	 imul	 eax, DWORD PTR _y$80165[ebp]
  00136	03 45 90	 add	 eax, DWORD PTR _x$80169[ebp]
  00139	8b 4d ac	 mov	 ecx, DWORD PTR _d3dlr$[ebp+4]
  0013c	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  0013f	3b 55 0c	 cmp	 edx, DWORD PTR _dwColorKey$[ebp]
  00142	75 14		 jne	 SHORT $L80175

; 117  :                     ((DWORD*)d3dlr.pBits)[d3dsd.Width*y+x] = 0x00000000;

  00144	8b 45 d0	 mov	 eax, DWORD PTR _d3dsd$[ebp+24]
  00147	0f af 45 9c	 imul	 eax, DWORD PTR _y$80165[ebp]
  0014b	03 45 90	 add	 eax, DWORD PTR _x$80169[ebp]
  0014e	8b 4d ac	 mov	 ecx, DWORD PTR _d3dlr$[ebp+4]
  00151	c7 04 81 00 00
	00 00		 mov	 DWORD PTR [ecx+eax*4], 0
$L80175:

; 118  :             }
; 119  :             else

  00158	eb 29		 jmp	 SHORT $L80177
$L80173:

; 120  :             {
; 121  :                 // Handle 16-bit formats
; 122  :                 if( ((WORD*)d3dlr.pBits)[d3dsd.Width*y+x] == dwColorKey )

  0015a	8b 45 d0	 mov	 eax, DWORD PTR _d3dsd$[ebp+24]
  0015d	0f af 45 9c	 imul	 eax, DWORD PTR _y$80165[ebp]
  00161	03 45 90	 add	 eax, DWORD PTR _x$80169[ebp]
  00164	8b 4d ac	 mov	 ecx, DWORD PTR _d3dlr$[ebp+4]
  00167	0f b7 14 41	 movzx	 edx, WORD PTR [ecx+eax*2]
  0016b	3b 55 0c	 cmp	 edx, DWORD PTR _dwColorKey$[ebp]
  0016e	75 13		 jne	 SHORT $L80177

; 123  :                     ((WORD*)d3dlr.pBits)[d3dsd.Width*y+x] = 0x0000;

  00170	8b 45 d0	 mov	 eax, DWORD PTR _d3dsd$[ebp+24]
  00173	0f af 45 9c	 imul	 eax, DWORD PTR _y$80165[ebp]
  00177	03 45 90	 add	 eax, DWORD PTR _x$80169[ebp]
  0017a	8b 4d ac	 mov	 ecx, DWORD PTR _d3dlr$[ebp+4]
  0017d	66 c7 04 41 00
	00		 mov	 WORD PTR [ecx+eax*2], 0
$L80177:

; 124  :             }
; 125  :         }

  00183	eb 93		 jmp	 SHORT $L80171
$L80172:

; 126  :     }

  00185	e9 74 ff ff ff	 jmp	 $L80167
$L80168:

; 127  : 
; 128  :     // Unlock the texture and return OK.
; 129  :     pTexture->UnlockRect(0);

  0018a	8b f4		 mov	 esi, esp
  0018c	6a 00		 push	 0
  0018e	8b 45 08	 mov	 eax, DWORD PTR _pTexture$[ebp]
  00191	8b 08		 mov	 ecx, DWORD PTR [eax]
  00193	8b 55 08	 mov	 edx, DWORD PTR _pTexture$[ebp]
  00196	52		 push	 edx
  00197	ff 51 44	 call	 DWORD PTR [ecx+68]
  0019a	3b f4		 cmp	 esi, esp
  0019c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 130  :     return S_OK;

  001a1	33 c0		 xor	 eax, eax
$L80150:

; 131  : }

  001a3	52		 push	 edx
  001a4	8b cd		 mov	 ecx, ebp
  001a6	50		 push	 eax
  001a7	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80525
  001ad	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  001b2	58		 pop	 eax
  001b3	5a		 pop	 edx
  001b4	5f		 pop	 edi
  001b5	5e		 pop	 esi
  001b6	5b		 pop	 ebx
  001b7	81 c4 34 01 00
	00		 add	 esp, 308		; 00000134H
  001bd	3b ec		 cmp	 ebp, esp
  001bf	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001c4	8b e5		 mov	 esp, ebp
  001c6	5d		 pop	 ebp
  001c7	c3		 ret	 0
$L80525:
  001c8	02 00 00 00	 DD	 2
  001cc	00 00 00 00	 DD	 $L80524
$L80524:
  001d0	b8 ff ff ff	 DD	 -72			; ffffffb8H
  001d4	20 00 00 00	 DD	 32			; 00000020H
  001d8	00 00 00 00	 DD	 $L80522
  001dc	a8 ff ff ff	 DD	 -88			; ffffffa8H
  001e0	08 00 00 00	 DD	 8
  001e4	00 00 00 00	 DD	 $L80523
$L80523:
  001e8	64		 DB	 100			; 00000064H
  001e9	33		 DB	 51			; 00000033H
  001ea	64		 DB	 100			; 00000064H
  001eb	6c		 DB	 108			; 0000006cH
  001ec	72		 DB	 114			; 00000072H
  001ed	00		 DB	 0
$L80522:
  001ee	64		 DB	 100			; 00000064H
  001ef	33		 DB	 51			; 00000033H
  001f0	64		 DB	 100			; 00000064H
  001f1	73		 DB	 115			; 00000073H
  001f2	64		 DB	 100			; 00000064H
  001f3	00		 DB	 0
?D3DUtil_SetColorKey@@YAJPAUIDirect3DTexture8@@K@Z ENDP	; D3DUtil_SetColorKey
_TEXT	ENDS
PUBLIC	?D3DUtil_CreateVertexShader@@YAJPAUIDirect3DDevice8@@PADPAK2@Z ; D3DUtil_CreateVertexShader
EXTRN	_D3DXAssembleShaderFromFileA@20:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DUtil_CreateVertexShader@@YAJPAUIDirect3DDevice8@@PADPAK2@Z
_TEXT	SEGMENT
_hr$ = -300
_strPath$ = -288
_pCode$ = -12
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_pd3dDevice$ = 8
_strFilename$ = 12
_pdwVertexDecl$ = 16
_pdwVertexShader$ = 20
?D3DUtil_CreateVertexShader@@YAJPAUIDirect3DDevice8@@PADPAK2@Z PROC NEAR ; D3DUtil_CreateVertexShader, COMDAT

; 143  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec f0 01 00
	00		 sub	 esp, 496		; 000001f0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 10 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-496]
  00012	b9 7c 00 00 00	 mov	 ecx, 124		; 0000007cH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00026	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 144  :     LPD3DXBUFFER pCode;
; 145  :     TCHAR        strPath[MAX_PATH];
; 146  :     HRESULT      hr;
; 147  : 
; 148  :     // Get the path to the vertex shader file
; 149  :     DXUtil_FindMediaFile( strPath, strFilename );

  00029	8b 45 0c	 mov	 eax, DWORD PTR _strFilename$[ebp]
  0002c	50		 push	 eax
  0002d	8d 8d e0 fe ff
	ff		 lea	 ecx, DWORD PTR _strPath$[ebp]
  00033	51		 push	 ecx
  00034	e8 00 00 00 00	 call	 ?DXUtil_FindMediaFile@@YAJPAD0@Z ; DXUtil_FindMediaFile
  00039	83 c4 08	 add	 esp, 8

; 150  : 
; 151  :     // Assemble the vertex shader file
; 152  :     if( FAILED( hr = D3DXAssembleShaderFromFile( strPath, 0, NULL, &pCode, NULL ) ) )

  0003c	6a 00		 push	 0
  0003e	8d 45 f4	 lea	 eax, DWORD PTR _pCode$[ebp]
  00041	50		 push	 eax
  00042	6a 00		 push	 0
  00044	6a 00		 push	 0
  00046	8d 8d e0 fe ff
	ff		 lea	 ecx, DWORD PTR _strPath$[ebp]
  0004c	51		 push	 ecx
  0004d	e8 00 00 00 00	 call	 _D3DXAssembleShaderFromFileA@20
  00052	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _hr$[ebp], eax
  00058	83 bd d4 fe ff
	ff 00		 cmp	 DWORD PTR _hr$[ebp], 0
  0005f	7d 08		 jge	 SHORT $L80192

; 153  :         return hr;

  00061	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _hr$[ebp]
  00067	eb 59		 jmp	 SHORT $L80187
$L80192:

; 154  : 
; 155  :     // Create the vertex shader
; 156  :     hr = pd3dDevice->CreateVertexShader( pdwVertexDecl, 
; 157  :                                          (DWORD*)pCode->GetBufferPointer(),
; 158  :                                          pdwVertexShader, 0 );

  00069	8b f4		 mov	 esi, esp
  0006b	6a 00		 push	 0
  0006d	8b 45 14	 mov	 eax, DWORD PTR _pdwVertexShader$[ebp]
  00070	50		 push	 eax
  00071	8b 4d f4	 mov	 ecx, DWORD PTR _pCode$[ebp]
  00074	8b 11		 mov	 edx, DWORD PTR [ecx]
  00076	8b fc		 mov	 edi, esp
  00078	8b 45 f4	 mov	 eax, DWORD PTR _pCode$[ebp]
  0007b	50		 push	 eax
  0007c	ff 52 0c	 call	 DWORD PTR [edx+12]
  0007f	3b fc		 cmp	 edi, esp
  00081	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00086	50		 push	 eax
  00087	8b 4d 10	 mov	 ecx, DWORD PTR _pdwVertexDecl$[ebp]
  0008a	51		 push	 ecx
  0008b	8b 55 08	 mov	 edx, DWORD PTR _pd3dDevice$[ebp]
  0008e	8b 02		 mov	 eax, DWORD PTR [edx]
  00090	8b 4d 08	 mov	 ecx, DWORD PTR _pd3dDevice$[ebp]
  00093	51		 push	 ecx
  00094	ff 90 2c 01 00
	00		 call	 DWORD PTR [eax+300]
  0009a	3b f4		 cmp	 esi, esp
  0009c	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000a1	89 85 d4 fe ff
	ff		 mov	 DWORD PTR _hr$[ebp], eax

; 159  :     pCode->Release();

  000a7	8b 45 f4	 mov	 eax, DWORD PTR _pCode$[ebp]
  000aa	8b 08		 mov	 ecx, DWORD PTR [eax]
  000ac	8b f4		 mov	 esi, esp
  000ae	8b 55 f4	 mov	 edx, DWORD PTR _pCode$[ebp]
  000b1	52		 push	 edx
  000b2	ff 51 08	 call	 DWORD PTR [ecx+8]
  000b5	3b f4		 cmp	 esi, esp
  000b7	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 160  :     return hr;

  000bc	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _hr$[ebp]
$L80187:

; 161  : }

  000c2	52		 push	 edx
  000c3	8b cd		 mov	 ecx, ebp
  000c5	50		 push	 eax
  000c6	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80533
  000cc	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  000d1	58		 pop	 eax
  000d2	5a		 pop	 edx
  000d3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000d6	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  000d9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000de	5f		 pop	 edi
  000df	5e		 pop	 esi
  000e0	5b		 pop	 ebx
  000e1	81 c4 f0 01 00
	00		 add	 esp, 496		; 000001f0H
  000e7	3b ec		 cmp	 ebp, esp
  000e9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ee	8b e5		 mov	 esp, ebp
  000f0	5d		 pop	 ebp
  000f1	c3		 ret	 0
$L80533:
  000f2	02 00 00 00	 DD	 2
  000f6	00 00 00 00	 DD	 $L80532
$L80532:
  000fa	f4 ff ff ff	 DD	 -12			; fffffff4H
  000fe	04 00 00 00	 DD	 4
  00102	00 00 00 00	 DD	 $L80529
  00106	e0 fe ff ff	 DD	 -288			; fffffee0H
  0010a	04 01 00 00	 DD	 260			; 00000104H
  0010e	00 00 00 00	 DD	 $L80530
$L80530:
  00112	73		 DB	 115			; 00000073H
  00113	74		 DB	 116			; 00000074H
  00114	72		 DB	 114			; 00000072H
  00115	50		 DB	 80			; 00000050H
  00116	61		 DB	 97			; 00000061H
  00117	74		 DB	 116			; 00000074H
  00118	68		 DB	 104			; 00000068H
  00119	00		 DB	 0
$L80529:
  0011a	70		 DB	 112			; 00000070H
  0011b	43		 DB	 67			; 00000043H
  0011c	6f		 DB	 111			; 0000006fH
  0011d	64		 DB	 100			; 00000064H
  0011e	65		 DB	 101			; 00000065H
  0011f	00		 DB	 0
?D3DUtil_CreateVertexShader@@YAJPAUIDirect3DDevice8@@PADPAK2@Z ENDP ; D3DUtil_CreateVertexShader
_TEXT	ENDS
PUBLIC	??0D3DXMATRIX@@QAE@XZ				; D3DXMATRIX::D3DXMATRIX
PUBLIC	??0D3DXVECTOR3@@QAE@XZ				; D3DXVECTOR3::D3DXVECTOR3
PUBLIC	?D3DUtil_GetCubeMapViewMatrix@@YA?AUD3DXMATRIX@@K@Z ; D3DUtil_GetCubeMapViewMatrix
EXTRN	_D3DXMatrixLookAtLH@16:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DUtil_GetCubeMapViewMatrix@@YA?AUD3DXMATRIX@@K@Z
_TEXT	SEGMENT
tv70 = -568
$T80547 = -560
$T80546 = -540
$T80545 = -520
$T80544 = -500
$T80543 = -480
$T80542 = -460
$T80541 = -440
$T80540 = -420
$T80539 = -400
$T80538 = -380
$T80537 = -360
$T80536 = -340
_matView$ = -128
_vUpDir$ = -56
_vLookDir$ = -36
_vEyePt$ = -16
___$ReturnUdt$ = 8
_dwFace$ = 12
?D3DUtil_GetCubeMapViewMatrix@@YA?AUD3DXMATRIX@@K@Z PROC NEAR ; D3DUtil_GetCubeMapViewMatrix, COMDAT

; 171  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 38 02 00
	00		 sub	 esp, 568		; 00000238H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd c8 fd ff
	ff		 lea	 edi, DWORD PTR [ebp-568]
  00012	b9 8e 00 00 00	 mov	 ecx, 142		; 0000008eH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 172  :     D3DXVECTOR3 vEyePt   = D3DXVECTOR3( 0.0f, 0.0f, 0.0f );

  0001e	6a 00		 push	 0
  00020	6a 00		 push	 0
  00022	6a 00		 push	 0
  00024	8d 4d f0	 lea	 ecx, DWORD PTR _vEyePt$[ebp]
  00027	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3

; 173  :     D3DXVECTOR3 vLookDir;

  0002c	8d 4d dc	 lea	 ecx, DWORD PTR _vLookDir$[ebp]
  0002f	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 174  :     D3DXVECTOR3 vUpDir;

  00034	8d 4d c8	 lea	 ecx, DWORD PTR _vUpDir$[ebp]
  00037	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 175  : 
; 176  :     switch( dwFace )
; 177  :     {

  0003c	8b 45 0c	 mov	 eax, DWORD PTR _dwFace$[ebp]
  0003f	89 85 c8 fd ff
	ff		 mov	 DWORD PTR tv70[ebp], eax
  00045	83 bd c8 fd ff
	ff 05		 cmp	 DWORD PTR tv70[ebp], 5
  0004c	0f 87 df 01 00
	00		 ja	 $L80203
  00052	8b 8d c8 fd ff
	ff		 mov	 ecx, DWORD PTR tv70[ebp]
  00058	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L80554[ecx*4]
$L80206:

; 178  :         case D3DCUBEMAP_FACE_POSITIVE_X:
; 179  :             vLookDir = D3DXVECTOR3( 1.0f, 0.0f, 0.0f );

  0005f	6a 00		 push	 0
  00061	6a 00		 push	 0
  00063	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00068	8d 8d ac fe ff
	ff		 lea	 ecx, DWORD PTR $T80536[ebp]
  0006e	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00073	8b 08		 mov	 ecx, DWORD PTR [eax]
  00075	89 4d dc	 mov	 DWORD PTR _vLookDir$[ebp], ecx
  00078	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0007b	89 55 e0	 mov	 DWORD PTR _vLookDir$[ebp+4], edx
  0007e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00081	89 45 e4	 mov	 DWORD PTR _vLookDir$[ebp+8], eax

; 180  :             vUpDir   = D3DXVECTOR3( 0.0f, 1.0f, 0.0f );

  00084	6a 00		 push	 0
  00086	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  0008b	6a 00		 push	 0
  0008d	8d 8d 98 fe ff
	ff		 lea	 ecx, DWORD PTR $T80537[ebp]
  00093	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00098	8b 08		 mov	 ecx, DWORD PTR [eax]
  0009a	89 4d c8	 mov	 DWORD PTR _vUpDir$[ebp], ecx
  0009d	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000a0	89 55 cc	 mov	 DWORD PTR _vUpDir$[ebp+4], edx
  000a3	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000a6	89 45 d0	 mov	 DWORD PTR _vUpDir$[ebp+8], eax

; 181  :             break;

  000a9	e9 83 01 00 00	 jmp	 $L80203
$L80209:

; 182  :         case D3DCUBEMAP_FACE_NEGATIVE_X:
; 183  :             vLookDir = D3DXVECTOR3(-1.0f, 0.0f, 0.0f );

  000ae	6a 00		 push	 0
  000b0	6a 00		 push	 0
  000b2	68 00 00 80 bf	 push	 -1082130432		; bf800000H
  000b7	8d 8d 84 fe ff
	ff		 lea	 ecx, DWORD PTR $T80538[ebp]
  000bd	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  000c2	8b 08		 mov	 ecx, DWORD PTR [eax]
  000c4	89 4d dc	 mov	 DWORD PTR _vLookDir$[ebp], ecx
  000c7	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000ca	89 55 e0	 mov	 DWORD PTR _vLookDir$[ebp+4], edx
  000cd	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000d0	89 45 e4	 mov	 DWORD PTR _vLookDir$[ebp+8], eax

; 184  :             vUpDir   = D3DXVECTOR3( 0.0f, 1.0f, 0.0f );

  000d3	6a 00		 push	 0
  000d5	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000da	6a 00		 push	 0
  000dc	8d 8d 70 fe ff
	ff		 lea	 ecx, DWORD PTR $T80539[ebp]
  000e2	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  000e7	8b 08		 mov	 ecx, DWORD PTR [eax]
  000e9	89 4d c8	 mov	 DWORD PTR _vUpDir$[ebp], ecx
  000ec	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000ef	89 55 cc	 mov	 DWORD PTR _vUpDir$[ebp+4], edx
  000f2	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000f5	89 45 d0	 mov	 DWORD PTR _vUpDir$[ebp+8], eax

; 185  :             break;

  000f8	e9 34 01 00 00	 jmp	 $L80203
$L80212:

; 186  :         case D3DCUBEMAP_FACE_POSITIVE_Y:
; 187  :             vLookDir = D3DXVECTOR3( 0.0f, 1.0f, 0.0f );

  000fd	6a 00		 push	 0
  000ff	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00104	6a 00		 push	 0
  00106	8d 8d 5c fe ff
	ff		 lea	 ecx, DWORD PTR $T80540[ebp]
  0010c	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00111	8b 08		 mov	 ecx, DWORD PTR [eax]
  00113	89 4d dc	 mov	 DWORD PTR _vLookDir$[ebp], ecx
  00116	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00119	89 55 e0	 mov	 DWORD PTR _vLookDir$[ebp+4], edx
  0011c	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0011f	89 45 e4	 mov	 DWORD PTR _vLookDir$[ebp+8], eax

; 188  :             vUpDir   = D3DXVECTOR3( 0.0f, 0.0f,-1.0f );

  00122	68 00 00 80 bf	 push	 -1082130432		; bf800000H
  00127	6a 00		 push	 0
  00129	6a 00		 push	 0
  0012b	8d 8d 48 fe ff
	ff		 lea	 ecx, DWORD PTR $T80541[ebp]
  00131	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00136	8b 08		 mov	 ecx, DWORD PTR [eax]
  00138	89 4d c8	 mov	 DWORD PTR _vUpDir$[ebp], ecx
  0013b	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0013e	89 55 cc	 mov	 DWORD PTR _vUpDir$[ebp+4], edx
  00141	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00144	89 45 d0	 mov	 DWORD PTR _vUpDir$[ebp+8], eax

; 189  :             break;

  00147	e9 e5 00 00 00	 jmp	 $L80203
$L80215:

; 190  :         case D3DCUBEMAP_FACE_NEGATIVE_Y:
; 191  :             vLookDir = D3DXVECTOR3( 0.0f,-1.0f, 0.0f );

  0014c	6a 00		 push	 0
  0014e	68 00 00 80 bf	 push	 -1082130432		; bf800000H
  00153	6a 00		 push	 0
  00155	8d 8d 34 fe ff
	ff		 lea	 ecx, DWORD PTR $T80542[ebp]
  0015b	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00160	8b 08		 mov	 ecx, DWORD PTR [eax]
  00162	89 4d dc	 mov	 DWORD PTR _vLookDir$[ebp], ecx
  00165	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00168	89 55 e0	 mov	 DWORD PTR _vLookDir$[ebp+4], edx
  0016b	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0016e	89 45 e4	 mov	 DWORD PTR _vLookDir$[ebp+8], eax

; 192  :             vUpDir   = D3DXVECTOR3( 0.0f, 0.0f, 1.0f );

  00171	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00176	6a 00		 push	 0
  00178	6a 00		 push	 0
  0017a	8d 8d 20 fe ff
	ff		 lea	 ecx, DWORD PTR $T80543[ebp]
  00180	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00185	8b 08		 mov	 ecx, DWORD PTR [eax]
  00187	89 4d c8	 mov	 DWORD PTR _vUpDir$[ebp], ecx
  0018a	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0018d	89 55 cc	 mov	 DWORD PTR _vUpDir$[ebp+4], edx
  00190	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00193	89 45 d0	 mov	 DWORD PTR _vUpDir$[ebp+8], eax

; 193  :             break;

  00196	e9 96 00 00 00	 jmp	 $L80203
$L80218:

; 194  :         case D3DCUBEMAP_FACE_POSITIVE_Z:
; 195  :             vLookDir = D3DXVECTOR3( 0.0f, 0.0f, 1.0f );

  0019b	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  001a0	6a 00		 push	 0
  001a2	6a 00		 push	 0
  001a4	8d 8d 0c fe ff
	ff		 lea	 ecx, DWORD PTR $T80544[ebp]
  001aa	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  001af	8b 08		 mov	 ecx, DWORD PTR [eax]
  001b1	89 4d dc	 mov	 DWORD PTR _vLookDir$[ebp], ecx
  001b4	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  001b7	89 55 e0	 mov	 DWORD PTR _vLookDir$[ebp+4], edx
  001ba	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  001bd	89 45 e4	 mov	 DWORD PTR _vLookDir$[ebp+8], eax

; 196  :             vUpDir   = D3DXVECTOR3( 0.0f, 1.0f, 0.0f );

  001c0	6a 00		 push	 0
  001c2	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  001c7	6a 00		 push	 0
  001c9	8d 8d f8 fd ff
	ff		 lea	 ecx, DWORD PTR $T80545[ebp]
  001cf	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  001d4	8b 08		 mov	 ecx, DWORD PTR [eax]
  001d6	89 4d c8	 mov	 DWORD PTR _vUpDir$[ebp], ecx
  001d9	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  001dc	89 55 cc	 mov	 DWORD PTR _vUpDir$[ebp+4], edx
  001df	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  001e2	89 45 d0	 mov	 DWORD PTR _vUpDir$[ebp+8], eax

; 197  :             break;

  001e5	eb 4a		 jmp	 SHORT $L80203
$L80221:

; 198  :         case D3DCUBEMAP_FACE_NEGATIVE_Z:
; 199  :             vLookDir = D3DXVECTOR3( 0.0f, 0.0f,-1.0f );

  001e7	68 00 00 80 bf	 push	 -1082130432		; bf800000H
  001ec	6a 00		 push	 0
  001ee	6a 00		 push	 0
  001f0	8d 8d e4 fd ff
	ff		 lea	 ecx, DWORD PTR $T80546[ebp]
  001f6	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  001fb	8b 08		 mov	 ecx, DWORD PTR [eax]
  001fd	89 4d dc	 mov	 DWORD PTR _vLookDir$[ebp], ecx
  00200	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00203	89 55 e0	 mov	 DWORD PTR _vLookDir$[ebp+4], edx
  00206	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00209	89 45 e4	 mov	 DWORD PTR _vLookDir$[ebp+8], eax

; 200  :             vUpDir   = D3DXVECTOR3( 0.0f, 1.0f, 0.0f );

  0020c	6a 00		 push	 0
  0020e	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00213	6a 00		 push	 0
  00215	8d 8d d0 fd ff
	ff		 lea	 ecx, DWORD PTR $T80547[ebp]
  0021b	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00220	8b 08		 mov	 ecx, DWORD PTR [eax]
  00222	89 4d c8	 mov	 DWORD PTR _vUpDir$[ebp], ecx
  00225	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00228	89 55 cc	 mov	 DWORD PTR _vUpDir$[ebp+4], edx
  0022b	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0022e	89 45 d0	 mov	 DWORD PTR _vUpDir$[ebp+8], eax
$L80203:

; 201  :             break;
; 202  :     }
; 203  : 
; 204  :     // Set the view transform for this cubemap surface
; 205  :     D3DXMATRIX matView;

  00231	8d 4d 80	 lea	 ecx, DWORD PTR _matView$[ebp]
  00234	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX

; 206  :     D3DXMatrixLookAtLH( &matView, &vEyePt, &vLookDir, &vUpDir );

  00239	8d 45 c8	 lea	 eax, DWORD PTR _vUpDir$[ebp]
  0023c	50		 push	 eax
  0023d	8d 4d dc	 lea	 ecx, DWORD PTR _vLookDir$[ebp]
  00240	51		 push	 ecx
  00241	8d 55 f0	 lea	 edx, DWORD PTR _vEyePt$[ebp]
  00244	52		 push	 edx
  00245	8d 45 80	 lea	 eax, DWORD PTR _matView$[ebp]
  00248	50		 push	 eax
  00249	e8 00 00 00 00	 call	 _D3DXMatrixLookAtLH@16

; 207  :     return matView;

  0024e	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H
  00253	8d 75 80	 lea	 esi, DWORD PTR _matView$[ebp]
  00256	8b 7d 08	 mov	 edi, DWORD PTR ___$ReturnUdt$[ebp]
  00259	f3 a5		 rep movsd
  0025b	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]

; 208  : }

  0025e	52		 push	 edx
  0025f	8b cd		 mov	 ecx, ebp
  00261	50		 push	 eax
  00262	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80553
  00268	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0026d	58		 pop	 eax
  0026e	5a		 pop	 edx
  0026f	5f		 pop	 edi
  00270	5e		 pop	 esi
  00271	5b		 pop	 ebx
  00272	81 c4 38 02 00
	00		 add	 esp, 568		; 00000238H
  00278	3b ec		 cmp	 ebp, esp
  0027a	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0027f	8b e5		 mov	 esp, ebp
  00281	5d		 pop	 ebp
  00282	c3		 ret	 0
$L80553:
  00283	04 00 00 00	 DD	 4
  00287	00 00 00 00	 DD	 $L80552
$L80552:
  0028b	f0 ff ff ff	 DD	 -16			; fffffff0H
  0028f	0c 00 00 00	 DD	 12			; 0000000cH
  00293	00 00 00 00	 DD	 $L80548
  00297	dc ff ff ff	 DD	 -36			; ffffffdcH
  0029b	0c 00 00 00	 DD	 12			; 0000000cH
  0029f	00 00 00 00	 DD	 $L80549
  002a3	c8 ff ff ff	 DD	 -56			; ffffffc8H
  002a7	0c 00 00 00	 DD	 12			; 0000000cH
  002ab	00 00 00 00	 DD	 $L80550
  002af	80 ff ff ff	 DD	 -128			; ffffff80H
  002b3	40 00 00 00	 DD	 64			; 00000040H
  002b7	00 00 00 00	 DD	 $L80551
$L80551:
  002bb	6d		 DB	 109			; 0000006dH
  002bc	61		 DB	 97			; 00000061H
  002bd	74		 DB	 116			; 00000074H
  002be	56		 DB	 86			; 00000056H
  002bf	69		 DB	 105			; 00000069H
  002c0	65		 DB	 101			; 00000065H
  002c1	77		 DB	 119			; 00000077H
  002c2	00		 DB	 0
$L80550:
  002c3	76		 DB	 118			; 00000076H
  002c4	55		 DB	 85			; 00000055H
  002c5	70		 DB	 112			; 00000070H
  002c6	44		 DB	 68			; 00000044H
  002c7	69		 DB	 105			; 00000069H
  002c8	72		 DB	 114			; 00000072H
  002c9	00		 DB	 0
$L80549:
  002ca	76		 DB	 118			; 00000076H
  002cb	4c		 DB	 76			; 0000004cH
  002cc	6f		 DB	 111			; 0000006fH
  002cd	6f		 DB	 111			; 0000006fH
  002ce	6b		 DB	 107			; 0000006bH
  002cf	44		 DB	 68			; 00000044H
  002d0	69		 DB	 105			; 00000069H
  002d1	72		 DB	 114			; 00000072H
  002d2	00		 DB	 0
$L80548:
  002d3	76		 DB	 118			; 00000076H
  002d4	45		 DB	 69			; 00000045H
  002d5	79		 DB	 121			; 00000079H
  002d6	65		 DB	 101			; 00000065H
  002d7	50		 DB	 80			; 00000050H
  002d8	74		 DB	 116			; 00000074H
  002d9	00		 DB	 0
$L80554:
  002da	00 00 00 00	 DD	 $L80206
  002de	00 00 00 00	 DD	 $L80209
  002e2	00 00 00 00	 DD	 $L80212
  002e6	00 00 00 00	 DD	 $L80215
  002ea	00 00 00 00	 DD	 $L80218
  002ee	00 00 00 00	 DD	 $L80221
?D3DUtil_GetCubeMapViewMatrix@@YA?AUD3DXMATRIX@@K@Z ENDP ; D3DUtil_GetCubeMapViewMatrix
_TEXT	ENDS
PUBLIC	??0D3DXQUATERNION@@QAE@XZ			; D3DXQUATERNION::D3DXQUATERNION
PUBLIC	??0D3DXQUATERNION@@QAE@MMMM@Z			; D3DXQUATERNION::D3DXQUATERNION
PUBLIC	?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z		; D3DXVec3Length
PUBLIC	?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z	; D3DXVec3Cross
PUBLIC	__real@40000000
PUBLIC	__real@3f800000
PUBLIC	__real@00000000
PUBLIC	__real@3fe6a09e667f3bcd
PUBLIC	__real@bf800000
PUBLIC	_asinf
PUBLIC	_sqrtf
PUBLIC	??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z			; D3DXVECTOR3::operator-
PUBLIC	?D3DUtil_GetRotationFromCursor@@YA?AUD3DXQUATERNION@@PAUHWND__@@M@Z ; D3DUtil_GetRotationFromCursor
EXTRN	__imp__GetClientRect@8:NEAR
EXTRN	__imp__GetCursorPos@4:NEAR
EXTRN	__imp__ScreenToClient@8:NEAR
EXTRN	_D3DXQuaternionRotationAxis@12:NEAR
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT __real@3fe6a09e667f3bcd
CONST	SEGMENT
__real@3fe6a09e667f3bcd DQ 03fe6a09e667f3bcdr	; 0.707107
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@bf800000
CONST	SEGMENT
__real@bf800000 DD 0bf800000r			; -1
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?D3DUtil_GetRotationFromCursor@@YA?AUD3DXQUATERNION@@PAUHWND__@@M@Z
_TEXT	SEGMENT
tv189 = -424
tv187 = -424
$T80557 = -416
_quat$ = -204
_fAngle$ = -180
_t$ = -168
_vAxis$ = -156
_p2$ = -136
_p1$ = -116
_d2$ = -96
_d1$ = -84
_sz$ = -72
_sy$ = -60
_sx$ = -48
_rc$ = -36
_pt$ = -12
___$ReturnUdt$ = 8
_hWnd$ = 12
_fTrackBallRadius$ = 16
?D3DUtil_GetRotationFromCursor@@YA?AUD3DXQUATERNION@@PAUHWND__@@M@Z PROC NEAR ; D3DUtil_GetRotationFromCursor, COMDAT

; 220  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec a8 01 00
	00		 sub	 esp, 424		; 000001a8H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 58 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-424]
  00012	b9 6a 00 00 00	 mov	 ecx, 106		; 0000006aH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 221  :     POINT pt;
; 222  :     RECT  rc;
; 223  :     GetCursorPos( &pt );

  0001e	8b f4		 mov	 esi, esp
  00020	8d 45 f4	 lea	 eax, DWORD PTR _pt$[ebp]
  00023	50		 push	 eax
  00024	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetCursorPos@4
  0002a	3b f4		 cmp	 esi, esp
  0002c	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 224  :     GetClientRect( hWnd, &rc );

  00031	8b f4		 mov	 esi, esp
  00033	8d 45 dc	 lea	 eax, DWORD PTR _rc$[ebp]
  00036	50		 push	 eax
  00037	8b 4d 0c	 mov	 ecx, DWORD PTR _hWnd$[ebp]
  0003a	51		 push	 ecx
  0003b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetClientRect@8
  00041	3b f4		 cmp	 esi, esp
  00043	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 225  :     ScreenToClient( hWnd, &pt );

  00048	8b f4		 mov	 esi, esp
  0004a	8d 45 f4	 lea	 eax, DWORD PTR _pt$[ebp]
  0004d	50		 push	 eax
  0004e	8b 4d 0c	 mov	 ecx, DWORD PTR _hWnd$[ebp]
  00051	51		 push	 ecx
  00052	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ScreenToClient@8
  00058	3b f4		 cmp	 esi, esp
  0005a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 226  :     FLOAT sx = ( ( ( 2.0f * pt.x ) / (rc.right-rc.left) ) - 1 );

  0005f	db 45 f4	 fild	 DWORD PTR _pt$[ebp]
  00062	dc c0		 fadd	 ST(0), ST(0)
  00064	8b 45 e4	 mov	 eax, DWORD PTR _rc$[ebp+8]
  00067	2b 45 dc	 sub	 eax, DWORD PTR _rc$[ebp]
  0006a	89 85 58 fe ff
	ff		 mov	 DWORD PTR tv187[ebp], eax
  00070	da b5 58 fe ff
	ff		 fidiv	 DWORD PTR tv187[ebp]
  00076	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f800000
  0007c	d9 5d d0	 fstp	 DWORD PTR _sx$[ebp]

; 227  :     FLOAT sy = ( ( ( 2.0f * pt.y ) / (rc.bottom-rc.top) ) - 1 );

  0007f	db 45 f8	 fild	 DWORD PTR _pt$[ebp+4]
  00082	dc c0		 fadd	 ST(0), ST(0)
  00084	8b 45 e8	 mov	 eax, DWORD PTR _rc$[ebp+12]
  00087	2b 45 e0	 sub	 eax, DWORD PTR _rc$[ebp+4]
  0008a	89 85 58 fe ff
	ff		 mov	 DWORD PTR tv189[ebp], eax
  00090	da b5 58 fe ff
	ff		 fidiv	 DWORD PTR tv189[ebp]
  00096	d8 25 00 00 00
	00		 fsub	 DWORD PTR __real@3f800000
  0009c	d9 5d c4	 fstp	 DWORD PTR _sy$[ebp]

; 228  :     FLOAT sz;
; 229  : 
; 230  :     if( sx == 0.0f && sy == 0.0f )

  0009f	d9 45 d0	 fld	 DWORD PTR _sx$[ebp]
  000a2	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000a8	df e0		 fnstsw	 ax
  000aa	f6 c4 44	 test	 ah, 68			; 00000044H
  000ad	7a 2b		 jp	 SHORT $L80235
  000af	d9 45 c4	 fld	 DWORD PTR _sy$[ebp]
  000b2	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@00000000
  000b8	df e0		 fnstsw	 ax
  000ba	f6 c4 44	 test	 ah, 68			; 00000044H
  000bd	7a 1b		 jp	 SHORT $L80235

; 231  :         return D3DXQUATERNION( 0.0f, 0.0f, 0.0f, 1.0f );

  000bf	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000c4	6a 00		 push	 0
  000c6	6a 00		 push	 0
  000c8	6a 00		 push	 0
  000ca	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  000cd	e8 00 00 00 00	 call	 ??0D3DXQUATERNION@@QAE@MMMM@Z ; D3DXQUATERNION::D3DXQUATERNION
  000d2	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]
  000d5	e9 87 01 00 00	 jmp	 $L80229
$L80235:

; 232  : 
; 233  :     FLOAT d1 = 0.0f;

  000da	c7 45 ac 00 00
	00 00		 mov	 DWORD PTR _d1$[ebp], 0

; 234  :     FLOAT d2 = sqrtf( sx*sx + sy*sy );

  000e1	d9 45 d0	 fld	 DWORD PTR _sx$[ebp]
  000e4	d8 4d d0	 fmul	 DWORD PTR _sx$[ebp]
  000e7	d9 45 c4	 fld	 DWORD PTR _sy$[ebp]
  000ea	d8 4d c4	 fmul	 DWORD PTR _sy$[ebp]
  000ed	de c1		 faddp	 ST(1), ST(0)
  000ef	51		 push	 ecx
  000f0	d9 1c 24	 fstp	 DWORD PTR [esp]
  000f3	e8 00 00 00 00	 call	 _sqrtf
  000f8	83 c4 04	 add	 esp, 4
  000fb	d9 5d a0	 fstp	 DWORD PTR _d2$[ebp]

; 235  : 
; 236  :     if( d2 < fTrackBallRadius * 0.70710678118654752440 ) // Inside sphere

  000fe	d9 45 a0	 fld	 DWORD PTR _d2$[ebp]
  00101	d9 45 10	 fld	 DWORD PTR _fTrackBallRadius$[ebp]
  00104	dc 0d 00 00 00
	00		 fmul	 QWORD PTR __real@3fe6a09e667f3bcd
  0010a	de d9		 fcompp
  0010c	df e0		 fnstsw	 ax
  0010e	f6 c4 41	 test	 ah, 65			; 00000041H
  00111	75 1f		 jne	 SHORT $L80239

; 237  :         sz = sqrtf( fTrackBallRadius*fTrackBallRadius - d2*d2 );

  00113	d9 45 10	 fld	 DWORD PTR _fTrackBallRadius$[ebp]
  00116	d8 4d 10	 fmul	 DWORD PTR _fTrackBallRadius$[ebp]
  00119	d9 45 a0	 fld	 DWORD PTR _d2$[ebp]
  0011c	d8 4d a0	 fmul	 DWORD PTR _d2$[ebp]
  0011f	de e9		 fsubp	 ST(1), ST(0)
  00121	51		 push	 ecx
  00122	d9 1c 24	 fstp	 DWORD PTR [esp]
  00125	e8 00 00 00 00	 call	 _sqrtf
  0012a	83 c4 04	 add	 esp, 4
  0012d	d9 5d b8	 fstp	 DWORD PTR _sz$[ebp]

; 238  :     else                                                 // On hyperbola

  00130	eb 14		 jmp	 SHORT $L80240
$L80239:

; 239  :         sz = (fTrackBallRadius*fTrackBallRadius) / (2.0f*d2);

  00132	d9 45 10	 fld	 DWORD PTR _fTrackBallRadius$[ebp]
  00135	d8 4d 10	 fmul	 DWORD PTR _fTrackBallRadius$[ebp]
  00138	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40000000
  0013e	d8 4d a0	 fmul	 DWORD PTR _d2$[ebp]
  00141	de f9		 fdivp	 ST(1), ST(0)
  00143	d9 5d b8	 fstp	 DWORD PTR _sz$[ebp]
$L80240:

; 240  : 
; 241  :     // Get two points on trackball's sphere
; 242  :     D3DXVECTOR3 p1( sx, sy, sz );

  00146	8b 45 b8	 mov	 eax, DWORD PTR _sz$[ebp]
  00149	50		 push	 eax
  0014a	8b 4d c4	 mov	 ecx, DWORD PTR _sy$[ebp]
  0014d	51		 push	 ecx
  0014e	8b 55 d0	 mov	 edx, DWORD PTR _sx$[ebp]
  00151	52		 push	 edx
  00152	8d 4d 8c	 lea	 ecx, DWORD PTR _p1$[ebp]
  00155	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3

; 243  :     D3DXVECTOR3 p2( 0.0f, 0.0f, fTrackBallRadius );

  0015a	8b 45 10	 mov	 eax, DWORD PTR _fTrackBallRadius$[ebp]
  0015d	50		 push	 eax
  0015e	6a 00		 push	 0
  00160	6a 00		 push	 0
  00162	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _p2$[ebp]
  00168	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3

; 244  : 
; 245  :     // Get axis of rotation, which is cross product of p1 and p2
; 246  :     D3DXVECTOR3 vAxis;

  0016d	8d 8d 64 ff ff
	ff		 lea	 ecx, DWORD PTR _vAxis$[ebp]
  00173	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 247  :     D3DXVec3Cross( &vAxis, &p1, &p2);

  00178	8d 85 78 ff ff
	ff		 lea	 eax, DWORD PTR _p2$[ebp]
  0017e	50		 push	 eax
  0017f	8d 4d 8c	 lea	 ecx, DWORD PTR _p1$[ebp]
  00182	51		 push	 ecx
  00183	8d 95 64 ff ff
	ff		 lea	 edx, DWORD PTR _vAxis$[ebp]
  00189	52		 push	 edx
  0018a	e8 00 00 00 00	 call	 ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z ; D3DXVec3Cross
  0018f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 248  : 
; 249  :     // Calculate angle for the rotation about that axis
; 250  :     FLOAT t = D3DXVec3Length( &(p2-p1) ) / ( 2.0f*fTrackBallRadius );

  00192	8d 45 8c	 lea	 eax, DWORD PTR _p1$[ebp]
  00195	50		 push	 eax
  00196	8d 8d 60 fe ff
	ff		 lea	 ecx, DWORD PTR $T80557[ebp]
  0019c	51		 push	 ecx
  0019d	8d 8d 78 ff ff
	ff		 lea	 ecx, DWORD PTR _p2$[ebp]
  001a3	e8 00 00 00 00	 call	 ??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z ; D3DXVECTOR3::operator-
  001a8	50		 push	 eax
  001a9	e8 00 00 00 00	 call	 ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ; D3DXVec3Length
  001ae	83 c4 04	 add	 esp, 4
  001b1	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40000000
  001b7	d8 4d 10	 fmul	 DWORD PTR _fTrackBallRadius$[ebp]
  001ba	de f9		 fdivp	 ST(1), ST(0)
  001bc	d9 9d 58 ff ff
	ff		 fstp	 DWORD PTR _t$[ebp]

; 251  :     if( t > +1.0f) t = +1.0f;

  001c2	d9 85 58 ff ff
	ff		 fld	 DWORD PTR _t$[ebp]
  001c8	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  001ce	df e0		 fnstsw	 ax
  001d0	f6 c4 41	 test	 ah, 65			; 00000041H
  001d3	75 0a		 jne	 SHORT $L80246
  001d5	c7 85 58 ff ff
	ff 00 00 80 3f	 mov	 DWORD PTR _t$[ebp], 1065353216 ; 3f800000H
$L80246:

; 252  :     if( t < -1.0f) t = -1.0f;

  001df	d9 85 58 ff ff
	ff		 fld	 DWORD PTR _t$[ebp]
  001e5	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@bf800000
  001eb	df e0		 fnstsw	 ax
  001ed	f6 c4 05	 test	 ah, 5
  001f0	7a 0a		 jp	 SHORT $L80247
  001f2	c7 85 58 ff ff
	ff 00 00 80 bf	 mov	 DWORD PTR _t$[ebp], -1082130432 ; bf800000H
$L80247:

; 253  :     FLOAT fAngle = 2.0f * asinf( t );

  001fc	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _t$[ebp]
  00202	50		 push	 eax
  00203	e8 00 00 00 00	 call	 _asinf
  00208	83 c4 04	 add	 esp, 4
  0020b	dc c0		 fadd	 ST(0), ST(0)
  0020d	d9 9d 4c ff ff
	ff		 fstp	 DWORD PTR _fAngle$[ebp]

; 254  : 
; 255  :     // Convert axis to quaternion
; 256  :     D3DXQUATERNION quat;

  00213	8d 8d 34 ff ff
	ff		 lea	 ecx, DWORD PTR _quat$[ebp]
  00219	e8 00 00 00 00	 call	 ??0D3DXQUATERNION@@QAE@XZ ; D3DXQUATERNION::D3DXQUATERNION

; 257  :     D3DXQuaternionRotationAxis( &quat, &vAxis, fAngle );

  0021e	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _fAngle$[ebp]
  00224	50		 push	 eax
  00225	8d 8d 64 ff ff
	ff		 lea	 ecx, DWORD PTR _vAxis$[ebp]
  0022b	51		 push	 ecx
  0022c	8d 95 34 ff ff
	ff		 lea	 edx, DWORD PTR _quat$[ebp]
  00232	52		 push	 edx
  00233	e8 00 00 00 00	 call	 _D3DXQuaternionRotationAxis@12

; 258  :     return quat;

  00238	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]
  0023b	8b 8d 34 ff ff
	ff		 mov	 ecx, DWORD PTR _quat$[ebp]
  00241	89 08		 mov	 DWORD PTR [eax], ecx
  00243	8b 95 38 ff ff
	ff		 mov	 edx, DWORD PTR _quat$[ebp+4]
  00249	89 50 04	 mov	 DWORD PTR [eax+4], edx
  0024c	8b 8d 3c ff ff
	ff		 mov	 ecx, DWORD PTR _quat$[ebp+8]
  00252	89 48 08	 mov	 DWORD PTR [eax+8], ecx
  00255	8b 95 40 ff ff
	ff		 mov	 edx, DWORD PTR _quat$[ebp+12]
  0025b	89 50 0c	 mov	 DWORD PTR [eax+12], edx
  0025e	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]
$L80229:

; 259  : }

  00261	52		 push	 edx
  00262	8b cd		 mov	 ecx, ebp
  00264	50		 push	 eax
  00265	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80575
  0026b	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00270	58		 pop	 eax
  00271	5a		 pop	 edx
  00272	5f		 pop	 edi
  00273	5e		 pop	 esi
  00274	5b		 pop	 ebx
  00275	81 c4 a8 01 00
	00		 add	 esp, 424		; 000001a8H
  0027b	3b ec		 cmp	 ebp, esp
  0027d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00282	8b e5		 mov	 esp, ebp
  00284	5d		 pop	 ebp
  00285	c3		 ret	 0
$L80575:
  00286	06 00 00 00	 DD	 6
  0028a	00 00 00 00	 DD	 $L80574
$L80574:
  0028e	f4 ff ff ff	 DD	 -12			; fffffff4H
  00292	08 00 00 00	 DD	 8
  00296	00 00 00 00	 DD	 $L80568
  0029a	dc ff ff ff	 DD	 -36			; ffffffdcH
  0029e	10 00 00 00	 DD	 16			; 00000010H
  002a2	00 00 00 00	 DD	 $L80569
  002a6	8c ff ff ff	 DD	 -116			; ffffff8cH
  002aa	0c 00 00 00	 DD	 12			; 0000000cH
  002ae	00 00 00 00	 DD	 $L80570
  002b2	78 ff ff ff	 DD	 -136			; ffffff78H
  002b6	0c 00 00 00	 DD	 12			; 0000000cH
  002ba	00 00 00 00	 DD	 $L80571
  002be	64 ff ff ff	 DD	 -156			; ffffff64H
  002c2	0c 00 00 00	 DD	 12			; 0000000cH
  002c6	00 00 00 00	 DD	 $L80572
  002ca	34 ff ff ff	 DD	 -204			; ffffff34H
  002ce	10 00 00 00	 DD	 16			; 00000010H
  002d2	00 00 00 00	 DD	 $L80573
$L80573:
  002d6	71		 DB	 113			; 00000071H
  002d7	75		 DB	 117			; 00000075H
  002d8	61		 DB	 97			; 00000061H
  002d9	74		 DB	 116			; 00000074H
  002da	00		 DB	 0
$L80572:
  002db	76		 DB	 118			; 00000076H
  002dc	41		 DB	 65			; 00000041H
  002dd	78		 DB	 120			; 00000078H
  002de	69		 DB	 105			; 00000069H
  002df	73		 DB	 115			; 00000073H
  002e0	00		 DB	 0
$L80571:
  002e1	70		 DB	 112			; 00000070H
  002e2	32		 DB	 50			; 00000032H
  002e3	00		 DB	 0
$L80570:
  002e4	70		 DB	 112			; 00000070H
  002e5	31		 DB	 49			; 00000031H
  002e6	00		 DB	 0
$L80569:
  002e7	72		 DB	 114			; 00000072H
  002e8	63		 DB	 99			; 00000063H
  002e9	00		 DB	 0
$L80568:
  002ea	70		 DB	 112			; 00000070H
  002eb	74		 DB	 116			; 00000074H
  002ec	00		 DB	 0
?D3DUtil_GetRotationFromCursor@@YA?AUD3DXQUATERNION@@PAUHWND__@@M@Z ENDP ; D3DUtil_GetRotationFromCursor
_TEXT	ENDS
PUBLIC	?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z ; D3DUtil_SetDeviceCursor
EXTRN	__imp__GetObjectA@12:NEAR
EXTRN	??2@YAPAXI@Z:NEAR				; operator new
EXTRN	??3@YAXPAX@Z:NEAR				; operator delete
EXTRN	__imp__GetDIBits@28:NEAR
EXTRN	__imp__SelectObject@8:NEAR
EXTRN	__imp__CreateCompatibleDC@4:NEAR
EXTRN	__imp__GetIconInfo@8:NEAR
EXTRN	__imp__GetDC@4:NEAR
EXTRN	__imp__DeleteDC@4:NEAR
EXTRN	__imp__DeleteObject@4:NEAR
EXTRN	__imp__ReleaseDC@8:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z
_TEXT	SEGMENT
$T80582 = -592
$T80581 = -580
$T80580 = -568
$T80579 = -556
_wMask$80313 = -352
_lr$ = -332
_hgdiobjOld$ = -316
_pBitmap$ = -304
_pcrArrayMask$ = -292
_pcrArrayColor$ = -280
_bmi$ = -268
_y$ = -216
_x$ = -204
_crMask$ = -192
_crColor$ = -180
_dwHeightDest$ = -168
_dwHeightSrc$ = -156
_dwWidth$ = -144
_bm$ = -132
_hdcScreen$ = -100
_hdcMask$ = -88
_hdcColor$ = -76
_pCursorBitmap$ = -64
_bBWCursor$ = -52
_iconinfo$ = -40
_hr$ = -12
__$ArrayPad$ = -4
__$ReturnAddr$ = 4
_pd3dDevice$ = 8
_hCursor$ = 12
_bAddWatermark$ = 16
?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z PROC NEAR ; D3DUtil_SetDeviceCursor, COMDAT

; 270  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 54 02 00
	00		 sub	 esp, 596		; 00000254H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd ac fd ff
	ff		 lea	 edi, DWORD PTR [ebp-596]
  00012	b9 95 00 00 00	 mov	 ecx, 149		; 00000095H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00023	33 45 04	 xor	 eax, DWORD PTR __$ReturnAddr$[ebp]
  00026	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 271  :     HRESULT hr = E_FAIL;

  00029	c7 45 f4 05 40
	00 80		 mov	 DWORD PTR _hr$[ebp], -2147467259 ; 80004005H

; 272  :     ICONINFO iconinfo;
; 273  :     BOOL bBWCursor;
; 274  :     LPDIRECT3DSURFACE8 pCursorBitmap = NULL;

  00030	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _pCursorBitmap$[ebp], 0

; 275  :     HDC hdcColor = NULL;

  00037	c7 45 b4 00 00
	00 00		 mov	 DWORD PTR _hdcColor$[ebp], 0

; 276  :     HDC hdcMask = NULL;

  0003e	c7 45 a8 00 00
	00 00		 mov	 DWORD PTR _hdcMask$[ebp], 0

; 277  :     HDC hdcScreen = NULL;

  00045	c7 45 9c 00 00
	00 00		 mov	 DWORD PTR _hdcScreen$[ebp], 0

; 278  :     BITMAP bm;
; 279  :     DWORD dwWidth;
; 280  :     DWORD dwHeightSrc;
; 281  :     DWORD dwHeightDest;
; 282  :     COLORREF crColor;
; 283  :     COLORREF crMask;
; 284  :     UINT x;
; 285  :     UINT y;
; 286  :     BITMAPINFO bmi;
; 287  :     COLORREF* pcrArrayColor = NULL;

  0004c	c7 85 e8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _pcrArrayColor$[ebp], 0

; 288  :     COLORREF* pcrArrayMask = NULL;

  00056	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _pcrArrayMask$[ebp], 0

; 289  :     DWORD* pBitmap;
; 290  :     HGDIOBJ hgdiobjOld;
; 291  : 
; 292  :     ZeroMemory( &iconinfo, sizeof(iconinfo) );

  00060	6a 14		 push	 20			; 00000014H
  00062	6a 00		 push	 0
  00064	8d 45 d8	 lea	 eax, DWORD PTR _iconinfo$[ebp]
  00067	50		 push	 eax
  00068	e8 00 00 00 00	 call	 _memset
  0006d	83 c4 0c	 add	 esp, 12			; 0000000cH

; 293  :     if( !GetIconInfo( hCursor, &iconinfo ) )

  00070	8b f4		 mov	 esi, esp
  00072	8d 45 d8	 lea	 eax, DWORD PTR _iconinfo$[ebp]
  00075	50		 push	 eax
  00076	8b 4d 0c	 mov	 ecx, DWORD PTR _hCursor$[ebp]
  00079	51		 push	 ecx
  0007a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetIconInfo@8
  00080	3b f4		 cmp	 esi, esp
  00082	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00087	85 c0		 test	 eax, eax
  00089	75 05		 jne	 SHORT $L80276

; 294  :         goto End;

  0008b	e9 0a 05 00 00	 jmp	 $End$80277
$L80276:

; 295  : 
; 296  :     if (0 == GetObject((HGDIOBJ)iconinfo.hbmMask, sizeof(BITMAP), (LPVOID)&bm))

  00090	8b f4		 mov	 esi, esp
  00092	8d 85 7c ff ff
	ff		 lea	 eax, DWORD PTR _bm$[ebp]
  00098	50		 push	 eax
  00099	6a 18		 push	 24			; 00000018H
  0009b	8b 4d e4	 mov	 ecx, DWORD PTR _iconinfo$[ebp+12]
  0009e	51		 push	 ecx
  0009f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetObjectA@12
  000a5	3b f4		 cmp	 esi, esp
  000a7	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ac	85 c0		 test	 eax, eax
  000ae	75 05		 jne	 SHORT $L80282

; 297  :         goto End;

  000b0	e9 e5 04 00 00	 jmp	 $End$80277
$L80282:

; 298  :     dwWidth = bm.bmWidth;

  000b5	8b 45 80	 mov	 eax, DWORD PTR _bm$[ebp+4]
  000b8	89 85 70 ff ff
	ff		 mov	 DWORD PTR _dwWidth$[ebp], eax

; 299  :     dwHeightSrc = bm.bmHeight;

  000be	8b 45 84	 mov	 eax, DWORD PTR _bm$[ebp+8]
  000c1	89 85 64 ff ff
	ff		 mov	 DWORD PTR _dwHeightSrc$[ebp], eax

; 300  : 
; 301  :     if( iconinfo.hbmColor == NULL )

  000c7	83 7d e8 00	 cmp	 DWORD PTR _iconinfo$[ebp+16], 0
  000cb	75 17		 jne	 SHORT $L80284

; 302  :     {
; 303  :         bBWCursor = TRUE;

  000cd	c7 45 cc 01 00
	00 00		 mov	 DWORD PTR _bBWCursor$[ebp], 1

; 304  :         dwHeightDest = dwHeightSrc / 2;

  000d4	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightSrc$[ebp]
  000da	d1 e8		 shr	 eax, 1
  000dc	89 85 58 ff ff
	ff		 mov	 DWORD PTR _dwHeightDest$[ebp], eax

; 305  :     }
; 306  :     else 

  000e2	eb 13		 jmp	 SHORT $L80285
$L80284:

; 307  :     {
; 308  :         bBWCursor = FALSE;

  000e4	c7 45 cc 00 00
	00 00		 mov	 DWORD PTR _bBWCursor$[ebp], 0

; 309  :         dwHeightDest = dwHeightSrc;

  000eb	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightSrc$[ebp]
  000f1	89 85 58 ff ff
	ff		 mov	 DWORD PTR _dwHeightDest$[ebp], eax
$L80285:

; 310  :     }
; 311  : 
; 312  :     // Create a surface for the fullscreen cursor
; 313  :     if( FAILED( hr = pd3dDevice->CreateImageSurface( dwWidth, dwHeightDest, 
; 314  :         D3DFMT_A8R8G8B8, &pCursorBitmap ) ) )

  000f7	8b f4		 mov	 esi, esp
  000f9	8d 45 c0	 lea	 eax, DWORD PTR _pCursorBitmap$[ebp]
  000fc	50		 push	 eax
  000fd	6a 15		 push	 21			; 00000015H
  000ff	8b 8d 58 ff ff
	ff		 mov	 ecx, DWORD PTR _dwHeightDest$[ebp]
  00105	51		 push	 ecx
  00106	8b 95 70 ff ff
	ff		 mov	 edx, DWORD PTR _dwWidth$[ebp]
  0010c	52		 push	 edx
  0010d	8b 45 08	 mov	 eax, DWORD PTR _pd3dDevice$[ebp]
  00110	8b 08		 mov	 ecx, DWORD PTR [eax]
  00112	8b 55 08	 mov	 edx, DWORD PTR _pd3dDevice$[ebp]
  00115	52		 push	 edx
  00116	ff 51 6c	 call	 DWORD PTR [ecx+108]
  00119	3b f4		 cmp	 esi, esp
  0011b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00120	89 45 f4	 mov	 DWORD PTR _hr$[ebp], eax
  00123	83 7d f4 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00127	7d 05		 jge	 SHORT $L80287

; 315  :     {
; 316  :         goto End;

  00129	e9 6c 04 00 00	 jmp	 $End$80277
$L80287:

; 317  :     }
; 318  : 
; 319  :     pcrArrayMask = new DWORD[dwWidth * dwHeightSrc];

  0012e	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwWidth$[ebp]
  00134	0f af 85 64 ff
	ff ff		 imul	 eax, DWORD PTR _dwHeightSrc$[ebp]
  0013b	c1 e0 02	 shl	 eax, 2
  0013e	50		 push	 eax
  0013f	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  00144	83 c4 04	 add	 esp, 4
  00147	89 85 d4 fd ff
	ff		 mov	 DWORD PTR $T80579[ebp], eax
  0014d	8b 8d d4 fd ff
	ff		 mov	 ecx, DWORD PTR $T80579[ebp]
  00153	89 8d dc fe ff
	ff		 mov	 DWORD PTR _pcrArrayMask$[ebp], ecx

; 320  : 
; 321  :     ZeroMemory(&bmi, sizeof(bmi));

  00159	6a 2c		 push	 44			; 0000002cH
  0015b	6a 00		 push	 0
  0015d	8d 85 f4 fe ff
	ff		 lea	 eax, DWORD PTR _bmi$[ebp]
  00163	50		 push	 eax
  00164	e8 00 00 00 00	 call	 _memset
  00169	83 c4 0c	 add	 esp, 12			; 0000000cH

; 322  :     bmi.bmiHeader.biSize = sizeof(bmi.bmiHeader);

  0016c	c7 85 f4 fe ff
	ff 28 00 00 00	 mov	 DWORD PTR _bmi$[ebp], 40 ; 00000028H

; 323  :     bmi.bmiHeader.biWidth = dwWidth;

  00176	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwWidth$[ebp]
  0017c	89 85 f8 fe ff
	ff		 mov	 DWORD PTR _bmi$[ebp+4], eax

; 324  :     bmi.bmiHeader.biHeight = dwHeightSrc;

  00182	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightSrc$[ebp]
  00188	89 85 fc fe ff
	ff		 mov	 DWORD PTR _bmi$[ebp+8], eax

; 325  :     bmi.bmiHeader.biPlanes = 1;

  0018e	66 c7 85 00 ff
	ff ff 01 00	 mov	 WORD PTR _bmi$[ebp+12], 1

; 326  :     bmi.bmiHeader.biBitCount = 32;

  00197	66 c7 85 02 ff
	ff ff 20 00	 mov	 WORD PTR _bmi$[ebp+14], 32 ; 00000020H

; 327  :     bmi.bmiHeader.biCompression = BI_RGB;

  001a0	c7 85 04 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _bmi$[ebp+16], 0

; 328  : 
; 329  :     hdcScreen = GetDC( NULL );

  001aa	8b f4		 mov	 esi, esp
  001ac	6a 00		 push	 0
  001ae	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  001b4	3b f4		 cmp	 esi, esp
  001b6	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001bb	89 45 9c	 mov	 DWORD PTR _hdcScreen$[ebp], eax

; 330  :     hdcMask = CreateCompatibleDC( hdcScreen );

  001be	8b f4		 mov	 esi, esp
  001c0	8b 45 9c	 mov	 eax, DWORD PTR _hdcScreen$[ebp]
  001c3	50		 push	 eax
  001c4	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateCompatibleDC@4
  001ca	3b f4		 cmp	 esi, esp
  001cc	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001d1	89 45 a8	 mov	 DWORD PTR _hdcMask$[ebp], eax

; 331  :     if( hdcMask == NULL )

  001d4	83 7d a8 00	 cmp	 DWORD PTR _hdcMask$[ebp], 0
  001d8	75 0c		 jne	 SHORT $L80291

; 332  :     {
; 333  :         hr = E_FAIL;

  001da	c7 45 f4 05 40
	00 80		 mov	 DWORD PTR _hr$[ebp], -2147467259 ; 80004005H

; 334  :         goto End;

  001e1	e9 b4 03 00 00	 jmp	 $End$80277
$L80291:

; 335  :     }
; 336  :     hgdiobjOld = SelectObject(hdcMask, iconinfo.hbmMask);

  001e6	8b f4		 mov	 esi, esp
  001e8	8b 45 e4	 mov	 eax, DWORD PTR _iconinfo$[ebp+12]
  001eb	50		 push	 eax
  001ec	8b 4d a8	 mov	 ecx, DWORD PTR _hdcMask$[ebp]
  001ef	51		 push	 ecx
  001f0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  001f6	3b f4		 cmp	 esi, esp
  001f8	e8 00 00 00 00	 call	 __RTC_CheckEsp
  001fd	89 85 c4 fe ff
	ff		 mov	 DWORD PTR _hgdiobjOld$[ebp], eax

; 337  :     GetDIBits(hdcMask, iconinfo.hbmMask, 0, dwHeightSrc, 
; 338  :         pcrArrayMask, &bmi, DIB_RGB_COLORS);

  00203	8b f4		 mov	 esi, esp
  00205	6a 00		 push	 0
  00207	8d 85 f4 fe ff
	ff		 lea	 eax, DWORD PTR _bmi$[ebp]
  0020d	50		 push	 eax
  0020e	8b 8d dc fe ff
	ff		 mov	 ecx, DWORD PTR _pcrArrayMask$[ebp]
  00214	51		 push	 ecx
  00215	8b 95 64 ff ff
	ff		 mov	 edx, DWORD PTR _dwHeightSrc$[ebp]
  0021b	52		 push	 edx
  0021c	6a 00		 push	 0
  0021e	8b 45 e4	 mov	 eax, DWORD PTR _iconinfo$[ebp+12]
  00221	50		 push	 eax
  00222	8b 4d a8	 mov	 ecx, DWORD PTR _hdcMask$[ebp]
  00225	51		 push	 ecx
  00226	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDIBits@28
  0022c	3b f4		 cmp	 esi, esp
  0022e	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 339  :     SelectObject(hdcMask, hgdiobjOld);

  00233	8b f4		 mov	 esi, esp
  00235	8b 85 c4 fe ff
	ff		 mov	 eax, DWORD PTR _hgdiobjOld$[ebp]
  0023b	50		 push	 eax
  0023c	8b 4d a8	 mov	 ecx, DWORD PTR _hdcMask$[ebp]
  0023f	51		 push	 ecx
  00240	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  00246	3b f4		 cmp	 esi, esp
  00248	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 340  : 
; 341  :     if (!bBWCursor)

  0024d	83 7d cc 00	 cmp	 DWORD PTR _bBWCursor$[ebp], 0
  00251	0f 85 a8 00 00
	00		 jne	 $L80294

; 342  :     {
; 343  :         pcrArrayColor = new DWORD[dwWidth * dwHeightDest];

  00257	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwWidth$[ebp]
  0025d	0f af 85 58 ff
	ff ff		 imul	 eax, DWORD PTR _dwHeightDest$[ebp]
  00264	c1 e0 02	 shl	 eax, 2
  00267	50		 push	 eax
  00268	e8 00 00 00 00	 call	 ??2@YAPAXI@Z		; operator new
  0026d	83 c4 04	 add	 esp, 4
  00270	89 85 c8 fd ff
	ff		 mov	 DWORD PTR $T80580[ebp], eax
  00276	8b 8d c8 fd ff
	ff		 mov	 ecx, DWORD PTR $T80580[ebp]
  0027c	89 8d e8 fe ff
	ff		 mov	 DWORD PTR _pcrArrayColor$[ebp], ecx

; 344  :         hdcColor = CreateCompatibleDC( GetDC( NULL ) );

  00282	8b f4		 mov	 esi, esp
  00284	6a 00		 push	 0
  00286	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDC@4
  0028c	3b f4		 cmp	 esi, esp
  0028e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00293	8b f4		 mov	 esi, esp
  00295	50		 push	 eax
  00296	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateCompatibleDC@4
  0029c	3b f4		 cmp	 esi, esp
  0029e	e8 00 00 00 00	 call	 __RTC_CheckEsp
  002a3	89 45 b4	 mov	 DWORD PTR _hdcColor$[ebp], eax

; 345  :         if( hdcColor == NULL )

  002a6	83 7d b4 00	 cmp	 DWORD PTR _hdcColor$[ebp], 0
  002aa	75 0c		 jne	 SHORT $L80297

; 346  :         {
; 347  :             hr = E_FAIL;

  002ac	c7 45 f4 05 40
	00 80		 mov	 DWORD PTR _hr$[ebp], -2147467259 ; 80004005H

; 348  :             goto End;

  002b3	e9 e2 02 00 00	 jmp	 $End$80277
$L80297:

; 349  :         }
; 350  :         SelectObject(hdcColor, iconinfo.hbmColor);

  002b8	8b f4		 mov	 esi, esp
  002ba	8b 45 e8	 mov	 eax, DWORD PTR _iconinfo$[ebp+16]
  002bd	50		 push	 eax
  002be	8b 4d b4	 mov	 ecx, DWORD PTR _hdcColor$[ebp]
  002c1	51		 push	 ecx
  002c2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SelectObject@8
  002c8	3b f4		 cmp	 esi, esp
  002ca	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 351  :         GetDIBits(hdcColor, iconinfo.hbmColor, 0, dwHeightDest, 
; 352  :             pcrArrayColor, &bmi, DIB_RGB_COLORS);

  002cf	8b f4		 mov	 esi, esp
  002d1	6a 00		 push	 0
  002d3	8d 85 f4 fe ff
	ff		 lea	 eax, DWORD PTR _bmi$[ebp]
  002d9	50		 push	 eax
  002da	8b 8d e8 fe ff
	ff		 mov	 ecx, DWORD PTR _pcrArrayColor$[ebp]
  002e0	51		 push	 ecx
  002e1	8b 95 58 ff ff
	ff		 mov	 edx, DWORD PTR _dwHeightDest$[ebp]
  002e7	52		 push	 edx
  002e8	6a 00		 push	 0
  002ea	8b 45 e8	 mov	 eax, DWORD PTR _iconinfo$[ebp+16]
  002ed	50		 push	 eax
  002ee	8b 4d b4	 mov	 ecx, DWORD PTR _hdcColor$[ebp]
  002f1	51		 push	 ecx
  002f2	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDIBits@28
  002f8	3b f4		 cmp	 esi, esp
  002fa	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80294:

; 353  :     }
; 354  : 
; 355  :     // Transfer cursor image into the surface
; 356  :     D3DLOCKED_RECT lr;
; 357  :     pCursorBitmap->LockRect( &lr, NULL, 0 );

  002ff	8b f4		 mov	 esi, esp
  00301	6a 00		 push	 0
  00303	6a 00		 push	 0
  00305	8d 85 b4 fe ff
	ff		 lea	 eax, DWORD PTR _lr$[ebp]
  0030b	50		 push	 eax
  0030c	8b 4d c0	 mov	 ecx, DWORD PTR _pCursorBitmap$[ebp]
  0030f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00311	8b 45 c0	 mov	 eax, DWORD PTR _pCursorBitmap$[ebp]
  00314	50		 push	 eax
  00315	ff 52 24	 call	 DWORD PTR [edx+36]
  00318	3b f4		 cmp	 esi, esp
  0031a	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 358  :     pBitmap = (DWORD*)lr.pBits;

  0031f	8b 85 b8 fe ff
	ff		 mov	 eax, DWORD PTR _lr$[ebp+4]
  00325	89 85 d0 fe ff
	ff		 mov	 DWORD PTR _pBitmap$[ebp], eax

; 359  :     for( y = 0; y < dwHeightDest; y++ )

  0032b	c7 85 28 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _y$[ebp], 0
  00335	eb 0f		 jmp	 SHORT $L80302
$L80303:
  00337	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _y$[ebp]
  0033d	83 c0 01	 add	 eax, 1
  00340	89 85 28 ff ff
	ff		 mov	 DWORD PTR _y$[ebp], eax
$L80302:
  00346	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _y$[ebp]
  0034c	3b 85 58 ff ff
	ff		 cmp	 eax, DWORD PTR _dwHeightDest$[ebp]
  00352	0f 83 fa 01 00
	00		 jae	 $L80304

; 360  :     {
; 361  :         for( x = 0; x < dwWidth; x++ )

  00358	c7 85 34 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _x$[ebp], 0
  00362	eb 0f		 jmp	 SHORT $L80305
$L80306:
  00364	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _x$[ebp]
  0036a	83 c0 01	 add	 eax, 1
  0036d	89 85 34 ff ff
	ff		 mov	 DWORD PTR _x$[ebp], eax
$L80305:
  00373	8b 85 34 ff ff
	ff		 mov	 eax, DWORD PTR _x$[ebp]
  00379	3b 85 70 ff ff
	ff		 cmp	 eax, DWORD PTR _dwWidth$[ebp]
  0037f	0f 83 c8 01 00
	00		 jae	 $L80307

; 362  :         {
; 363  :             if (bBWCursor)

  00385	83 7d cc 00	 cmp	 DWORD PTR _bBWCursor$[ebp], 0
  00389	74 5c		 je	 SHORT $L80308

; 364  :             {
; 365  :                 crColor = pcrArrayMask[dwWidth*(dwHeightDest-1-y) + x];

  0038b	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightDest$[ebp]
  00391	83 e8 01	 sub	 eax, 1
  00394	2b 85 28 ff ff
	ff		 sub	 eax, DWORD PTR _y$[ebp]
  0039a	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _dwWidth$[ebp]
  003a0	0f af c8	 imul	 ecx, eax
  003a3	03 8d 34 ff ff
	ff		 add	 ecx, DWORD PTR _x$[ebp]
  003a9	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _pcrArrayMask$[ebp]
  003af	8b 04 8a	 mov	 eax, DWORD PTR [edx+ecx*4]
  003b2	89 85 4c ff ff
	ff		 mov	 DWORD PTR _crColor$[ebp], eax

; 366  :                 crMask = pcrArrayMask[dwWidth*(dwHeightSrc-1-y) + x];

  003b8	8b 85 64 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightSrc$[ebp]
  003be	83 e8 01	 sub	 eax, 1
  003c1	2b 85 28 ff ff
	ff		 sub	 eax, DWORD PTR _y$[ebp]
  003c7	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _dwWidth$[ebp]
  003cd	0f af c8	 imul	 ecx, eax
  003d0	03 8d 34 ff ff
	ff		 add	 ecx, DWORD PTR _x$[ebp]
  003d6	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _pcrArrayMask$[ebp]
  003dc	8b 04 8a	 mov	 eax, DWORD PTR [edx+ecx*4]
  003df	89 85 40 ff ff
	ff		 mov	 DWORD PTR _crMask$[ebp], eax

; 367  :             }
; 368  :             else

  003e5	eb 5a		 jmp	 SHORT $L80309
$L80308:

; 369  :             {
; 370  :                 crColor = pcrArrayColor[dwWidth*(dwHeightDest-1-y) + x];

  003e7	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightDest$[ebp]
  003ed	83 e8 01	 sub	 eax, 1
  003f0	2b 85 28 ff ff
	ff		 sub	 eax, DWORD PTR _y$[ebp]
  003f6	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _dwWidth$[ebp]
  003fc	0f af c8	 imul	 ecx, eax
  003ff	03 8d 34 ff ff
	ff		 add	 ecx, DWORD PTR _x$[ebp]
  00405	8b 95 e8 fe ff
	ff		 mov	 edx, DWORD PTR _pcrArrayColor$[ebp]
  0040b	8b 04 8a	 mov	 eax, DWORD PTR [edx+ecx*4]
  0040e	89 85 4c ff ff
	ff		 mov	 DWORD PTR _crColor$[ebp], eax

; 371  :                 crMask = pcrArrayMask[dwWidth*(dwHeightDest-1-y) + x];

  00414	8b 85 58 ff ff
	ff		 mov	 eax, DWORD PTR _dwHeightDest$[ebp]
  0041a	83 e8 01	 sub	 eax, 1
  0041d	2b 85 28 ff ff
	ff		 sub	 eax, DWORD PTR _y$[ebp]
  00423	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _dwWidth$[ebp]
  00429	0f af c8	 imul	 ecx, eax
  0042c	03 8d 34 ff ff
	ff		 add	 ecx, DWORD PTR _x$[ebp]
  00432	8b 95 dc fe ff
	ff		 mov	 edx, DWORD PTR _pcrArrayMask$[ebp]
  00438	8b 04 8a	 mov	 eax, DWORD PTR [edx+ecx*4]
  0043b	89 85 40 ff ff
	ff		 mov	 DWORD PTR _crMask$[ebp], eax
$L80309:

; 372  :             }
; 373  :             if (crMask == 0)

  00441	83 bd 40 ff ff
	ff 00		 cmp	 DWORD PTR _crMask$[ebp], 0
  00448	75 29		 jne	 SHORT $L80310

; 374  :                 pBitmap[dwWidth*y + x] = 0xff000000 | crColor;

  0044a	8b 85 4c ff ff
	ff		 mov	 eax, DWORD PTR _crColor$[ebp]
  00450	0d 00 00 00 ff	 or	 eax, -16777216		; ff000000H
  00455	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR _dwWidth$[ebp]
  0045b	0f af 8d 28 ff
	ff ff		 imul	 ecx, DWORD PTR _y$[ebp]
  00462	03 8d 34 ff ff
	ff		 add	 ecx, DWORD PTR _x$[ebp]
  00468	8b 95 d0 fe ff
	ff		 mov	 edx, DWORD PTR _pBitmap$[ebp]
  0046e	89 04 8a	 mov	 DWORD PTR [edx+ecx*4], eax

; 375  :             else

  00471	eb 20		 jmp	 SHORT $L80311
$L80310:

; 376  :                 pBitmap[dwWidth*y + x] = 0x00000000;

  00473	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwWidth$[ebp]
  00479	0f af 85 28 ff
	ff ff		 imul	 eax, DWORD PTR _y$[ebp]
  00480	03 85 34 ff ff
	ff		 add	 eax, DWORD PTR _x$[ebp]
  00486	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR _pBitmap$[ebp]
  0048c	c7 04 81 00 00
	00 00		 mov	 DWORD PTR [ecx+eax*4], 0
$L80311:

; 377  : 
; 378  :             // It may be helpful to make the D3D cursor look slightly 
; 379  :             // different from the Windows cursor so you can distinguish 
; 380  :             // between the two when developing/testing code.  When
; 381  :             // bAddWatermark is TRUE, the following code adds some
; 382  :             // small grey "D3D" characters to the upper-left corner of
; 383  :             // the D3D cursor image.
; 384  :             if( bAddWatermark && x < 12 && y < 5 )

  00493	83 7d 10 00	 cmp	 DWORD PTR _bAddWatermark$[ebp], 0
  00497	0f 84 ab 00 00
	00		 je	 $L80312
  0049d	83 bd 34 ff ff
	ff 0c		 cmp	 DWORD PTR _x$[ebp], 12	; 0000000cH
  004a4	0f 83 9e 00 00
	00		 jae	 $L80312
  004aa	83 bd 28 ff ff
	ff 05		 cmp	 DWORD PTR _y$[ebp], 5
  004b1	0f 83 91 00 00
	00		 jae	 $L80312

; 385  :             {
; 386  :                 // 11.. 11.. 11.. .... CCC0
; 387  :                 // 1.1. ..1. 1.1. .... A2A0
; 388  :                 // 1.1. .1.. 1.1. .... A4A0
; 389  :                 // 1.1. ..1. 1.1. .... A2A0
; 390  :                 // 11.. 11.. 11.. .... CCC0
; 391  : 
; 392  :                 const WORD wMask[5] = { 0xccc0, 0xa2a0, 0xa4a0, 0xa2a0, 0xccc0 };

  004b7	66 c7 85 a0 fe
	ff ff c0 cc	 mov	 WORD PTR _wMask$80313[ebp], 52416 ; 0000ccc0H
  004c0	66 c7 85 a2 fe
	ff ff a0 a2	 mov	 WORD PTR _wMask$80313[ebp+2], 41632 ; 0000a2a0H
  004c9	66 c7 85 a4 fe
	ff ff a0 a4	 mov	 WORD PTR _wMask$80313[ebp+4], 42144 ; 0000a4a0H
  004d2	66 c7 85 a6 fe
	ff ff a0 a2	 mov	 WORD PTR _wMask$80313[ebp+6], 41632 ; 0000a2a0H
  004db	66 c7 85 a8 fe
	ff ff c0 cc	 mov	 WORD PTR _wMask$80313[ebp+8], 52416 ; 0000ccc0H

; 393  :                 if( wMask[y] & (1 << (15 - x)) )

  004e4	8b 85 28 ff ff
	ff		 mov	 eax, DWORD PTR _y$[ebp]
  004ea	0f b7 94 45 a0
	fe ff ff	 movzx	 edx, WORD PTR _wMask$80313[ebp+eax*2]
  004f2	b9 0f 00 00 00	 mov	 ecx, 15			; 0000000fH
  004f7	2b 8d 34 ff ff
	ff		 sub	 ecx, DWORD PTR _x$[ebp]
  004fd	b8 01 00 00 00	 mov	 eax, 1
  00502	d3 e0		 shl	 eax, cl
  00504	23 d0		 and	 edx, eax
  00506	85 d2		 test	 edx, edx
  00508	74 3e		 je	 SHORT $L80312

; 394  :                 {
; 395  :                     pBitmap[dwWidth*y + x] |= 0xff808080;

  0050a	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwWidth$[ebp]
  00510	0f af 85 28 ff
	ff ff		 imul	 eax, DWORD PTR _y$[ebp]
  00517	03 85 34 ff ff
	ff		 add	 eax, DWORD PTR _x$[ebp]
  0051d	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR _pBitmap$[ebp]
  00523	8b 14 81	 mov	 edx, DWORD PTR [ecx+eax*4]
  00526	81 ca 80 80 80
	ff		 or	 edx, -8355712		; ff808080H
  0052c	8b 85 70 ff ff
	ff		 mov	 eax, DWORD PTR _dwWidth$[ebp]
  00532	0f af 85 28 ff
	ff ff		 imul	 eax, DWORD PTR _y$[ebp]
  00539	03 85 34 ff ff
	ff		 add	 eax, DWORD PTR _x$[ebp]
  0053f	8b 8d d0 fe ff
	ff		 mov	 ecx, DWORD PTR _pBitmap$[ebp]
  00545	89 14 81	 mov	 DWORD PTR [ecx+eax*4], edx
$L80312:

; 396  :                 }
; 397  :             }
; 398  :         }

  00548	e9 17 fe ff ff	 jmp	 $L80306
$L80307:

; 399  :     }

  0054d	e9 e5 fd ff ff	 jmp	 $L80303
$L80304:

; 400  :     pCursorBitmap->UnlockRect();

  00552	8b 45 c0	 mov	 eax, DWORD PTR _pCursorBitmap$[ebp]
  00555	8b 08		 mov	 ecx, DWORD PTR [eax]
  00557	8b f4		 mov	 esi, esp
  00559	8b 55 c0	 mov	 edx, DWORD PTR _pCursorBitmap$[ebp]
  0055c	52		 push	 edx
  0055d	ff 51 28	 call	 DWORD PTR [ecx+40]
  00560	3b f4		 cmp	 esi, esp
  00562	e8 00 00 00 00	 call	 __RTC_CheckEsp

; 401  : 
; 402  :     // Set the device cursor
; 403  :     if( FAILED( hr = pd3dDevice->SetCursorProperties( iconinfo.xHotspot, 
; 404  :         iconinfo.yHotspot, pCursorBitmap ) ) )

  00567	8b f4		 mov	 esi, esp
  00569	8b 45 c0	 mov	 eax, DWORD PTR _pCursorBitmap$[ebp]
  0056c	50		 push	 eax
  0056d	8b 4d e0	 mov	 ecx, DWORD PTR _iconinfo$[ebp+8]
  00570	51		 push	 ecx
  00571	8b 55 dc	 mov	 edx, DWORD PTR _iconinfo$[ebp+4]
  00574	52		 push	 edx
  00575	8b 45 08	 mov	 eax, DWORD PTR _pd3dDevice$[ebp]
  00578	8b 08		 mov	 ecx, DWORD PTR [eax]
  0057a	8b 55 08	 mov	 edx, DWORD PTR _pd3dDevice$[ebp]
  0057d	52		 push	 edx
  0057e	ff 51 28	 call	 DWORD PTR [ecx+40]
  00581	3b f4		 cmp	 esi, esp
  00583	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00588	89 45 f4	 mov	 DWORD PTR _hr$[ebp], eax
  0058b	83 7d f4 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0058f	7d 02		 jge	 SHORT $L80316

; 405  :     {
; 406  :         goto End;

  00591	eb 07		 jmp	 SHORT $End$80277
$L80316:

; 407  :     }
; 408  : 
; 409  :     hr = S_OK;

  00593	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _hr$[ebp], 0
$End$80277:

; 410  : 
; 411  : End:
; 412  :     if( iconinfo.hbmMask != NULL )

  0059a	83 7d e4 00	 cmp	 DWORD PTR _iconinfo$[ebp+12], 0
  0059e	74 13		 je	 SHORT $L80319

; 413  :         DeleteObject( iconinfo.hbmMask );

  005a0	8b f4		 mov	 esi, esp
  005a2	8b 45 e4	 mov	 eax, DWORD PTR _iconinfo$[ebp+12]
  005a5	50		 push	 eax
  005a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  005ac	3b f4		 cmp	 esi, esp
  005ae	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80319:

; 414  :     if( iconinfo.hbmColor != NULL )

  005b3	83 7d e8 00	 cmp	 DWORD PTR _iconinfo$[ebp+16], 0
  005b7	74 13		 je	 SHORT $L80320

; 415  :         DeleteObject( iconinfo.hbmColor );

  005b9	8b f4		 mov	 esi, esp
  005bb	8b 45 e8	 mov	 eax, DWORD PTR _iconinfo$[ebp+16]
  005be	50		 push	 eax
  005bf	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteObject@4
  005c5	3b f4		 cmp	 esi, esp
  005c7	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80320:

; 416  :     if( hdcScreen != NULL )

  005cc	83 7d 9c 00	 cmp	 DWORD PTR _hdcScreen$[ebp], 0
  005d0	74 15		 je	 SHORT $L80321

; 417  :         ReleaseDC( NULL, hdcScreen );

  005d2	8b f4		 mov	 esi, esp
  005d4	8b 45 9c	 mov	 eax, DWORD PTR _hdcScreen$[ebp]
  005d7	50		 push	 eax
  005d8	6a 00		 push	 0
  005da	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ReleaseDC@8
  005e0	3b f4		 cmp	 esi, esp
  005e2	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80321:

; 418  :     if( hdcColor != NULL )

  005e7	83 7d b4 00	 cmp	 DWORD PTR _hdcColor$[ebp], 0
  005eb	74 13		 je	 SHORT $L80322

; 419  :         DeleteDC( hdcColor );

  005ed	8b f4		 mov	 esi, esp
  005ef	8b 45 b4	 mov	 eax, DWORD PTR _hdcColor$[ebp]
  005f2	50		 push	 eax
  005f3	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteDC@4
  005f9	3b f4		 cmp	 esi, esp
  005fb	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80322:

; 420  :     if( hdcMask != NULL )

  00600	83 7d a8 00	 cmp	 DWORD PTR _hdcMask$[ebp], 0
  00604	74 13		 je	 SHORT $L80323

; 421  :         DeleteDC( hdcMask );

  00606	8b f4		 mov	 esi, esp
  00608	8b 45 a8	 mov	 eax, DWORD PTR _hdcMask$[ebp]
  0060b	50		 push	 eax
  0060c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteDC@4
  00612	3b f4		 cmp	 esi, esp
  00614	e8 00 00 00 00	 call	 __RTC_CheckEsp
$L80323:

; 422  :     SAFE_DELETE_ARRAY( pcrArrayColor );

  00619	83 bd e8 fe ff
	ff 00		 cmp	 DWORD PTR _pcrArrayColor$[ebp], 0
  00620	74 25		 je	 SHORT $L80324
  00622	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _pcrArrayColor$[ebp]
  00628	89 85 bc fd ff
	ff		 mov	 DWORD PTR $T80581[ebp], eax
  0062e	8b 8d bc fd ff
	ff		 mov	 ecx, DWORD PTR $T80581[ebp]
  00634	51		 push	 ecx
  00635	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  0063a	83 c4 04	 add	 esp, 4
  0063d	c7 85 e8 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _pcrArrayColor$[ebp], 0
$L80324:

; 423  :     SAFE_DELETE_ARRAY( pcrArrayMask );

  00647	83 bd dc fe ff
	ff 00		 cmp	 DWORD PTR _pcrArrayMask$[ebp], 0
  0064e	74 25		 je	 SHORT $L80326
  00650	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _pcrArrayMask$[ebp]
  00656	89 85 b0 fd ff
	ff		 mov	 DWORD PTR $T80582[ebp], eax
  0065c	8b 8d b0 fd ff
	ff		 mov	 ecx, DWORD PTR $T80582[ebp]
  00662	51		 push	 ecx
  00663	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00668	83 c4 04	 add	 esp, 4
  0066b	c7 85 dc fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _pcrArrayMask$[ebp], 0
$L80326:

; 424  :     SAFE_RELEASE( pCursorBitmap );

  00675	83 7d c0 00	 cmp	 DWORD PTR _pCursorBitmap$[ebp], 0
  00679	74 1c		 je	 SHORT $L80328
  0067b	8b 45 c0	 mov	 eax, DWORD PTR _pCursorBitmap$[ebp]
  0067e	8b 08		 mov	 ecx, DWORD PTR [eax]
  00680	8b f4		 mov	 esi, esp
  00682	8b 55 c0	 mov	 edx, DWORD PTR _pCursorBitmap$[ebp]
  00685	52		 push	 edx
  00686	ff 51 08	 call	 DWORD PTR [ecx+8]
  00689	3b f4		 cmp	 esi, esp
  0068b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00690	c7 45 c0 00 00
	00 00		 mov	 DWORD PTR _pCursorBitmap$[ebp], 0
$L80328:

; 425  :     return hr;

  00697	8b 45 f4	 mov	 eax, DWORD PTR _hr$[ebp]

; 426  : }

  0069a	52		 push	 edx
  0069b	8b cd		 mov	 ecx, ebp
  0069d	50		 push	 eax
  0069e	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80591
  006a4	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  006a9	58		 pop	 eax
  006aa	5a		 pop	 edx
  006ab	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  006ae	33 4d 04	 xor	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  006b1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  006b6	5f		 pop	 edi
  006b7	5e		 pop	 esi
  006b8	5b		 pop	 ebx
  006b9	81 c4 54 02 00
	00		 add	 esp, 596		; 00000254H
  006bf	3b ec		 cmp	 ebp, esp
  006c1	e8 00 00 00 00	 call	 __RTC_CheckEsp
  006c6	8b e5		 mov	 esp, ebp
  006c8	5d		 pop	 ebp
  006c9	c3		 ret	 0
$L80591:
  006ca	06 00 00 00	 DD	 6
  006ce	00 00 00 00	 DD	 $L80590
$L80590:
  006d2	d8 ff ff ff	 DD	 -40			; ffffffd8H
  006d6	14 00 00 00	 DD	 20			; 00000014H
  006da	00 00 00 00	 DD	 $L80583
  006de	c0 ff ff ff	 DD	 -64			; ffffffc0H
  006e2	04 00 00 00	 DD	 4
  006e6	00 00 00 00	 DD	 $L80584
  006ea	7c ff ff ff	 DD	 -132			; ffffff7cH
  006ee	18 00 00 00	 DD	 24			; 00000018H
  006f2	00 00 00 00	 DD	 $L80585
  006f6	f4 fe ff ff	 DD	 -268			; fffffef4H
  006fa	2c 00 00 00	 DD	 44			; 0000002cH
  006fe	00 00 00 00	 DD	 $L80586
  00702	b4 fe ff ff	 DD	 -332			; fffffeb4H
  00706	08 00 00 00	 DD	 8
  0070a	00 00 00 00	 DD	 $L80587
  0070e	a0 fe ff ff	 DD	 -352			; fffffea0H
  00712	0a 00 00 00	 DD	 10			; 0000000aH
  00716	00 00 00 00	 DD	 $L80588
$L80588:
  0071a	77		 DB	 119			; 00000077H
  0071b	4d		 DB	 77			; 0000004dH
  0071c	61		 DB	 97			; 00000061H
  0071d	73		 DB	 115			; 00000073H
  0071e	6b		 DB	 107			; 0000006bH
  0071f	00		 DB	 0
$L80587:
  00720	6c		 DB	 108			; 0000006cH
  00721	72		 DB	 114			; 00000072H
  00722	00		 DB	 0
$L80586:
  00723	62		 DB	 98			; 00000062H
  00724	6d		 DB	 109			; 0000006dH
  00725	69		 DB	 105			; 00000069H
  00726	00		 DB	 0
$L80585:
  00727	62		 DB	 98			; 00000062H
  00728	6d		 DB	 109			; 0000006dH
  00729	00		 DB	 0
$L80584:
  0072a	70		 DB	 112			; 00000070H
  0072b	43		 DB	 67			; 00000043H
  0072c	75		 DB	 117			; 00000075H
  0072d	72		 DB	 114			; 00000072H
  0072e	73		 DB	 115			; 00000073H
  0072f	6f		 DB	 111			; 0000006fH
  00730	72		 DB	 114			; 00000072H
  00731	42		 DB	 66			; 00000042H
  00732	69		 DB	 105			; 00000069H
  00733	74		 DB	 116			; 00000074H
  00734	6d		 DB	 109			; 0000006dH
  00735	61		 DB	 97			; 00000061H
  00736	70		 DB	 112			; 00000070H
  00737	00		 DB	 0
$L80583:
  00738	69		 DB	 105			; 00000069H
  00739	63		 DB	 99			; 00000063H
  0073a	6f		 DB	 111			; 0000006fH
  0073b	6e		 DB	 110			; 0000006eH
  0073c	69		 DB	 105			; 00000069H
  0073d	6e		 DB	 110			; 0000006eH
  0073e	66		 DB	 102			; 00000066H
  0073f	6f		 DB	 111			; 0000006fH
  00740	00		 DB	 0
?D3DUtil_SetDeviceCursor@@YAJPAUIDirect3DDevice8@@PAUHICON__@@H@Z ENDP ; D3DUtil_SetDeviceCursor
_TEXT	ENDS
PUBLIC	??0CD3DArcBall@@QAE@XZ				; CD3DArcBall::CD3DArcBall
PUBLIC	?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z	; D3DXMatrixIdentity
PUBLIC	?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z ; D3DXQuaternionIdentity
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ??0CD3DArcBall@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0CD3DArcBall@@QAE@XZ PROC NEAR			; CD3DArcBall::CD3DArcBall, COMDAT
; _this$ = ecx

; 477  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	83 c1 10	 add	 ecx, 16			; 00000010H
  00029	e8 00 00 00 00	 call	 ??0D3DXQUATERNION@@QAE@XZ ; D3DXQUATERNION::D3DXQUATERNION
  0002e	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00031	83 c1 20	 add	 ecx, 32			; 00000020H
  00034	e8 00 00 00 00	 call	 ??0D3DXQUATERNION@@QAE@XZ ; D3DXQUATERNION::D3DXQUATERNION
  00039	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003c	83 c1 30	 add	 ecx, 48			; 00000030H
  0003f	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX
  00044	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00047	83 c1 70	 add	 ecx, 112		; 00000070H
  0004a	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX
  0004f	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00052	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  00058	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX
  0005d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00060	81 c1 f0 00 00
	00		 add	 ecx, 240		; 000000f0H
  00066	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX

; 478  :     D3DXQuaternionIdentity( &m_qDown );

  0006b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006e	83 c0 10	 add	 eax, 16			; 00000010H
  00071	50		 push	 eax
  00072	e8 00 00 00 00	 call	 ?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z ; D3DXQuaternionIdentity
  00077	83 c4 04	 add	 esp, 4

; 479  :     D3DXQuaternionIdentity( &m_qNow );

  0007a	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007d	83 c0 20	 add	 eax, 32			; 00000020H
  00080	50		 push	 eax
  00081	e8 00 00 00 00	 call	 ?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z ; D3DXQuaternionIdentity
  00086	83 c4 04	 add	 esp, 4

; 480  :     D3DXMatrixIdentity( &m_matRotation );

  00089	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008c	83 c0 30	 add	 eax, 48			; 00000030H
  0008f	50		 push	 eax
  00090	e8 00 00 00 00	 call	 ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z ; D3DXMatrixIdentity
  00095	83 c4 04	 add	 esp, 4

; 481  : 	D3DXMatrixIdentity( &m_matRotationDelta );

  00098	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0009b	83 c0 70	 add	 eax, 112		; 00000070H
  0009e	50		 push	 eax
  0009f	e8 00 00 00 00	 call	 ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z ; D3DXMatrixIdentity
  000a4	83 c4 04	 add	 esp, 4

; 482  : 	D3DXMatrixIdentity( &m_matTranslation );

  000a7	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000aa	05 b0 00 00 00	 add	 eax, 176		; 000000b0H
  000af	50		 push	 eax
  000b0	e8 00 00 00 00	 call	 ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z ; D3DXMatrixIdentity
  000b5	83 c4 04	 add	 esp, 4

; 483  : 	D3DXMatrixIdentity( &m_matTranslationDelta );

  000b8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000bb	05 f0 00 00 00	 add	 eax, 240		; 000000f0H
  000c0	50		 push	 eax
  000c1	e8 00 00 00 00	 call	 ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z ; D3DXMatrixIdentity
  000c6	83 c4 04	 add	 esp, 4

; 484  :     m_bDrag = FALSE;

  000c9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000cc	c7 80 30 01 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+304], 0

; 485  :     m_fRadiusTranslation = 1.0f;

  000d6	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000d9	c7 40 0c 00 00
	80 3f		 mov	 DWORD PTR [eax+12], 1065353216 ; 3f800000H

; 486  :     m_bRightHanded = FALSE;

  000e0	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e3	c7 80 34 01 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+308], 0

; 487  : }

  000ed	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000f0	5f		 pop	 edi
  000f1	5e		 pop	 esi
  000f2	5b		 pop	 ebx
  000f3	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  000f9	3b ec		 cmp	 ebp, esp
  000fb	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00100	8b e5		 mov	 esp, ebp
  00102	5d		 pop	 ebp
  00103	c3		 ret	 0
??0CD3DArcBall@@QAE@XZ ENDP				; CD3DArcBall::CD3DArcBall
_TEXT	ENDS
PUBLIC	?SetWindow@CD3DArcBall@@QAEXHHM@Z		; CD3DArcBall::SetWindow
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?SetWindow@CD3DArcBall@@QAEXHHM@Z
_TEXT	SEGMENT
_this$ = -8
_iWidth$ = 8
_iHeight$ = 12
_fRadius$ = 16
?SetWindow@CD3DArcBall@@QAEXHHM@Z PROC NEAR		; CD3DArcBall::SetWindow, COMDAT
; _this$ = ecx

; 497  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 498  :     // Set ArcBall info
; 499  :     m_iWidth  = iWidth;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _iWidth$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 500  :     m_iHeight = iHeight;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _iHeight$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 501  :     m_fRadius = fRadius;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fRadius$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 502  : }

  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi
  0003f	5b		 pop	 ebx
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c2 0c 00	 ret	 12			; 0000000cH
?SetWindow@CD3DArcBall@@QAEXHHM@Z ENDP			; CD3DArcBall::SetWindow
_TEXT	ENDS
PUBLIC	?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z ; CD3DArcBall::ScreenToVector
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z
_TEXT	SEGMENT
tv154 = -268
tv144 = -268
_scale$80365 = -68
_mag$ = -56
_z$ = -44
_y$ = -32
_x$ = -20
_this$ = -8
___$ReturnUdt$ = 8
_sx$ = 12
_sy$ = 16
?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z PROC NEAR ; CD3DArcBall::ScreenToVector, COMDAT
; _this$ = ecx

; 512  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 0c 01 00
	00		 sub	 esp, 268		; 0000010cH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd f4 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-268]
  00013	b9 43 00 00 00	 mov	 ecx, 67			; 00000043H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 513  :     // Scale to screen
; 514  :     FLOAT x   = -(sx - m_iWidth/2)  / (m_fRadius*m_iWidth/2);

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 00		 mov	 eax, DWORD PTR [eax]
  00028	99		 cdq
  00029	2b c2		 sub	 eax, edx
  0002b	d1 f8		 sar	 eax, 1
  0002d	8b 4d 0c	 mov	 ecx, DWORD PTR _sx$[ebp]
  00030	2b c8		 sub	 ecx, eax
  00032	f7 d9		 neg	 ecx
  00034	89 8d f4 fe ff
	ff		 mov	 DWORD PTR tv144[ebp], ecx
  0003a	db 85 f4 fe ff
	ff		 fild	 DWORD PTR tv144[ebp]
  00040	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00043	db 02		 fild	 DWORD PTR [edx]
  00045	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00048	d8 48 08	 fmul	 DWORD PTR [eax+8]
  0004b	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@40000000
  00051	de f9		 fdivp	 ST(1), ST(0)
  00053	d9 5d ec	 fstp	 DWORD PTR _x$[ebp]

; 515  :     FLOAT y   =  (sy - m_iHeight/2) / (m_fRadius*m_iHeight/2);

  00056	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00059	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  0005c	99		 cdq
  0005d	2b c2		 sub	 eax, edx
  0005f	d1 f8		 sar	 eax, 1
  00061	8b 4d 10	 mov	 ecx, DWORD PTR _sy$[ebp]
  00064	2b c8		 sub	 ecx, eax
  00066	89 8d f4 fe ff
	ff		 mov	 DWORD PTR tv154[ebp], ecx
  0006c	db 85 f4 fe ff
	ff		 fild	 DWORD PTR tv154[ebp]
  00072	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00075	db 42 04	 fild	 DWORD PTR [edx+4]
  00078	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0007b	d8 48 08	 fmul	 DWORD PTR [eax+8]
  0007e	d8 35 00 00 00
	00		 fdiv	 DWORD PTR __real@40000000
  00084	de f9		 fdivp	 ST(1), ST(0)
  00086	d9 5d e0	 fstp	 DWORD PTR _y$[ebp]

; 516  : 
; 517  :     if( m_bRightHanded )

  00089	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0008c	83 b8 34 01 00
	00 00		 cmp	 DWORD PTR [eax+308], 0
  00093	74 10		 je	 SHORT $L80361

; 518  :     {
; 519  :         x = -x;

  00095	d9 45 ec	 fld	 DWORD PTR _x$[ebp]
  00098	d9 e0		 fchs
  0009a	d9 5d ec	 fstp	 DWORD PTR _x$[ebp]

; 520  :         y = -y;

  0009d	d9 45 e0	 fld	 DWORD PTR _y$[ebp]
  000a0	d9 e0		 fchs
  000a2	d9 5d e0	 fstp	 DWORD PTR _y$[ebp]
$L80361:

; 521  :     }
; 522  : 
; 523  :     FLOAT z   = 0.0f;

  000a5	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _z$[ebp], 0

; 524  :     FLOAT mag = x*x + y*y;

  000ac	d9 45 ec	 fld	 DWORD PTR _x$[ebp]
  000af	d8 4d ec	 fmul	 DWORD PTR _x$[ebp]
  000b2	d9 45 e0	 fld	 DWORD PTR _y$[ebp]
  000b5	d8 4d e0	 fmul	 DWORD PTR _y$[ebp]
  000b8	de c1		 faddp	 ST(1), ST(0)
  000ba	d9 5d c8	 fstp	 DWORD PTR _mag$[ebp]

; 525  : 
; 526  :     if( mag > 1.0f )

  000bd	d9 45 c8	 fld	 DWORD PTR _mag$[ebp]
  000c0	d8 1d 00 00 00
	00		 fcomp	 DWORD PTR __real@3f800000
  000c6	df e0		 fnstsw	 ax
  000c8	f6 c4 41	 test	 ah, 65			; 00000041H
  000cb	75 29		 jne	 SHORT $L80364

; 527  :     {
; 528  :         FLOAT scale = 1.0f/sqrtf(mag);

  000cd	8b 45 c8	 mov	 eax, DWORD PTR _mag$[ebp]
  000d0	50		 push	 eax
  000d1	e8 00 00 00 00	 call	 _sqrtf
  000d6	83 c4 04	 add	 esp, 4
  000d9	d8 3d 00 00 00
	00		 fdivr	 DWORD PTR __real@3f800000
  000df	d9 5d bc	 fstp	 DWORD PTR _scale$80365[ebp]

; 529  :         x *= scale;

  000e2	d9 45 ec	 fld	 DWORD PTR _x$[ebp]
  000e5	d8 4d bc	 fmul	 DWORD PTR _scale$80365[ebp]
  000e8	d9 5d ec	 fstp	 DWORD PTR _x$[ebp]

; 530  :         y *= scale;

  000eb	d9 45 e0	 fld	 DWORD PTR _y$[ebp]
  000ee	d8 4d bc	 fmul	 DWORD PTR _scale$80365[ebp]
  000f1	d9 5d e0	 fstp	 DWORD PTR _y$[ebp]

; 531  :     }
; 532  :     else

  000f4	eb 18		 jmp	 SHORT $L80366
$L80364:

; 533  :         z = sqrtf( 1.0f - mag );

  000f6	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@3f800000
  000fc	d8 65 c8	 fsub	 DWORD PTR _mag$[ebp]
  000ff	51		 push	 ecx
  00100	d9 1c 24	 fstp	 DWORD PTR [esp]
  00103	e8 00 00 00 00	 call	 _sqrtf
  00108	83 c4 04	 add	 esp, 4
  0010b	d9 5d d4	 fstp	 DWORD PTR _z$[ebp]
$L80366:

; 534  : 
; 535  :     // Return vector
; 536  :     return D3DXVECTOR3( x, y, z );

  0010e	8b 45 d4	 mov	 eax, DWORD PTR _z$[ebp]
  00111	50		 push	 eax
  00112	8b 4d e0	 mov	 ecx, DWORD PTR _y$[ebp]
  00115	51		 push	 ecx
  00116	8b 55 ec	 mov	 edx, DWORD PTR _x$[ebp]
  00119	52		 push	 edx
  0011a	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  0011d	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00122	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]

; 537  : }

  00125	5f		 pop	 edi
  00126	5e		 pop	 esi
  00127	5b		 pop	 ebx
  00128	81 c4 0c 01 00
	00		 add	 esp, 268		; 0000010cH
  0012e	3b ec		 cmp	 ebp, esp
  00130	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00135	8b e5		 mov	 esp, ebp
  00137	5d		 pop	 ebp
  00138	c2 0c 00	 ret	 12			; 0000000cH
?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z ENDP ; CD3DArcBall::ScreenToVector
_TEXT	ENDS
PUBLIC	?SetRadius@CD3DArcBall@@QAEXM@Z			; CD3DArcBall::SetRadius
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?SetRadius@CD3DArcBall@@QAEXM@Z
_TEXT	SEGMENT
_this$ = -8
_fRadius$ = 8
?SetRadius@CD3DArcBall@@QAEXM@Z PROC NEAR		; CD3DArcBall::SetRadius, COMDAT
; _this$ = ecx

; 547  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 548  :     m_fRadiusTranslation = fRadius;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fRadius$[ebp]
  00029	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 549  : }

  0002c	5f		 pop	 edi
  0002d	5e		 pop	 esi
  0002e	5b		 pop	 ebx
  0002f	8b e5		 mov	 esp, ebp
  00031	5d		 pop	 ebp
  00032	c2 04 00	 ret	 4
?SetRadius@CD3DArcBall@@QAEXM@Z ENDP			; CD3DArcBall::SetRadius
_TEXT	ENDS
PUBLIC	?HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z ; CD3DArcBall::HandleMouseMessages
PUBLIC	??XD3DXQUATERNION@@QAEAAU0@ABU0@@Z		; D3DXQUATERNION::operator*=
PUBLIC	?D3DXQuaternionAxisToAxis@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z ; D3DXQuaternionAxisToAxis
PUBLIC	__real@c0000000
PUBLIC	__real@40a00000
EXTRN	_D3DXMatrixMultiply@12:NEAR
EXTRN	_D3DXMatrixTranslation@16:NEAR
EXTRN	_D3DXMatrixRotationQuaternion@8:NEAR
_BSS	SEGMENT
?iCurMouseX@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA DD 01H DUP (?) ; `CD3DArcBall::HandleMouseMessages'::`2'::iCurMouseX
?iCurMouseY@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA DD 01H DUP (?) ; `CD3DArcBall::HandleMouseMessages'::`2'::iCurMouseY
?s_vDown@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4UD3DXVECTOR3@@A DB 0cH DUP (?) ; `CD3DArcBall::HandleMouseMessages'::`2'::s_vDown
?$S1@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4IA DD 01H DUP (?) ; `CD3DArcBall::HandleMouseMessages'::`2'::$S1
_BSS	ENDS
;	COMDAT __real@c0000000
CONST	SEGMENT
__real@c0000000 DD 0c0000000r			; -2
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
; Function compile flags: /Odt /RTCsu /ZI
CONST	ENDS
;	COMDAT ?HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
tv270 = -320
tv266 = -320
tv74 = -320
$T80602 = -312
_fDeltaY$80413 = -100
_fDeltaX$80412 = -88
_qAxisToAxis$80407 = -76
_vCur$80405 = -52
_iMouseY$ = -32
_iMouseX$ = -20
_this$ = -8
_hWnd$ = 8
_uMsg$ = 12
_wParam$ = 16
_lParam$ = 20
?HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z PROC NEAR ; CD3DArcBall::HandleMouseMessages, COMDAT
; _this$ = ecx

; 560  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 40 01 00
	00		 sub	 esp, 320		; 00000140H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd c0 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-320]
  00013	b9 50 00 00 00	 mov	 ecx, 80			; 00000050H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 561  :     static int         iCurMouseX;      // Saved mouse position
; 562  :     static int         iCurMouseY;
; 563  :     static D3DXVECTOR3 s_vDown;         // Button down vector

  00023	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$S1@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4IA
  00028	83 e0 01	 and	 eax, 1
  0002b	85 c0		 test	 eax, eax
  0002d	75 17		 jne	 SHORT $L80387
  0002f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$S1@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4IA
  00034	83 c8 01	 or	 eax, 1
  00037	a3 00 00 00 00	 mov	 DWORD PTR ?$S1@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4IA, eax
  0003c	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?s_vDown@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4UD3DXVECTOR3@@A
  00041	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
$L80387:

; 564  : 
; 565  :     // Current mouse position
; 566  :     int iMouseX = LOWORD(lParam);

  00046	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00049	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0004e	0f b7 c8	 movzx	 ecx, ax
  00051	89 4d ec	 mov	 DWORD PTR _iMouseX$[ebp], ecx

; 567  :     int iMouseY = HIWORD(lParam);

  00054	8b 45 14	 mov	 eax, DWORD PTR _lParam$[ebp]
  00057	c1 e8 10	 shr	 eax, 16			; 00000010H
  0005a	0f b7 c8	 movzx	 ecx, ax
  0005d	89 4d e0	 mov	 DWORD PTR _iMouseY$[ebp], ecx

; 568  : 
; 569  :     switch( uMsg )
; 570  :     {

  00060	8b 45 0c	 mov	 eax, DWORD PTR _uMsg$[ebp]
  00063	89 85 c0 fe ff
	ff		 mov	 DWORD PTR tv74[ebp], eax
  00069	8b 8d c0 fe ff
	ff		 mov	 ecx, DWORD PTR tv74[ebp]
  0006f	81 e9 00 02 00
	00		 sub	 ecx, 512		; 00000200H
  00075	89 8d c0 fe ff
	ff		 mov	 DWORD PTR tv74[ebp], ecx
  0007b	83 bd c0 fe ff
	ff 07		 cmp	 DWORD PTR tv74[ebp], 7
  00082	0f 87 73 02 00
	00		 ja	 $L80395
  00088	8b 95 c0 fe ff
	ff		 mov	 edx, DWORD PTR tv74[ebp]
  0008e	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L80611[edx*4]
$L80398:

; 571  :         case WM_RBUTTONDOWN:
; 572  :         case WM_MBUTTONDOWN:
; 573  :             // Store off the position of the cursor when the button is pressed
; 574  :             iCurMouseX = iMouseX;

  00095	8b 45 ec	 mov	 eax, DWORD PTR _iMouseX$[ebp]
  00098	a3 00 00 00 00	 mov	 DWORD PTR ?iCurMouseX@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA, eax

; 575  :             iCurMouseY = iMouseY;

  0009d	8b 45 e0	 mov	 eax, DWORD PTR _iMouseY$[ebp]
  000a0	a3 00 00 00 00	 mov	 DWORD PTR ?iCurMouseY@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA, eax

; 576  :             return TRUE;

  000a5	b8 01 00 00 00	 mov	 eax, 1
  000aa	e9 4e 02 00 00	 jmp	 $L80378
$L80399:

; 577  : 
; 578  :         case WM_LBUTTONDOWN:
; 579  :             // Start drag mode
; 580  :             m_bDrag = TRUE;

  000af	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000b2	c7 80 30 01 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+304], 1

; 581  :             s_vDown = ScreenToVector( iMouseX, iMouseY );

  000bc	8b 45 e0	 mov	 eax, DWORD PTR _iMouseY$[ebp]
  000bf	50		 push	 eax
  000c0	8b 4d ec	 mov	 ecx, DWORD PTR _iMouseX$[ebp]
  000c3	51		 push	 ecx
  000c4	8d 95 c8 fe ff
	ff		 lea	 edx, DWORD PTR $T80602[ebp]
  000ca	52		 push	 edx
  000cb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000ce	e8 00 00 00 00	 call	 ?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z ; CD3DArcBall::ScreenToVector
  000d3	8b 08		 mov	 ecx, DWORD PTR [eax]
  000d5	89 0d 00 00 00
	00		 mov	 DWORD PTR ?s_vDown@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4UD3DXVECTOR3@@A, ecx
  000db	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000de	89 15 04 00 00
	00		 mov	 DWORD PTR ?s_vDown@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4UD3DXVECTOR3@@A+4, edx
  000e4	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  000e7	a3 08 00 00 00	 mov	 DWORD PTR ?s_vDown@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4UD3DXVECTOR3@@A+8, eax

; 582  :             m_qDown = m_qNow;

  000ec	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ef	83 c0 20	 add	 eax, 32			; 00000020H
  000f2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000f5	83 c1 10	 add	 ecx, 16			; 00000010H
  000f8	8b 10		 mov	 edx, DWORD PTR [eax]
  000fa	89 11		 mov	 DWORD PTR [ecx], edx
  000fc	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  000ff	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00102	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00105	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  00108	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  0010b	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 583  :             return TRUE;

  0010e	b8 01 00 00 00	 mov	 eax, 1
  00113	e9 e5 01 00 00	 jmp	 $L80378
$L80401:

; 584  : 
; 585  :         case WM_LBUTTONUP:
; 586  :             // End drag mode
; 587  :             m_bDrag = FALSE;

  00118	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0011b	c7 80 30 01 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+304], 0

; 588  :             return TRUE;

  00125	b8 01 00 00 00	 mov	 eax, 1
  0012a	e9 ce 01 00 00	 jmp	 $L80378
$L80402:

; 589  : 
; 590  :         case WM_MOUSEMOVE:
; 591  :             // Drag object
; 592  :             if( MK_LBUTTON&wParam )

  0012f	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  00132	83 e0 01	 and	 eax, 1
  00135	85 c0		 test	 eax, eax
  00137	0f 84 b1 00 00
	00		 je	 $L80403

; 593  :             {
; 594  :                 if( m_bDrag )

  0013d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00140	83 b8 30 01 00
	00 00		 cmp	 DWORD PTR [eax+304], 0
  00147	74 71		 je	 SHORT $L80404

; 595  :                 {
; 596  :                     // recompute m_qNow
; 597  :                     D3DXVECTOR3 vCur = ScreenToVector( iMouseX, iMouseY );

  00149	8b 45 e0	 mov	 eax, DWORD PTR _iMouseY$[ebp]
  0014c	50		 push	 eax
  0014d	8b 4d ec	 mov	 ecx, DWORD PTR _iMouseX$[ebp]
  00150	51		 push	 ecx
  00151	8d 55 cc	 lea	 edx, DWORD PTR _vCur$80405[ebp]
  00154	52		 push	 edx
  00155	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00158	e8 00 00 00 00	 call	 ?ScreenToVector@CD3DArcBall@@AAE?AUD3DXVECTOR3@@HH@Z ; CD3DArcBall::ScreenToVector

; 598  :                     D3DXQUATERNION qAxisToAxis;

  0015d	8d 4d b4	 lea	 ecx, DWORD PTR _qAxisToAxis$80407[ebp]
  00160	e8 00 00 00 00	 call	 ??0D3DXQUATERNION@@QAE@XZ ; D3DXQUATERNION::D3DXQUATERNION

; 599  :                     D3DXQuaternionAxisToAxis(&qAxisToAxis, &s_vDown, &vCur);

  00165	8d 45 cc	 lea	 eax, DWORD PTR _vCur$80405[ebp]
  00168	50		 push	 eax
  00169	68 00 00 00 00	 push	 OFFSET FLAT:?s_vDown@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4UD3DXVECTOR3@@A
  0016e	8d 4d b4	 lea	 ecx, DWORD PTR _qAxisToAxis$80407[ebp]
  00171	51		 push	 ecx
  00172	e8 00 00 00 00	 call	 ?D3DXQuaternionAxisToAxis@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z ; D3DXQuaternionAxisToAxis

; 600  :                     m_qNow = m_qDown;

  00177	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0017a	83 c0 10	 add	 eax, 16			; 00000010H
  0017d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00180	83 c1 20	 add	 ecx, 32			; 00000020H
  00183	8b 10		 mov	 edx, DWORD PTR [eax]
  00185	89 11		 mov	 DWORD PTR [ecx], edx
  00187	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  0018a	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  0018d	8b 50 08	 mov	 edx, DWORD PTR [eax+8]
  00190	89 51 08	 mov	 DWORD PTR [ecx+8], edx
  00193	8b 40 0c	 mov	 eax, DWORD PTR [eax+12]
  00196	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 601  :                     m_qNow *= qAxisToAxis;

  00199	8d 45 b4	 lea	 eax, DWORD PTR _qAxisToAxis$80407[ebp]
  0019c	50		 push	 eax
  0019d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001a0	83 c1 20	 add	 ecx, 32			; 00000020H
  001a3	e8 00 00 00 00	 call	 ??XD3DXQUATERNION@@QAEAAU0@ABU0@@Z ; D3DXQUATERNION::operator*=

; 602  :                     D3DXMatrixRotationQuaternion(&m_matRotationDelta, &qAxisToAxis);

  001a8	8d 45 b4	 lea	 eax, DWORD PTR _qAxisToAxis$80407[ebp]
  001ab	50		 push	 eax
  001ac	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001af	83 c1 70	 add	 ecx, 112		; 00000070H
  001b2	51		 push	 ecx
  001b3	e8 00 00 00 00	 call	 _D3DXMatrixRotationQuaternion@8

; 603  :                 }
; 604  :                 else

  001b8	eb 0f		 jmp	 SHORT $L80408
$L80404:

; 605  :                     D3DXMatrixIdentity( &m_matRotationDelta );

  001ba	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001bd	83 c0 70	 add	 eax, 112		; 00000070H
  001c0	50		 push	 eax
  001c1	e8 00 00 00 00	 call	 ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z ; D3DXMatrixIdentity
  001c6	83 c4 04	 add	 esp, 4
$L80408:

; 606  :                 D3DXMatrixRotationQuaternion(&m_matRotation, &m_qNow);

  001c9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001cc	83 c0 20	 add	 eax, 32			; 00000020H
  001cf	50		 push	 eax
  001d0	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d3	83 c1 30	 add	 ecx, 48			; 00000030H
  001d6	51		 push	 ecx
  001d7	e8 00 00 00 00	 call	 _D3DXMatrixRotationQuaternion@8

; 607  :                 m_bDrag = TRUE;

  001dc	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  001df	c7 80 30 01 00
	00 01 00 00 00	 mov	 DWORD PTR [eax+304], 1

; 608  :             }
; 609  :             else if( (MK_RBUTTON&wParam) || (MK_MBUTTON&wParam) )

  001e9	e9 06 01 00 00	 jmp	 $L80409
$L80403:
  001ee	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  001f1	83 e0 02	 and	 eax, 2
  001f4	85 c0		 test	 eax, eax
  001f6	75 0e		 jne	 SHORT $L80411
  001f8	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  001fb	83 e0 10	 and	 eax, 16			; 00000010H
  001fe	85 c0		 test	 eax, eax
  00200	0f 84 ee 00 00
	00		 je	 $L80409
$L80411:

; 610  :             {
; 611  :                 // Normalize based on size of window and bounding sphere radius
; 612  :                 FLOAT fDeltaX = ( iCurMouseX-iMouseX ) * m_fRadiusTranslation / m_iWidth;

  00206	a1 00 00 00 00	 mov	 eax, DWORD PTR ?iCurMouseX@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA
  0020b	2b 45 ec	 sub	 eax, DWORD PTR _iMouseX$[ebp]
  0020e	89 85 c0 fe ff
	ff		 mov	 DWORD PTR tv266[ebp], eax
  00214	db 85 c0 fe ff
	ff		 fild	 DWORD PTR tv266[ebp]
  0021a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0021d	d8 49 0c	 fmul	 DWORD PTR [ecx+12]
  00220	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00223	da 32		 fidiv	 DWORD PTR [edx]
  00225	d9 5d a8	 fstp	 DWORD PTR _fDeltaX$80412[ebp]

; 613  :                 FLOAT fDeltaY = ( iCurMouseY-iMouseY ) * m_fRadiusTranslation / m_iHeight;

  00228	a1 00 00 00 00	 mov	 eax, DWORD PTR ?iCurMouseY@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA
  0022d	2b 45 e0	 sub	 eax, DWORD PTR _iMouseY$[ebp]
  00230	89 85 c0 fe ff
	ff		 mov	 DWORD PTR tv270[ebp], eax
  00236	db 85 c0 fe ff
	ff		 fild	 DWORD PTR tv270[ebp]
  0023c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0023f	d8 49 0c	 fmul	 DWORD PTR [ecx+12]
  00242	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00245	da 72 04	 fidiv	 DWORD PTR [edx+4]
  00248	d9 5d 9c	 fstp	 DWORD PTR _fDeltaY$80413[ebp]

; 614  : 
; 615  :                 if( wParam & MK_RBUTTON )

  0024b	8b 45 10	 mov	 eax, DWORD PTR _wParam$[ebp]
  0024e	83 e0 02	 and	 eax, 2
  00251	85 c0		 test	 eax, eax
  00253	74 4e		 je	 SHORT $L80414

; 616  :                 {
; 617  :                     D3DXMatrixTranslation( &m_matTranslationDelta, -2*fDeltaX, 2*fDeltaY, 0.0f );

  00255	6a 00		 push	 0
  00257	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40000000
  0025d	d8 4d 9c	 fmul	 DWORD PTR _fDeltaY$80413[ebp]
  00260	51		 push	 ecx
  00261	d9 1c 24	 fstp	 DWORD PTR [esp]
  00264	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@c0000000
  0026a	d8 4d a8	 fmul	 DWORD PTR _fDeltaX$80412[ebp]
  0026d	51		 push	 ecx
  0026e	d9 1c 24	 fstp	 DWORD PTR [esp]
  00271	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00274	05 f0 00 00 00	 add	 eax, 240		; 000000f0H
  00279	50		 push	 eax
  0027a	e8 00 00 00 00	 call	 _D3DXMatrixTranslation@16

; 618  :                     D3DXMatrixMultiply( &m_matTranslation, &m_matTranslation, &m_matTranslationDelta );

  0027f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00282	05 f0 00 00 00	 add	 eax, 240		; 000000f0H
  00287	50		 push	 eax
  00288	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0028b	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  00291	51		 push	 ecx
  00292	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00295	81 c2 b0 00 00
	00		 add	 edx, 176		; 000000b0H
  0029b	52		 push	 edx
  0029c	e8 00 00 00 00	 call	 _D3DXMatrixMultiply@12

; 619  :                 }
; 620  :                 else  // wParam & MK_MBUTTON

  002a1	eb 41		 jmp	 SHORT $L80415
$L80414:

; 621  :                 {
; 622  :                     D3DXMatrixTranslation( &m_matTranslationDelta, 0.0f, 0.0f, 5*fDeltaY );

  002a3	d9 05 00 00 00
	00		 fld	 DWORD PTR __real@40a00000
  002a9	d8 4d 9c	 fmul	 DWORD PTR _fDeltaY$80413[ebp]
  002ac	51		 push	 ecx
  002ad	d9 1c 24	 fstp	 DWORD PTR [esp]
  002b0	6a 00		 push	 0
  002b2	6a 00		 push	 0
  002b4	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002b7	05 f0 00 00 00	 add	 eax, 240		; 000000f0H
  002bc	50		 push	 eax
  002bd	e8 00 00 00 00	 call	 _D3DXMatrixTranslation@16

; 623  :                     D3DXMatrixMultiply( &m_matTranslation, &m_matTranslation, &m_matTranslationDelta );

  002c2	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  002c5	05 f0 00 00 00	 add	 eax, 240		; 000000f0H
  002ca	50		 push	 eax
  002cb	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  002ce	81 c1 b0 00 00
	00		 add	 ecx, 176		; 000000b0H
  002d4	51		 push	 ecx
  002d5	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  002d8	81 c2 b0 00 00
	00		 add	 edx, 176		; 000000b0H
  002de	52		 push	 edx
  002df	e8 00 00 00 00	 call	 _D3DXMatrixMultiply@12
$L80415:

; 624  :                 }
; 625  : 
; 626  :                 // Store mouse coordinate
; 627  :                 iCurMouseX = iMouseX;

  002e4	8b 45 ec	 mov	 eax, DWORD PTR _iMouseX$[ebp]
  002e7	a3 00 00 00 00	 mov	 DWORD PTR ?iCurMouseX@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA, eax

; 628  :                 iCurMouseY = iMouseY;

  002ec	8b 45 e0	 mov	 eax, DWORD PTR _iMouseY$[ebp]
  002ef	a3 00 00 00 00	 mov	 DWORD PTR ?iCurMouseY@?1??HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z@4HA, eax
$L80409:

; 629  :             }
; 630  :             return TRUE;

  002f4	b8 01 00 00 00	 mov	 eax, 1
  002f9	eb 02		 jmp	 SHORT $L80378
$L80395:

; 631  :     }
; 632  : 
; 633  :     return FALSE;

  002fb	33 c0		 xor	 eax, eax
$L80378:

; 634  : }

  002fd	52		 push	 edx
  002fe	8b cd		 mov	 ecx, ebp
  00300	50		 push	 eax
  00301	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80610
  00307	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0030c	58		 pop	 eax
  0030d	5a		 pop	 edx
  0030e	5f		 pop	 edi
  0030f	5e		 pop	 esi
  00310	5b		 pop	 ebx
  00311	81 c4 40 01 00
	00		 add	 esp, 320		; 00000140H
  00317	3b ec		 cmp	 ebp, esp
  00319	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0031e	8b e5		 mov	 esp, ebp
  00320	5d		 pop	 ebp
  00321	c2 10 00	 ret	 16			; 00000010H
$L80610:
  00324	02 00 00 00	 DD	 2
  00328	00 00 00 00	 DD	 $L80609
$L80609:
  0032c	cc ff ff ff	 DD	 -52			; ffffffccH
  00330	0c 00 00 00	 DD	 12			; 0000000cH
  00334	00 00 00 00	 DD	 $L80607
  00338	b4 ff ff ff	 DD	 -76			; ffffffb4H
  0033c	10 00 00 00	 DD	 16			; 00000010H
  00340	00 00 00 00	 DD	 $L80608
$L80608:
  00344	71		 DB	 113			; 00000071H
  00345	41		 DB	 65			; 00000041H
  00346	78		 DB	 120			; 00000078H
  00347	69		 DB	 105			; 00000069H
  00348	73		 DB	 115			; 00000073H
  00349	54		 DB	 84			; 00000054H
  0034a	6f		 DB	 111			; 0000006fH
  0034b	41		 DB	 65			; 00000041H
  0034c	78		 DB	 120			; 00000078H
  0034d	69		 DB	 105			; 00000069H
  0034e	73		 DB	 115			; 00000073H
  0034f	00		 DB	 0
$L80607:
  00350	76		 DB	 118			; 00000076H
  00351	43		 DB	 67			; 00000043H
  00352	75		 DB	 117			; 00000075H
  00353	72		 DB	 114			; 00000072H
  00354	00		 DB	 0
$L80611:
  00355	00 00 00 00	 DD	 $L80402
  00359	00 00 00 00	 DD	 $L80399
  0035d	00 00 00 00	 DD	 $L80401
  00361	00 00 00 00	 DD	 $L80395
  00365	00 00 00 00	 DD	 $L80398
  00369	00 00 00 00	 DD	 $L80395
  0036d	00 00 00 00	 DD	 $L80395
  00371	00 00 00 00	 DD	 $L80398
?HandleMouseMessages@CD3DArcBall@@QAEJPAUHWND__@@IIJ@Z ENDP ; CD3DArcBall::HandleMouseMessages
_TEXT	ENDS
PUBLIC	?D3DXQuaternionUnitAxisToUnitAxis2@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z ; D3DXQuaternionUnitAxisToUnitAxis2
PUBLIC	??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z			; D3DXVECTOR3::operator+
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DXQuaternionAxisToAxis@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z
_TEXT	SEGMENT
_vHalf$ = -56
_vB$ = -36
_vA$ = -16
_pOut$ = 8
_pvFrom$ = 12
_pvTo$ = 16
?D3DXQuaternionAxisToAxis@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z PROC NEAR ; D3DXQuaternionAxisToAxis, COMDAT

; 460  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec fc 00 00
	00		 sub	 esp, 252		; 000000fcH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 04 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-252]
  00012	b9 3f 00 00 00	 mov	 ecx, 63			; 0000003fH
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 461  :     D3DXVECTOR3 vA, vB;

  0001e	8d 4d f0	 lea	 ecx, DWORD PTR _vA$[ebp]
  00021	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  00026	8d 4d dc	 lea	 ecx, DWORD PTR _vB$[ebp]
  00029	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 462  :     D3DXVec3Normalize(&vA, pvFrom);

  0002e	8b 45 0c	 mov	 eax, DWORD PTR _pvFrom$[ebp]
  00031	50		 push	 eax
  00032	8d 4d f0	 lea	 ecx, DWORD PTR _vA$[ebp]
  00035	51		 push	 ecx
  00036	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 463  :     D3DXVec3Normalize(&vB, pvTo);

  0003b	8b 45 10	 mov	 eax, DWORD PTR _pvTo$[ebp]
  0003e	50		 push	 eax
  0003f	8d 4d dc	 lea	 ecx, DWORD PTR _vB$[ebp]
  00042	51		 push	 ecx
  00043	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 464  :     D3DXVECTOR3 vHalf(vA + vB);

  00048	8d 45 dc	 lea	 eax, DWORD PTR _vB$[ebp]
  0004b	50		 push	 eax
  0004c	8d 4d c8	 lea	 ecx, DWORD PTR _vHalf$[ebp]
  0004f	51		 push	 ecx
  00050	8d 4d f0	 lea	 ecx, DWORD PTR _vA$[ebp]
  00053	e8 00 00 00 00	 call	 ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z ; D3DXVECTOR3::operator+

; 465  :     D3DXVec3Normalize(&vHalf, &vHalf);

  00058	8d 45 c8	 lea	 eax, DWORD PTR _vHalf$[ebp]
  0005b	50		 push	 eax
  0005c	8d 4d c8	 lea	 ecx, DWORD PTR _vHalf$[ebp]
  0005f	51		 push	 ecx
  00060	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 466  :     return D3DXQuaternionUnitAxisToUnitAxis2(pOut, &vA, &vHalf);

  00065	8d 45 c8	 lea	 eax, DWORD PTR _vHalf$[ebp]
  00068	50		 push	 eax
  00069	8d 4d f0	 lea	 ecx, DWORD PTR _vA$[ebp]
  0006c	51		 push	 ecx
  0006d	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  00070	52		 push	 edx
  00071	e8 00 00 00 00	 call	 ?D3DXQuaternionUnitAxisToUnitAxis2@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z ; D3DXQuaternionUnitAxisToUnitAxis2

; 467  : }

  00076	52		 push	 edx
  00077	8b cd		 mov	 ecx, ebp
  00079	50		 push	 eax
  0007a	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80618
  00080	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  00085	58		 pop	 eax
  00086	5a		 pop	 edx
  00087	5f		 pop	 edi
  00088	5e		 pop	 esi
  00089	5b		 pop	 ebx
  0008a	81 c4 fc 00 00
	00		 add	 esp, 252		; 000000fcH
  00090	3b ec		 cmp	 ebp, esp
  00092	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00097	8b e5		 mov	 esp, ebp
  00099	5d		 pop	 ebp
  0009a	c2 0c 00	 ret	 12			; 0000000cH
$L80618:
  0009d	03 00 00 00	 DD	 3
  000a1	00 00 00 00	 DD	 $L80617
$L80617:
  000a5	f0 ff ff ff	 DD	 -16			; fffffff0H
  000a9	0c 00 00 00	 DD	 12			; 0000000cH
  000ad	00 00 00 00	 DD	 $L80614
  000b1	dc ff ff ff	 DD	 -36			; ffffffdcH
  000b5	0c 00 00 00	 DD	 12			; 0000000cH
  000b9	00 00 00 00	 DD	 $L80615
  000bd	c8 ff ff ff	 DD	 -56			; ffffffc8H
  000c1	0c 00 00 00	 DD	 12			; 0000000cH
  000c5	00 00 00 00	 DD	 $L80616
$L80616:
  000c9	76		 DB	 118			; 00000076H
  000ca	48		 DB	 72			; 00000048H
  000cb	61		 DB	 97			; 00000061H
  000cc	6c		 DB	 108			; 0000006cH
  000cd	66		 DB	 102			; 00000066H
  000ce	00		 DB	 0
$L80615:
  000cf	76		 DB	 118			; 00000076H
  000d0	42		 DB	 66			; 00000042H
  000d1	00		 DB	 0
$L80614:
  000d2	76		 DB	 118			; 00000076H
  000d3	41		 DB	 65			; 00000041H
  000d4	00		 DB	 0
?D3DXQuaternionAxisToAxis@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z ENDP ; D3DXQuaternionAxisToAxis
_TEXT	ENDS
PUBLIC	?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z		; D3DXVec3Dot
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?D3DXQuaternionUnitAxisToUnitAxis2@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z
_TEXT	SEGMENT
_vAxis$ = -16
_pOut$ = 8
_pvFrom$ = 12
_pvTo$ = 16
?D3DXQuaternionUnitAxisToUnitAxis2@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z PROC NEAR ; D3DXQuaternionUnitAxisToUnitAxis2, COMDAT

; 439  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 2c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-212]
  00012	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 440  :     D3DXVECTOR3 vAxis;

  0001e	8d 4d f0	 lea	 ecx, DWORD PTR _vAxis$[ebp]
  00021	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 441  :     D3DXVec3Cross(&vAxis, pvFrom, pvTo);    // proportional to sin(theta)

  00026	8b 45 10	 mov	 eax, DWORD PTR _pvTo$[ebp]
  00029	50		 push	 eax
  0002a	8b 4d 0c	 mov	 ecx, DWORD PTR _pvFrom$[ebp]
  0002d	51		 push	 ecx
  0002e	8d 55 f0	 lea	 edx, DWORD PTR _vAxis$[ebp]
  00031	52		 push	 edx
  00032	e8 00 00 00 00	 call	 ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z ; D3DXVec3Cross
  00037	83 c4 0c	 add	 esp, 12			; 0000000cH

; 442  :     pOut->x = vAxis.x;

  0003a	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0003d	8b 4d f0	 mov	 ecx, DWORD PTR _vAxis$[ebp]
  00040	89 08		 mov	 DWORD PTR [eax], ecx

; 443  :     pOut->y = vAxis.y;

  00042	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00045	8b 4d f4	 mov	 ecx, DWORD PTR _vAxis$[ebp+4]
  00048	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 444  :     pOut->z = vAxis.z;

  0004b	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0004e	8b 4d f8	 mov	 ecx, DWORD PTR _vAxis$[ebp+8]
  00051	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 445  :     pOut->w = D3DXVec3Dot( pvFrom, pvTo );

  00054	8b 45 10	 mov	 eax, DWORD PTR _pvTo$[ebp]
  00057	50		 push	 eax
  00058	8b 4d 0c	 mov	 ecx, DWORD PTR _pvFrom$[ebp]
  0005b	51		 push	 ecx
  0005c	e8 00 00 00 00	 call	 ?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z ; D3DXVec3Dot
  00061	83 c4 08	 add	 esp, 8
  00064	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  00067	d9 5a 0c	 fstp	 DWORD PTR [edx+12]

; 446  :     return pOut;

  0006a	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]

; 447  : }

  0006d	52		 push	 edx
  0006e	8b cd		 mov	 ecx, ebp
  00070	50		 push	 eax
  00071	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80623
  00077	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0007c	58		 pop	 eax
  0007d	5a		 pop	 edx
  0007e	5f		 pop	 edi
  0007f	5e		 pop	 esi
  00080	5b		 pop	 ebx
  00081	81 c4 d4 00 00
	00		 add	 esp, 212		; 000000d4H
  00087	3b ec		 cmp	 ebp, esp
  00089	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0008e	8b e5		 mov	 esp, ebp
  00090	5d		 pop	 ebp
  00091	c2 0c 00	 ret	 12			; 0000000cH
$L80623:
  00094	01 00 00 00	 DD	 1
  00098	00 00 00 00	 DD	 $L80622
$L80622:
  0009c	f0 ff ff ff	 DD	 -16			; fffffff0H
  000a0	0c 00 00 00	 DD	 12			; 0000000cH
  000a4	00 00 00 00	 DD	 $L80621
$L80621:
  000a8	76		 DB	 118			; 00000076H
  000a9	41		 DB	 65			; 00000041H
  000aa	78		 DB	 120			; 00000078H
  000ab	69		 DB	 105			; 00000069H
  000ac	73		 DB	 115			; 00000073H
  000ad	00		 DB	 0
?D3DXQuaternionUnitAxisToUnitAxis2@@YGPAUD3DXQUATERNION@@PAU1@PBUD3DXVECTOR3@@1@Z ENDP ; D3DXQuaternionUnitAxisToUnitAxis2
_TEXT	ENDS
EXTRN	_asin:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\program files\microsoft visual studio .net\vc7\include\math.h
;	COMDAT _asinf
_TEXT	SEGMENT
tv70 = -196
__X$ = 8
_asinf	PROC NEAR					; COMDAT

; 436  :         {return ((float)asin((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00021	83 ec 08	 sub	 esp, 8
  00024	dd 1c 24	 fstp	 QWORD PTR [esp]
  00027	e8 00 00 00 00	 call	 _asin
  0002c	83 c4 08	 add	 esp, 8
  0002f	d9 95 3c ff ff
	ff		 fst	 DWORD PTR tv70[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_asinf	ENDP
_TEXT	ENDS
PUBLIC	?SetViewParams@CD3DCamera@@QAEXAAUD3DXVECTOR3@@00@Z ; CD3DCamera::SetViewParams
PUBLIC	?SetProjParams@CD3DCamera@@QAEXMMMM@Z		; CD3DCamera::SetProjParams
PUBLIC	??0CD3DCamera@@QAE@XZ				; CD3DCamera::CD3DCamera
; Function compile flags: /Odt /RTCsu /ZI
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\src\d3dutil.cpp
;	COMDAT ??0CD3DCamera@@QAE@XZ
_TEXT	SEGMENT
$T80630 = -260
$T80629 = -240
$T80628 = -220
_this$ = -8
??0CD3DCamera@@QAE@XZ PROC NEAR				; CD3DCamera::CD3DCamera, COMDAT
; _this$ = ecx

; 644  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 08 01 00
	00		 sub	 esp, 264		; 00000108H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd f8 fe ff
	ff		 lea	 edi, DWORD PTR [ebp-264]
  00013	b9 42 00 00 00	 mov	 ecx, 66			; 00000042H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00026	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  0002b	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002e	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00031	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  00036	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00039	83 c1 18	 add	 ecx, 24			; 00000018H
  0003c	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  00041	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00044	83 c1 24	 add	 ecx, 36			; 00000024H
  00047	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  0004c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004f	83 c1 30	 add	 ecx, 48			; 00000030H
  00052	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3
  00057	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005a	83 c1 3c	 add	 ecx, 60			; 0000003cH
  0005d	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX
  00062	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00065	83 c1 7c	 add	 ecx, 124		; 0000007cH
  00068	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX
  0006d	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00070	81 c1 cc 00 00
	00		 add	 ecx, 204		; 000000ccH
  00076	e8 00 00 00 00	 call	 ??0D3DXMATRIX@@QAE@XZ	; D3DXMATRIX::D3DXMATRIX

; 645  :     // Set attributes for the view matrix
; 646  :     SetViewParams( D3DXVECTOR3(0.0f,0.0f,0.0f), D3DXVECTOR3(0.0f,0.0f,1.0f),
; 647  :                    D3DXVECTOR3(0.0f,1.0f,0.0f) );

  0007b	6a 00		 push	 0
  0007d	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00082	6a 00		 push	 0
  00084	8d 8d 24 ff ff
	ff		 lea	 ecx, DWORD PTR $T80628[ebp]
  0008a	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  0008f	50		 push	 eax
  00090	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  00095	6a 00		 push	 0
  00097	6a 00		 push	 0
  00099	8d 8d 10 ff ff
	ff		 lea	 ecx, DWORD PTR $T80629[ebp]
  0009f	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  000a4	50		 push	 eax
  000a5	6a 00		 push	 0
  000a7	6a 00		 push	 0
  000a9	6a 00		 push	 0
  000ab	8d 8d fc fe ff
	ff		 lea	 ecx, DWORD PTR $T80630[ebp]
  000b1	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  000b6	50		 push	 eax
  000b7	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000ba	e8 00 00 00 00	 call	 ?SetViewParams@CD3DCamera@@QAEXAAUD3DXVECTOR3@@00@Z ; CD3DCamera::SetViewParams

; 648  : 
; 649  :     // Set attributes for the projection matrix
; 650  :     SetProjParams( D3DX_PI/4, 1.0f, 1.0f, 1000.0f );

  000bf	68 00 00 7a 44	 push	 1148846080		; 447a0000H
  000c4	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000c9	68 00 00 80 3f	 push	 1065353216		; 3f800000H
  000ce	68 db 0f 49 3f	 push	 1061752795		; 3f490fdbH
  000d3	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d6	e8 00 00 00 00	 call	 ?SetProjParams@CD3DCamera@@QAEXMMMM@Z ; CD3DCamera::SetProjParams

; 651  : }

  000db	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000de	5f		 pop	 edi
  000df	5e		 pop	 esi
  000e0	5b		 pop	 ebx
  000e1	81 c4 08 01 00
	00		 add	 esp, 264		; 00000108H
  000e7	3b ec		 cmp	 ebp, esp
  000e9	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000ee	8b e5		 mov	 esp, ebp
  000f0	5d		 pop	 ebp
  000f1	c3		 ret	 0
??0CD3DCamera@@QAE@XZ ENDP				; CD3DCamera::CD3DCamera
_TEXT	ENDS
EXTRN	_D3DXMatrixInverse@12:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ?SetViewParams@CD3DCamera@@QAEXAAUD3DXVECTOR3@@00@Z
_TEXT	SEGMENT
$T80633 = -220
_this$ = -8
_vEyePt$ = 8
_vLookatPt$ = 12
_vUpVec$ = 16
?SetViewParams@CD3DCamera@@QAEXAAUD3DXVECTOR3@@00@Z PROC NEAR ; CD3DCamera::SetViewParams, COMDAT
; _this$ = ecx

; 662  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec e0 00 00
	00		 sub	 esp, 224		; 000000e0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 20 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-224]
  00013	b9 38 00 00 00	 mov	 ecx, 56			; 00000038H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 663  :     // Set attributes for the view matrix
; 664  :     m_vEyePt    = vEyePt;

  00023	8b 45 08	 mov	 eax, DWORD PTR _vEyePt$[ebp]
  00026	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00029	8b 10		 mov	 edx, DWORD PTR [eax]
  0002b	89 11		 mov	 DWORD PTR [ecx], edx
  0002d	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00030	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00033	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00036	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 665  :     m_vLookatPt = vLookatPt;

  00039	8b 45 0c	 mov	 eax, DWORD PTR _vLookatPt$[ebp]
  0003c	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003f	83 c1 0c	 add	 ecx, 12			; 0000000cH
  00042	8b 10		 mov	 edx, DWORD PTR [eax]
  00044	89 11		 mov	 DWORD PTR [ecx], edx
  00046	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00049	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  0004c	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  0004f	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 666  :     m_vUpVec    = vUpVec;

  00052	8b 45 10	 mov	 eax, DWORD PTR _vUpVec$[ebp]
  00055	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00058	83 c1 18	 add	 ecx, 24			; 00000018H
  0005b	8b 10		 mov	 edx, DWORD PTR [eax]
  0005d	89 11		 mov	 DWORD PTR [ecx], edx
  0005f	8b 50 04	 mov	 edx, DWORD PTR [eax+4]
  00062	89 51 04	 mov	 DWORD PTR [ecx+4], edx
  00065	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00068	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 667  :     D3DXVec3Normalize( &m_vView, &(m_vLookatPt - m_vEyePt) );

  0006b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006e	50		 push	 eax
  0006f	8d 8d 24 ff ff
	ff		 lea	 ecx, DWORD PTR $T80633[ebp]
  00075	51		 push	 ecx
  00076	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00079	83 c1 0c	 add	 ecx, 12			; 0000000cH
  0007c	e8 00 00 00 00	 call	 ??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z ; D3DXVECTOR3::operator-
  00081	50		 push	 eax
  00082	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00085	83 c2 24	 add	 edx, 36			; 00000024H
  00088	52		 push	 edx
  00089	e8 00 00 00 00	 call	 _D3DXVec3Normalize@8

; 668  :     D3DXVec3Cross( &m_vCross, &m_vView, &m_vUpVec );

  0008e	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00091	83 c0 18	 add	 eax, 24			; 00000018H
  00094	50		 push	 eax
  00095	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00098	83 c1 24	 add	 ecx, 36			; 00000024H
  0009b	51		 push	 ecx
  0009c	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0009f	83 c2 30	 add	 edx, 48			; 00000030H
  000a2	52		 push	 edx
  000a3	e8 00 00 00 00	 call	 ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z ; D3DXVec3Cross
  000a8	83 c4 0c	 add	 esp, 12			; 0000000cH

; 669  : 
; 670  :     D3DXMatrixLookAtLH( &m_matView, &m_vEyePt, &m_vLookatPt, &m_vUpVec );

  000ab	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ae	83 c0 18	 add	 eax, 24			; 00000018H
  000b1	50		 push	 eax
  000b2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000b5	83 c1 0c	 add	 ecx, 12			; 0000000cH
  000b8	51		 push	 ecx
  000b9	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  000bc	52		 push	 edx
  000bd	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000c0	83 c0 3c	 add	 eax, 60			; 0000003cH
  000c3	50		 push	 eax
  000c4	e8 00 00 00 00	 call	 _D3DXMatrixLookAtLH@16

; 671  :     D3DXMatrixInverse( &m_matBillboard, NULL, &m_matView );

  000c9	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000cc	83 c0 3c	 add	 eax, 60			; 0000003cH
  000cf	50		 push	 eax
  000d0	6a 00		 push	 0
  000d2	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  000d5	83 c1 7c	 add	 ecx, 124		; 0000007cH
  000d8	51		 push	 ecx
  000d9	e8 00 00 00 00	 call	 _D3DXMatrixInverse@12

; 672  :     m_matBillboard._41 = 0.0f;

  000de	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000e1	c7 80 ac 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+172], 0

; 673  :     m_matBillboard._42 = 0.0f;

  000eb	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000ee	c7 80 b0 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+176], 0

; 674  :     m_matBillboard._43 = 0.0f;

  000f8	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  000fb	c7 80 b4 00 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+180], 0

; 675  : }

  00105	5f		 pop	 edi
  00106	5e		 pop	 esi
  00107	5b		 pop	 ebx
  00108	81 c4 e0 00 00
	00		 add	 esp, 224		; 000000e0H
  0010e	3b ec		 cmp	 ebp, esp
  00110	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00115	8b e5		 mov	 esp, ebp
  00117	5d		 pop	 ebp
  00118	c2 0c 00	 ret	 12			; 0000000cH
?SetViewParams@CD3DCamera@@QAEXAAUD3DXVECTOR3@@00@Z ENDP ; CD3DCamera::SetViewParams
_TEXT	ENDS
EXTRN	_sqrt:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\program files\microsoft visual studio .net\vc7\include\math.h
;	COMDAT _sqrtf
_TEXT	SEGMENT
tv70 = -196
__X$ = 8
_sqrtf	PROC NEAR					; COMDAT

; 470  :         {return ((float)sqrt((double)_X)); }

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c4 00 00
	00		 sub	 esp, 196		; 000000c4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 3c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-196]
  00012	b9 31 00 00 00	 mov	 ecx, 49			; 00000031H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd
  0001e	d9 45 08	 fld	 DWORD PTR __X$[ebp]
  00021	83 ec 08	 sub	 esp, 8
  00024	dd 1c 24	 fstp	 QWORD PTR [esp]
  00027	e8 00 00 00 00	 call	 _sqrt
  0002c	83 c4 08	 add	 esp, 8
  0002f	d9 95 3c ff ff
	ff		 fst	 DWORD PTR tv70[ebp]
  00035	5f		 pop	 edi
  00036	5e		 pop	 esi
  00037	5b		 pop	 ebx
  00038	81 c4 c4 00 00
	00		 add	 esp, 196		; 000000c4H
  0003e	3b ec		 cmp	 ebp, esp
  00040	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00045	8b e5		 mov	 esp, ebp
  00047	5d		 pop	 ebp
  00048	c3		 ret	 0
_sqrtf	ENDP
_TEXT	ENDS
EXTRN	_D3DXMatrixPerspectiveFovLH@20:NEAR
; Function compile flags: /Odt /RTCsu /ZI
; File c:\documents and settings\dom\my documents\_dev\ae\xlr8a\x7g\d3dframe8.1 custom\src\d3dutil.cpp
;	COMDAT ?SetProjParams@CD3DCamera@@QAEXMMMM@Z
_TEXT	SEGMENT
_this$ = -8
_fFOV$ = 8
_fAspect$ = 12
_fNearPlane$ = 16
_fFarPlane$ = 20
?SetProjParams@CD3DCamera@@QAEXMMMM@Z PROC NEAR		; CD3DCamera::SetProjParams, COMDAT
; _this$ = ecx

; 686  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 687  :     // Set attributes for the projection matrix
; 688  :     m_fFOV        = fFOV;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fFOV$[ebp]
  00029	89 88 bc 00 00
	00		 mov	 DWORD PTR [eax+188], ecx

; 689  :     m_fAspect     = fAspect;

  0002f	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00032	8b 4d 0c	 mov	 ecx, DWORD PTR _fAspect$[ebp]
  00035	89 88 c0 00 00
	00		 mov	 DWORD PTR [eax+192], ecx

; 690  :     m_fNearPlane  = fNearPlane;

  0003b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0003e	8b 4d 10	 mov	 ecx, DWORD PTR _fNearPlane$[ebp]
  00041	89 88 c4 00 00
	00		 mov	 DWORD PTR [eax+196], ecx

; 691  :     m_fFarPlane   = fFarPlane;

  00047	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0004a	8b 4d 14	 mov	 ecx, DWORD PTR _fFarPlane$[ebp]
  0004d	89 88 c8 00 00
	00		 mov	 DWORD PTR [eax+200], ecx

; 692  : 
; 693  :     D3DXMatrixPerspectiveFovLH( &m_matProj, fFOV, fAspect, fNearPlane, fFarPlane );

  00053	8b 45 14	 mov	 eax, DWORD PTR _fFarPlane$[ebp]
  00056	50		 push	 eax
  00057	8b 4d 10	 mov	 ecx, DWORD PTR _fNearPlane$[ebp]
  0005a	51		 push	 ecx
  0005b	8b 55 0c	 mov	 edx, DWORD PTR _fAspect$[ebp]
  0005e	52		 push	 edx
  0005f	8b 45 08	 mov	 eax, DWORD PTR _fFOV$[ebp]
  00062	50		 push	 eax
  00063	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00066	81 c1 cc 00 00
	00		 add	 ecx, 204		; 000000ccH
  0006c	51		 push	 ecx
  0006d	e8 00 00 00 00	 call	 _D3DXMatrixPerspectiveFovLH@20

; 694  : }

  00072	5f		 pop	 edi
  00073	5e		 pop	 esi
  00074	5b		 pop	 ebx
  00075	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  0007b	3b ec		 cmp	 ebp, esp
  0007d	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00082	8b e5		 mov	 esp, ebp
  00084	5d		 pop	 ebp
  00085	c2 10 00	 ret	 16			; 00000010H
?SetProjParams@CD3DCamera@@QAEXMMMM@Z ENDP		; CD3DCamera::SetProjParams
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.h
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXVECTOR3@@QAE@XZ PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 89   :     D3DXVECTOR3() {};

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXVECTOR3@@QAE@XZ ENDP				; D3DXVECTOR3::D3DXVECTOR3
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXMATRIX@@QAE@XZ PROC NEAR				; D3DXMATRIX::D3DXMATRIX, COMDAT
; _this$ = ecx

; 177  :     D3DXMATRIX() {};

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXMATRIX@@QAE@XZ ENDP				; D3DXMATRIX::D3DXMATRIX
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8
??0D3DXQUATERNION@@QAE@XZ PROC NEAR			; D3DXQUATERNION::D3DXQUATERNION, COMDAT
; _this$ = ecx

; 333  :     D3DXQUATERNION() {}

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx
  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	5f		 pop	 edi
  00027	5e		 pop	 esi
  00028	5b		 pop	 ebx
  00029	8b e5		 mov	 esp, ebp
  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
??0D3DXQUATERNION@@QAE@XZ ENDP				; D3DXQUATERNION::D3DXQUATERNION
; Function compile flags: /Odt /RTCsu /ZI
; File c:\dxsdk\include\d3dx8math.inl
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT
_this$ = -8
_fx$ = 8
_fy$ = 12
_fz$ = 16
??0D3DXVECTOR3@@QAE@MMM@Z PROC NEAR			; D3DXVECTOR3::D3DXVECTOR3, COMDAT
; _this$ = ecx

; 179  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 180  :     x = fx;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fx$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 181  :     y = fy;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _fy$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 182  :     z = fz;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fz$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 183  : }

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	5f		 pop	 edi
  00041	5e		 pop	 esi
  00042	5b		 pop	 ebx
  00043	8b e5		 mov	 esp, ebp
  00045	5d		 pop	 ebp
  00046	c2 0c 00	 ret	 12			; 0000000cH
??0D3DXVECTOR3@@QAE@MMM@Z ENDP				; D3DXVECTOR3::D3DXVECTOR3
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT
_this$ = -8
___$ReturnUdt$ = 8
_v$ = 12
??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator+, COMDAT
; _this$ = ecx

; 256  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 257  :     return D3DXVECTOR3(x + v.x, y + v.y, z + v.z);

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 0c	 mov	 ecx, DWORD PTR _v$[ebp]
  00029	d9 40 08	 fld	 DWORD PTR [eax+8]
  0002c	d8 41 08	 fadd	 DWORD PTR [ecx+8]
  0002f	51		 push	 ecx
  00030	d9 1c 24	 fstp	 DWORD PTR [esp]
  00033	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00036	8b 45 0c	 mov	 eax, DWORD PTR _v$[ebp]
  00039	d9 42 04	 fld	 DWORD PTR [edx+4]
  0003c	d8 40 04	 fadd	 DWORD PTR [eax+4]
  0003f	51		 push	 ecx
  00040	d9 1c 24	 fstp	 DWORD PTR [esp]
  00043	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00046	8b 55 0c	 mov	 edx, DWORD PTR _v$[ebp]
  00049	d9 01		 fld	 DWORD PTR [ecx]
  0004b	d8 02		 fadd	 DWORD PTR [edx]
  0004d	51		 push	 ecx
  0004e	d9 1c 24	 fstp	 DWORD PTR [esp]
  00051	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  00054	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00059	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]

; 258  : }

  0005c	5f		 pop	 edi
  0005d	5e		 pop	 esi
  0005e	5b		 pop	 ebx
  0005f	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00065	3b ec		 cmp	 ebp, esp
  00067	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0006c	8b e5		 mov	 esp, ebp
  0006e	5d		 pop	 ebp
  0006f	c2 08 00	 ret	 8
??HD3DXVECTOR3@@QBE?AU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator+
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z
_TEXT	SEGMENT
_this$ = -8
___$ReturnUdt$ = 8
_v$ = 12
??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z PROC NEAR		; D3DXVECTOR3::operator-, COMDAT
; _this$ = ecx

; 262  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 263  :     return D3DXVECTOR3(x - v.x, y - v.y, z - v.z);

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 0c	 mov	 ecx, DWORD PTR _v$[ebp]
  00029	d9 40 08	 fld	 DWORD PTR [eax+8]
  0002c	d8 61 08	 fsub	 DWORD PTR [ecx+8]
  0002f	51		 push	 ecx
  00030	d9 1c 24	 fstp	 DWORD PTR [esp]
  00033	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00036	8b 45 0c	 mov	 eax, DWORD PTR _v$[ebp]
  00039	d9 42 04	 fld	 DWORD PTR [edx+4]
  0003c	d8 60 04	 fsub	 DWORD PTR [eax+4]
  0003f	51		 push	 ecx
  00040	d9 1c 24	 fstp	 DWORD PTR [esp]
  00043	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00046	8b 55 0c	 mov	 edx, DWORD PTR _v$[ebp]
  00049	d9 01		 fld	 DWORD PTR [ecx]
  0004b	d8 22		 fsub	 DWORD PTR [edx]
  0004d	51		 push	 ecx
  0004e	d9 1c 24	 fstp	 DWORD PTR [esp]
  00051	8b 4d 08	 mov	 ecx, DWORD PTR ___$ReturnUdt$[ebp]
  00054	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@MMM@Z ; D3DXVECTOR3::D3DXVECTOR3
  00059	8b 45 08	 mov	 eax, DWORD PTR ___$ReturnUdt$[ebp]

; 264  : }

  0005c	5f		 pop	 edi
  0005d	5e		 pop	 esi
  0005e	5b		 pop	 ebx
  0005f	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00065	3b ec		 cmp	 ebp, esp
  00067	e8 00 00 00 00	 call	 __RTC_CheckEsp
  0006c	8b e5		 mov	 esp, ebp
  0006e	5d		 pop	 ebp
  0006f	c2 08 00	 ret	 8
??GD3DXVECTOR3@@QBE?AU0@ABU0@@Z ENDP			; D3DXVECTOR3::operator-
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT
_this$ = -8
_fx$ = 8
_fy$ = 12
_fz$ = 16
_fw$ = 20
??0D3DXQUATERNION@@QAE@MMMM@Z PROC NEAR			; D3DXQUATERNION::D3DXQUATERNION, COMDAT
; _this$ = ecx

; 666  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 667  :     x = fx;

  00023	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00026	8b 4d 08	 mov	 ecx, DWORD PTR _fx$[ebp]
  00029	89 08		 mov	 DWORD PTR [eax], ecx

; 668  :     y = fy;

  0002b	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0002e	8b 4d 0c	 mov	 ecx, DWORD PTR _fy$[ebp]
  00031	89 48 04	 mov	 DWORD PTR [eax+4], ecx

; 669  :     z = fz;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00037	8b 4d 10	 mov	 ecx, DWORD PTR _fz$[ebp]
  0003a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 670  :     w = fw;

  0003d	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00040	8b 4d 14	 mov	 ecx, DWORD PTR _fw$[ebp]
  00043	89 48 0c	 mov	 DWORD PTR [eax+12], ecx

; 671  : }

  00046	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  00049	5f		 pop	 edi
  0004a	5e		 pop	 esi
  0004b	5b		 pop	 ebx
  0004c	8b e5		 mov	 esp, ebp
  0004e	5d		 pop	 ebp
  0004f	c2 10 00	 ret	 16			; 00000010H
??0D3DXQUATERNION@@QAE@MMMM@Z ENDP			; D3DXQUATERNION::D3DXQUATERNION
_TEXT	ENDS
EXTRN	_D3DXQuaternionMultiply@12:NEAR
; Function compile flags: /Odt /RTCsu /ZI
;	COMDAT ??XD3DXQUATERNION@@QAEAAU0@ABU0@@Z
_TEXT	SEGMENT
_this$ = -8
_q$ = 8
??XD3DXQUATERNION@@QAEAAU0@ABU0@@Z PROC NEAR		; D3DXQUATERNION::operator*=, COMDAT
; _this$ = ecx

; 711  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	51		 push	 ecx
  0000d	8d bd 34 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-204]
  00013	b9 33 00 00 00	 mov	 ecx, 51			; 00000033H
  00018	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001d	f3 ab		 rep stosd
  0001f	59		 pop	 ecx
  00020	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 712  :     D3DXQuaternionMultiply(this, this, &q);

  00023	8b 45 08	 mov	 eax, DWORD PTR _q$[ebp]
  00026	50		 push	 eax
  00027	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002a	51		 push	 ecx
  0002b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0002e	52		 push	 edx
  0002f	e8 00 00 00 00	 call	 _D3DXQuaternionMultiply@12

; 713  :     return *this;

  00034	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]

; 714  : }

  00037	5f		 pop	 edi
  00038	5e		 pop	 esi
  00039	5b		 pop	 ebx
  0003a	81 c4 cc 00 00
	00		 add	 esp, 204		; 000000ccH
  00040	3b ec		 cmp	 ebp, esp
  00042	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00047	8b e5		 mov	 esp, ebp
  00049	5d		 pop	 ebp
  0004a	c2 04 00	 ret	 4
??XD3DXQUATERNION@@QAEAAU0@ABU0@@Z ENDP			; D3DXQUATERNION::operator*=
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z
_TEXT	SEGMENT
_pV$ = 8
?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z PROC NEAR	; D3DXVec3Length, COMDAT

; 1232 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1233 : #ifdef D3DX_DEBUG
; 1234 :     if(!pV)
; 1235 :         return 0.0f;
; 1236 : #endif
; 1237 : 
; 1238 : #ifdef __cplusplus
; 1239 :     return sqrtf(pV->x * pV->x + pV->y * pV->y + pV->z * pV->z);

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pV$[ebp]
  00021	8b 4d 08	 mov	 ecx, DWORD PTR _pV$[ebp]
  00024	d9 00		 fld	 DWORD PTR [eax]
  00026	d8 09		 fmul	 DWORD PTR [ecx]
  00028	8b 55 08	 mov	 edx, DWORD PTR _pV$[ebp]
  0002b	8b 45 08	 mov	 eax, DWORD PTR _pV$[ebp]
  0002e	d9 42 04	 fld	 DWORD PTR [edx+4]
  00031	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00034	de c1		 faddp	 ST(1), ST(0)
  00036	8b 4d 08	 mov	 ecx, DWORD PTR _pV$[ebp]
  00039	8b 55 08	 mov	 edx, DWORD PTR _pV$[ebp]
  0003c	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0003f	d8 4a 08	 fmul	 DWORD PTR [edx+8]
  00042	de c1		 faddp	 ST(1), ST(0)
  00044	51		 push	 ecx
  00045	d9 1c 24	 fstp	 DWORD PTR [esp]
  00048	e8 00 00 00 00	 call	 _sqrtf
  0004d	83 c4 04	 add	 esp, 4

; 1240 : #else
; 1241 :     return (FLOAT) sqrt(pV->x * pV->x + pV->y * pV->y + pV->z * pV->z);
; 1242 : #endif
; 1243 : }

  00050	5f		 pop	 edi
  00051	5e		 pop	 esi
  00052	5b		 pop	 ebx
  00053	81 c4 c0 00 00
	00		 add	 esp, 192		; 000000c0H
  00059	3b ec		 cmp	 ebp, esp
  0005b	e8 00 00 00 00	 call	 __RTC_CheckEsp
  00060	8b e5		 mov	 esp, ebp
  00062	5d		 pop	 ebp
  00063	c3		 ret	 0
?D3DXVec3Length@@YAMPBUD3DXVECTOR3@@@Z ENDP		; D3DXVec3Length
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z
_TEXT	SEGMENT
_pV1$ = 8
_pV2$ = 12
?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z PROC NEAR		; D3DXVec3Dot, COMDAT

; 1258 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1259 : #ifdef D3DX_DEBUG
; 1260 :     if(!pV1 || !pV2)
; 1261 :         return 0.0f;
; 1262 : #endif
; 1263 : 
; 1264 :     return pV1->x * pV2->x + pV1->y * pV2->y + pV1->z * pV2->z;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pV1$[ebp]
  00021	8b 4d 0c	 mov	 ecx, DWORD PTR _pV2$[ebp]
  00024	d9 00		 fld	 DWORD PTR [eax]
  00026	d8 09		 fmul	 DWORD PTR [ecx]
  00028	8b 55 08	 mov	 edx, DWORD PTR _pV1$[ebp]
  0002b	8b 45 0c	 mov	 eax, DWORD PTR _pV2$[ebp]
  0002e	d9 42 04	 fld	 DWORD PTR [edx+4]
  00031	d8 48 04	 fmul	 DWORD PTR [eax+4]
  00034	de c1		 faddp	 ST(1), ST(0)
  00036	8b 4d 08	 mov	 ecx, DWORD PTR _pV1$[ebp]
  00039	8b 55 0c	 mov	 edx, DWORD PTR _pV2$[ebp]
  0003c	d9 41 08	 fld	 DWORD PTR [ecx+8]
  0003f	d8 4a 08	 fmul	 DWORD PTR [edx+8]
  00042	de c1		 faddp	 ST(1), ST(0)

; 1265 : }

  00044	5f		 pop	 edi
  00045	5e		 pop	 esi
  00046	5b		 pop	 ebx
  00047	8b e5		 mov	 esp, ebp
  00049	5d		 pop	 ebp
  0004a	c3		 ret	 0
?D3DXVec3Dot@@YAMPBUD3DXVECTOR3@@0@Z ENDP		; D3DXVec3Dot
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z
_TEXT	SEGMENT
_v$ = -16
_pOut$ = 8
_pV1$ = 12
_pV2$ = 16
?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z PROC NEAR ; D3DXVec3Cross, COMDAT

; 1269 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec d4 00 00
	00		 sub	 esp, 212		; 000000d4H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 2c ff ff
	ff		 lea	 edi, DWORD PTR [ebp-212]
  00012	b9 35 00 00 00	 mov	 ecx, 53			; 00000035H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1270 :     D3DXVECTOR3 v;

  0001e	8d 4d f0	 lea	 ecx, DWORD PTR _v$[ebp]
  00021	e8 00 00 00 00	 call	 ??0D3DXVECTOR3@@QAE@XZ	; D3DXVECTOR3::D3DXVECTOR3

; 1271 : 
; 1272 : #ifdef D3DX_DEBUG
; 1273 :     if(!pOut || !pV1 || !pV2)
; 1274 :         return NULL;
; 1275 : #endif
; 1276 : 
; 1277 :     v.x = pV1->y * pV2->z - pV1->z * pV2->y;

  00026	8b 45 0c	 mov	 eax, DWORD PTR _pV1$[ebp]
  00029	8b 4d 10	 mov	 ecx, DWORD PTR _pV2$[ebp]
  0002c	d9 40 04	 fld	 DWORD PTR [eax+4]
  0002f	d8 49 08	 fmul	 DWORD PTR [ecx+8]
  00032	8b 55 0c	 mov	 edx, DWORD PTR _pV1$[ebp]
  00035	8b 45 10	 mov	 eax, DWORD PTR _pV2$[ebp]
  00038	d9 42 08	 fld	 DWORD PTR [edx+8]
  0003b	d8 48 04	 fmul	 DWORD PTR [eax+4]
  0003e	de e9		 fsubp	 ST(1), ST(0)
  00040	d9 5d f0	 fstp	 DWORD PTR _v$[ebp]

; 1278 :     v.y = pV1->z * pV2->x - pV1->x * pV2->z;

  00043	8b 45 0c	 mov	 eax, DWORD PTR _pV1$[ebp]
  00046	8b 4d 10	 mov	 ecx, DWORD PTR _pV2$[ebp]
  00049	d9 40 08	 fld	 DWORD PTR [eax+8]
  0004c	d8 09		 fmul	 DWORD PTR [ecx]
  0004e	8b 55 0c	 mov	 edx, DWORD PTR _pV1$[ebp]
  00051	8b 45 10	 mov	 eax, DWORD PTR _pV2$[ebp]
  00054	d9 02		 fld	 DWORD PTR [edx]
  00056	d8 48 08	 fmul	 DWORD PTR [eax+8]
  00059	de e9		 fsubp	 ST(1), ST(0)
  0005b	d9 5d f4	 fstp	 DWORD PTR _v$[ebp+4]

; 1279 :     v.z = pV1->x * pV2->y - pV1->y * pV2->x;

  0005e	8b 45 0c	 mov	 eax, DWORD PTR _pV1$[ebp]
  00061	8b 4d 10	 mov	 ecx, DWORD PTR _pV2$[ebp]
  00064	d9 00		 fld	 DWORD PTR [eax]
  00066	d8 49 04	 fmul	 DWORD PTR [ecx+4]
  00069	8b 55 0c	 mov	 edx, DWORD PTR _pV1$[ebp]
  0006c	8b 45 10	 mov	 eax, DWORD PTR _pV2$[ebp]
  0006f	d9 42 04	 fld	 DWORD PTR [edx+4]
  00072	d8 08		 fmul	 DWORD PTR [eax]
  00074	de e9		 fsubp	 ST(1), ST(0)
  00076	d9 5d f8	 fstp	 DWORD PTR _v$[ebp+8]

; 1280 : 
; 1281 :     *pOut = v;

  00079	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0007c	8b 4d f0	 mov	 ecx, DWORD PTR _v$[ebp]
  0007f	89 08		 mov	 DWORD PTR [eax], ecx
  00081	8b 55 f4	 mov	 edx, DWORD PTR _v$[ebp+4]
  00084	89 50 04	 mov	 DWORD PTR [eax+4], edx
  00087	8b 4d f8	 mov	 ecx, DWORD PTR _v$[ebp+8]
  0008a	89 48 08	 mov	 DWORD PTR [eax+8], ecx

; 1282 :     return pOut;

  0008d	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]

; 1283 : }

  00090	52		 push	 edx
  00091	8b cd		 mov	 ecx, ebp
  00093	50		 push	 eax
  00094	8d 15 00 00 00
	00		 lea	 edx, DWORD PTR $L80662
  0009a	e8 00 00 00 00	 call	 @_RTC_CheckStackVars@8
  0009f	58		 pop	 eax
  000a0	5a		 pop	 edx
  000a1	5f		 pop	 edi
  000a2	5e		 pop	 esi
  000a3	5b		 pop	 ebx
  000a4	81 c4 d4 00 00
	00		 add	 esp, 212		; 000000d4H
  000aa	3b ec		 cmp	 ebp, esp
  000ac	e8 00 00 00 00	 call	 __RTC_CheckEsp
  000b1	8b e5		 mov	 esp, ebp
  000b3	5d		 pop	 ebp
  000b4	c3		 ret	 0
$L80662:
  000b5	01 00 00 00	 DD	 1
  000b9	00 00 00 00	 DD	 $L80661
$L80661:
  000bd	f0 ff ff ff	 DD	 -16			; fffffff0H
  000c1	0c 00 00 00	 DD	 12			; 0000000cH
  000c5	00 00 00 00	 DD	 $L80660
$L80660:
  000c9	76		 DB	 118			; 00000076H
  000ca	00		 DB	 0
?D3DXVec3Cross@@YAPAUD3DXVECTOR3@@PAU1@PBU1@1@Z ENDP	; D3DXVec3Cross
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z
_TEXT	SEGMENT
_pOut$ = 8
?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z PROC NEAR	; D3DXMatrixIdentity, COMDAT

; 1510 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1511 : #ifdef D3DX_DEBUG
; 1512 :     if(!pOut)
; 1513 :         return NULL;
; 1514 : #endif
; 1515 : 
; 1516 :     pOut->m[0][1] = pOut->m[0][2] = pOut->m[0][3] =
; 1517 :     pOut->m[1][0] = pOut->m[1][2] = pOut->m[1][3] =
; 1518 :     pOut->m[2][0] = pOut->m[2][1] = pOut->m[2][3] =
; 1519 :     pOut->m[3][0] = pOut->m[3][1] = pOut->m[3][2] = 0.0f;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00021	c7 40 38 00 00
	00 00		 mov	 DWORD PTR [eax+56], 0
  00028	8b 4d 08	 mov	 ecx, DWORD PTR _pOut$[ebp]
  0002b	c7 41 34 00 00
	00 00		 mov	 DWORD PTR [ecx+52], 0
  00032	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  00035	c7 42 30 00 00
	00 00		 mov	 DWORD PTR [edx+48], 0
  0003c	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0003f	c7 40 2c 00 00
	00 00		 mov	 DWORD PTR [eax+44], 0
  00046	8b 4d 08	 mov	 ecx, DWORD PTR _pOut$[ebp]
  00049	c7 41 24 00 00
	00 00		 mov	 DWORD PTR [ecx+36], 0
  00050	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  00053	c7 42 20 00 00
	00 00		 mov	 DWORD PTR [edx+32], 0
  0005a	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0005d	c7 40 1c 00 00
	00 00		 mov	 DWORD PTR [eax+28], 0
  00064	8b 4d 08	 mov	 ecx, DWORD PTR _pOut$[ebp]
  00067	c7 41 18 00 00
	00 00		 mov	 DWORD PTR [ecx+24], 0
  0006e	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  00071	c7 42 10 00 00
	00 00		 mov	 DWORD PTR [edx+16], 0
  00078	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0007b	c7 40 0c 00 00
	00 00		 mov	 DWORD PTR [eax+12], 0
  00082	8b 4d 08	 mov	 ecx, DWORD PTR _pOut$[ebp]
  00085	c7 41 08 00 00
	00 00		 mov	 DWORD PTR [ecx+8], 0
  0008c	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  0008f	c7 42 04 00 00
	00 00		 mov	 DWORD PTR [edx+4], 0

; 1520 : 
; 1521 :     pOut->m[0][0] = pOut->m[1][1] = pOut->m[2][2] = pOut->m[3][3] = 1.0f;

  00096	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00099	c7 40 3c 00 00
	80 3f		 mov	 DWORD PTR [eax+60], 1065353216 ; 3f800000H
  000a0	8b 4d 08	 mov	 ecx, DWORD PTR _pOut$[ebp]
  000a3	c7 41 28 00 00
	80 3f		 mov	 DWORD PTR [ecx+40], 1065353216 ; 3f800000H
  000aa	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  000ad	c7 42 14 00 00
	80 3f		 mov	 DWORD PTR [edx+20], 1065353216 ; 3f800000H
  000b4	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  000b7	c7 00 00 00 80
	3f		 mov	 DWORD PTR [eax], 1065353216 ; 3f800000H

; 1522 :     return pOut;

  000bd	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]

; 1523 : }

  000c0	5f		 pop	 edi
  000c1	5e		 pop	 esi
  000c2	5b		 pop	 ebx
  000c3	8b e5		 mov	 esp, ebp
  000c5	5d		 pop	 ebp
  000c6	c3		 ret	 0
?D3DXMatrixIdentity@@YAPAUD3DXMATRIX@@PAU1@@Z ENDP	; D3DXMatrixIdentity
; Function compile flags: /Odt /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z
_TEXT	SEGMENT
_pOut$ = 8
?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z PROC NEAR ; D3DXQuaternionIdentity, COMDAT

; 1585 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec c0 00 00
	00		 sub	 esp, 192		; 000000c0H
  00009	53		 push	 ebx
  0000a	56		 push	 esi
  0000b	57		 push	 edi
  0000c	8d bd 40 ff ff
	ff		 lea	 edi, DWORD PTR [ebp-192]
  00012	b9 30 00 00 00	 mov	 ecx, 48			; 00000030H
  00017	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  0001c	f3 ab		 rep stosd

; 1586 : #ifdef D3DX_DEBUG
; 1587 :     if(!pOut)
; 1588 :         return NULL;
; 1589 : #endif
; 1590 : 
; 1591 :     pOut->x = pOut->y = pOut->z = 0.0f;

  0001e	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  00021	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0
  00028	8b 4d 08	 mov	 ecx, DWORD PTR _pOut$[ebp]
  0002b	c7 41 04 00 00
	00 00		 mov	 DWORD PTR [ecx+4], 0
  00032	8b 55 08	 mov	 edx, DWORD PTR _pOut$[ebp]
  00035	c7 02 00 00 00
	00		 mov	 DWORD PTR [edx], 0

; 1592 :     pOut->w = 1.0f;

  0003b	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]
  0003e	c7 40 0c 00 00
	80 3f		 mov	 DWORD PTR [eax+12], 1065353216 ; 3f800000H

; 1593 :     return pOut;

  00045	8b 45 08	 mov	 eax, DWORD PTR _pOut$[ebp]

; 1594 : }

  00048	5f		 pop	 edi
  00049	5e		 pop	 esi
  0004a	5b		 pop	 ebx
  0004b	8b e5		 mov	 esp, ebp
  0004d	5d		 pop	 ebp
  0004e	c3		 ret	 0
?D3DXQuaternionIdentity@@YAPAUD3DXQUATERNION@@PAU1@@Z ENDP ; D3DXQuaternionIdentity
_TEXT	ENDS
END
